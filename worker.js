var requirejs,require,define,define_enum_constant,enum_strings,debuggable_enums,next_enum;(function(a){function l(a,b){return j.call(a,b)}function m(a,b){var c,d,e,f,g,i,j,k,l,m,n=b&&b.split("/"),o=h.map,p=o&&o["*"]||{};if(a&&a.charAt(0)===".")if(b){n=n.slice(0,n.length-1),a=n.concat(a.split("/"));for(k=0;k<a.length;k+=1){m=a[k];if(m===".")a.splice(k,1),k-=1;else if(m===".."){if(k===1&&(a[2]===".."||a[0]===".."))break;k>0&&(a.splice(k-1,2),k-=2)}}a=a.join("/")}else a.indexOf("./")===0&&(a=a.substring(2));if((n||p)&&o){c=a.split("/");for(k=c.length;k>0;k-=1){d=c.slice(0,k).join("/");if(n)for(l=n.length;l>0;l-=1){e=o[n.slice(0,l).join("/")];if(e){e=e[d];if(e){f=e,g=k;break}}}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,g=j),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function n(b,d){return function(){return c.apply(a,k.call(arguments,0).concat([b,d]))}}function o(a){return function(b){return m(b,a)}}function p(a){return function(b){f[a]=b}}function q(c){var d;l(g,c)&&(d=g[c],delete g[c],i[c]=!0,b.apply(a,d));if(!l(f,c)&&!l(i,c))throw new Error("No "+c);return f[c]}function r(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function s(a){return function(){return h&&h.config&&h.config[a]||{}}}var b,c,d,e,f={},g={},h={},i={},j=Object.prototype.hasOwnProperty,k=[].slice;d=function(a,b){var c,d=r(a),e=d[0];return a=d[1],e&&(e=m(e,b),c=q(e)),e?c&&c.normalize?a=c.normalize(a,o(b)):a=m(a,b):(a=m(a,b),d=r(a),e=d[0],a=d[1],e&&(c=q(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},e={require:function(a){return n(a)},exports:function(a){var b=f[a];return typeof b!="undefined"?b:f[a]={}},module:function(a){return{id:a,uri:"",exports:f[a],config:s(a)}}},b=function(b,c,h,j){var k,m,o,r,s,t,u=[];j=j||b;if(typeof h=="function"){c=!c.length&&h.length?["require","exports","module"]:c;for(s=0;s<c.length;s+=1){r=d(c[s],j),m=r.f;if(m==="require")u[s]=e.require(b);else if(m==="exports")u[s]=e.exports(b),t=!0;else if(m==="module")k=u[s]=e.module(b);else if(l(f,m)||l(g,m)||l(i,m))u[s]=q(m);else{if(!r.p)throw new Error(b+" missing "+m);r.p.load(r.n,n(j,!0),p(m),{}),u[s]=f[m]}}o=h.apply(f[b],u);if(b)if(k&&k.exports!==a&&k.exports!==f[b])f[b]=k.exports;else if(o!==a||!t)f[b]=o}else b&&(f[b]=h)},requirejs=require=c=function(f,g,i,j,k){return typeof f=="string"?e[f]?e[f](g):q(d(f,g).f):(f.splice||(h=f,g.splice?(f=g,g=i,i=null):f=a),g=g||function(){},typeof i=="function"&&(i=j,j=k),j?b(a,f,g,i):setTimeout(function(){b(a,f,g,i)},4),c)},c.config=function(a){return h=a,h.deps&&c(h.deps,h.callback),c},define=function(a,b,c){b.splice||(c=b,b=[]),!l(f,a)&&!l(g,a)&&(g[a]=[a,b,c])},define.amd={jQuery:!0}})(),define("vendor/almond",function(){}),define("pjs",[],function(){var a=function(a,b,c){function d(a){return typeof a=="object"}function e(a){return typeof a=="function"}function f(){}function g(h,i){function j(){var a=new k;return e(a.init)&&a.init.apply(a,arguments),a}function k(){}i===c&&(i=h,h=Object),j.Bare=k;var l=f[a]=h[a],m=k[a]=j[a]=new f,n;return m.constructor=j,j.mixin=function(b){return k[a]=j[a]=g(j,b)[a],j},(j.open=function(a){n={},e(a)?n=a.call(j,m,l,j,h):d(a)&&(n=a);if(d(n))for(var c in n)b.call(n,c)&&(m[c]=n[c]);return e(m.init)||(m.init=h),j})(i)}return g}("prototype",{}.hasOwnProperty);return a}),function(){function K(a,b,c){var d,e,f,g,h;if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;a._chain&&(a=a._wrapped),b._chain&&(b=b._wrapped);if(a.isEqual&&J.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&J.isFunction(b.isEqual))return b.isEqual(a);d=v.call(a);if(d!=v.call(b))return!1;switch(d){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return!1;e=c.length;while(e--)if(c[e]==a)return!0;c.push(a),f=0,g=!0;if(d=="[object Array]"){f=a.length,g=f==b.length;if(g)while(f--)if(!(g=f in a==f in b&&K(a[f],b[f],c)))break}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return!1;for(h in a)if(J.has(a,h)){f++;if(!(g=J.has(b,h)&&K(a[h],b[h],c)))break}if(g){for(h in b)if(J.has(b,h)&&!(f--))break;g=!f}}return c.pop(),g}var a,b,c,d,e,f,g,h,i,j,k,l,m,n=this,o=n._,p={},q=Array.prototype,r=Object.prototype,s=Function.prototype,t=q.slice,u=q.unshift,v=r.toString,w=r.hasOwnProperty,x=q.forEach,y=q.map,z=q.reduce,A=q.reduceRight,B=q.filter,C=q.every,D=q.some,E=q.indexOf,F=q.lastIndexOf,G=Array.isArray,H=Object.keys,I=s.bind,J=function(a){return new k(a)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=J),exports._=J):n._=J,J.VERSION="1.3.3",a=J.each=J.forEach=function(a,b,c){if(a==null)return;if(x&&a.forEach===x)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(d in a&&b.call(c,a[d],d,a)===p)return}else for(var f in a)if(J.has(a,f)&&b.call(c,a[f],f,a)===p)return},J.map=J.collect=function(b,c,d){var e=[];return b==null?e:y&&b.map===y?b.map(c,d):(a(b,function(a,b,f){e[e.length]=c.call(d,a,b,f)}),b.length===+b.length&&(e.length=b.length),e)},J.reduce=J.foldl=J.inject=function(b,c,d,e){var f=arguments.length>2;b==null&&(b=[]);if(z&&b.reduce===z)return e&&(c=J.bind(c,e)),f?b.reduce(c,d):b.reduce(c);a(b,function(a,b,g){f?d=c.call(e,d,a,b,g):(d=a,f=!0)});if(!f)throw new TypeError("Reduce of empty array with no initial value");return d},J.reduceRight=J.foldr=function(a,b,c,d){var e,f=arguments.length>2;return a==null&&(a=[]),A&&a.reduceRight===A?(d&&(b=J.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b)):(e=J.toArray(a).reverse(),d&&!f&&(b=J.bind(b,d)),f?J.reduce(e,b,c,d):J.reduce(e,b))},J.find=J.detect=function(a,c,d){var e;return b(a,function(a,b,f){if(c.call(d,a,b,f))return e=a,!0}),e},J.filter=J.select=function(b,c,d){var e=[];return b==null?e:B&&b.filter===B?b.filter(c,d):(a(b,function(a,b,f){c.call(d,a,b,f)&&(e[e.length]=a)}),e)},J.reject=function(b,c,d){var e=[];return b==null?e:(a(b,function(a,b,f){c.call(d,a,b,f)||(e[e.length]=a)}),e)},J.every=J.all=function(b,c,d){var e=!0;return b==null?e:C&&b.every===C?b.every(c,d):(a(b,function(a,b,f){if(!(e=e&&c.call(d,a,b,f)))return p}),!!e)},b=J.some=J.any=function(b,c,d){c||(c=J.identity);var e=!1;return b==null?e:D&&b.some===D?b.some(c,d):(a(b,function(a,b,f){if(e||(e=c.call(d,a,b,f)))return p}),!!e)},J.include=J.contains=function(a,c){var d=!1;return a==null?d:E&&a.indexOf===E?a.indexOf(c)!=-1:(d=b(a,function(a){return a===c}),d)},J.invoke=function(a,b){var c=t.call(arguments,2);return J.map(a,function(a){return(J.isFunction(b)?b||a:a[b]).apply(a,c)})},J.pluck=function(a,b){return J.map(a,function(a){return a[b]})},J.max=function(b,c,d){var e;return!c&&J.isArray(b)&&b[0]===+b[0]?Math.max.apply(Math,b):!c&&J.isEmpty(b)?-Infinity:(e={computed:-Infinity},a(b,function(a,b,f){var g=c?c.call(d,a,b,f):a;g>=e.computed&&(e={value:a,computed:g})}),e.value)},J.min=function(b,c,d){var e;return!c&&J.isArray(b)&&b[0]===+b[0]?Math.min.apply(Math,b):!c&&J.isEmpty(b)?Infinity:(e={computed:Infinity},a(b,function(a,b,f){var g=c?c.call(d,a,b,f):a;g<e.computed&&(e={value:a,computed:g})}),e.value)},J.shuffle=function(b){var c,d=[];return a(b,function(a,b){c=Math.floor(Math.random()*(b+1)),d[b]=d[c],d[c]=a}),d},J.sortBy=function(a,b,c){var d=J.isFunction(b)?b:function(a){return a[b]};return J.pluck(J.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c===void 0?1:d===void 0?-1:c<d?-1:c>d?1:0}),"value")},J.groupBy=function(b,c){var d={},e=J.isFunction(c)?c:function(a){return a[c]};return a(b,function(a,b){var c=e(a,b);(d[c]||(d[c]=[])).push(a)}),d},J.sortedIndex=function(a,b,c){var d,e,f;c||(c=J.identity),d=0,e=a.length;while(d<e)f=d+e>>1,c(a[f])<c(b)?d=f+1:e=f;return d},J.toArray=function(a){return a?J.isArray(a)?t.call(a):J.isArguments(a)?t.call(a):a.toArray&&J.isFunction(a.toArray)?a.toArray():J.values(a):[]},J.size=function(a){return J.isArray(a)?a.length:J.keys(a).length},J.first=J.head=J.take=function(a,b,c){return b!=null&&!c?t.call(a,0,b):a[0]},J.initial=function(a,b,c){return t.call(a,0,a.length-(b==null||c?1:b))},J.last=function(a,b,c){return b!=null&&!c?t.call(a,Math.max(a.length-b,0)):a[a.length-1]},J.rest=J.tail=function(a,b,c){return t.call(a,b==null||c?1:b)},J.compact=function(a){return J.filter(a,function(a){return!!a})},J.flatten=function(a,b){return J.reduce(a,function(a,c){return J.isArray(c)?a.concat(b?c:J.flatten(c)):(a[a.length]=c,a)},[])},J.without=function(a){return J.difference(a,t.call(arguments,1))},J.uniq=J.unique=function(a,b,c){var d=c?J.map(a,c):a,e=[];return a.length<3&&(b=!0),J.reduce(d,function(c,d,f){if(b?J.last(c)!==d||!c.length:!J.include(c,d))c.push(d),e.push(a[f]);return c},[]),e},J.union=function(){return J.uniq(J.flatten(arguments,!0))},J.intersection=J.intersect=function(a){var b=t.call(arguments,1);return J.filter(J.uniq(a),function(a){return J.every(b,function(b){return J.indexOf(b,a)>=0})})},J.difference=function(a){var b=J.flatten(t.call(arguments,1),!0);return J.filter(a,function(a){return!J.include(b,a)})},J.zip=function(){var a,b=t.call(arguments),c=J.max(J.pluck(b,"length")),d=new Array(c);for(a=0;a<c;a++)d[a]=J.pluck(b,""+a);return d},J.indexOf=function(a,b,c){var d,e;if(a==null)return-1;if(c)return d=J.sortedIndex(a,b),a[d]===b?d:-1;if(E&&a.indexOf===E)return a.indexOf(b);for(d=0,e=a.length;d<e;d++)if(d in a&&a[d]===b)return d;return-1},J.lastIndexOf=function(a,b){var c;if(a==null)return-1;if(F&&a.lastIndexOf===F)return a.lastIndexOf(b);c=a.length;while(c--)if(c in a&&a[c]===b)return c;return-1},J.range=function(a,b,c){var d,e,f;arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1,d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);while(e<d)f[e++]=a,a+=c;return f},c=function(){},J.bind=function(a,b){var d,e;if(a.bind===I&&I)return I.apply(a,t.call(arguments,1));if(!J.isFunction(a))throw new TypeError;return e=t.call(arguments,2),d=function(){var f,g;return this instanceof d?(c.prototype=a.prototype,f=new c,g=a.apply(f,e.concat(t.call(arguments))),Object(g)===g?g:f):a.apply(b,e.concat(t.call(arguments)))}},J.bindAll=function(b){var c=t.call(arguments,1);return c.length==0&&(c=J.functions(b)),a(c,function(a){b[a]=J.bind(b[a],b)}),b},J.memoize=function(a,b){var c={};return b||(b=J.identity),function(){var d=b.apply(this,arguments);return J.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},J.delay=function(a,b){var c=t.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},J.defer=function(a){return J.delay.apply(J,[a,1].concat(t.call(arguments,1)))},J.throttle=function(a,b){var c,d,e,f,g,h,i=J.debounce(function(){g=f=!1},b);return function(){var j;return c=this,d=arguments,j=function(){e=null,g&&a.apply(c,d),i()},e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},J.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},J.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},J.wrap=function(a,b){return function(){var c=[a].concat(t.call(arguments,0));return b.apply(this,c)}},J.compose=function(){var a=arguments;return function(){var b,c=arguments;for(b=a.length-1;b>=0;b--)c=[a[b].apply(this,c)];return c[0]}},J.after=function(a,b){return a<=0?b():function(){if(--a<1)return b.apply(this,arguments)}},J.keys=H||function(a){var b,c;if(a!==Object(a))throw new TypeError("Invalid object");b=[];for(c in a)J.has(a,c)&&(b[b.length]=c);return b},J.values=function(a){return J.map(a,J.identity)},J.functions=J.methods=function(a){var b,c=[];for(b in a)J.isFunction(a[b])&&c.push(b);return c.sort()},J.extend=function(b){return a(t.call(arguments,1),function(a){var c;for(c in a)b[c]=a[c]}),b},J.pick=function(b){var c={};return a(J.flatten(t.call(arguments,1)),function(a){a in b&&(c[a]=b[a])}),c},J.defaults=function(b){return a(t.call(arguments,1),function(a){var c;for(c in a)b[c]==null&&(b[c]=a[c])}),b},J.clone=function(a){return J.isObject(a)?J.isArray(a)?a.slice():J.extend({},a):a},J.tap=function(a,b){return b(a),a},J.isEqual=function(a,b){return K(a,b,[])},J.isEmpty=function(a){var b;if(a==null)return!0;if(J.isArray(a)||J.isString(a))return a.length===0;for(b in a)if(J.has(a,b))return!1;return!0},J.isElement=function(a){return!!a&&a.nodeType==1},J.isArray=G||function(a){return v.call(a)=="[object Array]"},J.isObject=function(a){return a===Object(a)},J.isArguments=function(a){return v.call(a)=="[object Arguments]"},J.isArguments(arguments)||(J.isArguments=function(a){return!!a&&!!J.has(a,"callee")}),J.isFunction=function(a){return v.call(a)=="[object Function]"},J.isString=function(a){return v.call(a)=="[object String]"},J.isNumber=function(a){return v.call(a)=="[object Number]"},J.isFinite=function(a){return J.isNumber(a)&&isFinite(a)},J.isNaN=function(a){return a!==a},J.isBoolean=function(a){return a===!0||a===!1||v.call(a)=="[object Boolean]"},J.isDate=function(a){return v.call(a)=="[object Date]"},J.isRegExp=function(a){return v.call(a)=="[object RegExp]"},J.isNull=function(a){return a===null},J.isUndefined=function(a){return a===void 0},J.has=function(a,b){return w.call(a,b)},J.noConflict=function(){return n._=o,this},J.identity=function(a){return a},J.times=function(a,b,c){var d;for(d=0;d<a;d++)b.call(c,d)},J.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},J.result=function(a,b){var c;return a==null?null:(c=a[b],J.isFunction(c)?c.call(a):c)},J.mixin=function(b){a(J.functions(b),function(a){m(a,J[a]=b[a])})},d=0,J.uniqueId=function(a){var b=d++;return a?a+b:b},J.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},e=/.^/,f={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(g in f)f[f[g]]=g;h=/\\|'|\r|\n|\t|\u2028|\u2029/g,i=/\\(\\|'|r|n|t|u2028|u2029)/g,j=function(a){return a.replace(i,function(a,b){return f[b]})},J.template=function(a,b,c){var d,g,i;return c=J.defaults(c||{},J.templateSettings),d="__p+='"+a.replace(h,function(a){return"\\"+f[a]}).replace(c.escape||e,function(a,b){return"'+\n_.escape("+j(b)+")+\n'"}).replace(c.interpolate||e,function(a,b){return"'+\n("+j(b)+")+\n'"}).replace(c.evaluate||e,function(a,b){return"';\n"+j(b)+"\n;__p+='"})+"';\n",c.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+d+"return __p;\n",g=new Function(c.variable||"obj","_",d),b?g(b,J):(i=function(a){return g.call(this,a,J)},i.source="function("+(c.variable||"obj")+"){\n"+d+"}",i)},J.chain=function(a){return J(a).chain()},k=function(a){this._wrapped=a},J.prototype=k.prototype,l=function(a,b){return b?J(a).chain():a},m=function(a,b){k.prototype[a]=function(){var a=t.call(arguments);return u.call(a,this._wrapped),l(b.apply(J,a),this._chain)}},J.mixin(J),a(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=q[a];k.prototype[a]=function(){var c,d=this._wrapped;return b.apply(d,arguments),c=d.length,(a=="shift"||a=="splice")&&c===0&&delete d[0],l(d,this._chain)}}),a(["concat","join","slice"],function(a){var b=q[a];k.prototype[a]=function(){return l(b.apply(this._wrapped,arguments),this._chain)}}),k.prototype.chain=function(){return this._chain=!0,this},k.prototype.value=function(){return this._wrapped}}.call(this),define("underscore",function(a){return function(){var b;return b||a._}}(this)),define("math/builtin",["require"],function(){var a,b={};return b.mod=function(a,b){return a-b*Math.floor(a/b)},b.min=function(a,b){return a<b?a:b},b.max=function(a,b){return a>b?a:b},b.sign=function(a){return a===0?0:a>0?1:a<0?-1:NaN},b.lcm=function(a,c){var d;return a=b.smartTruncate(a),c=b.smartTruncate(c),d=b.getGCD(a,c),Math.abs(a*c/d)},b.gcd=function(a,c){return b.getGCD(a,c)},b.nCr=function(a,c){var d,e;a=b.smartTruncate(a),c=b.smartTruncate(c);if(c>a||a<0||c<0)return 0;d=1;for(e=0;e<c;e++)d*=(a-e)/(e+1);return d},b.nPr=function(a,c){var d,e;a=b.smartTruncate(a),c=b.smartTruncate(c);if(c>a||a<0||c<0)return 0;d=1;for(e=0;e<c;e++)d*=a-e;return d},b.factorial=function(a){return b.gamma(a+1)},b._integerFactorial=function(a){var b,c;if(a!==Math.floor(a))return NaN;if(a<0)return NaN;if(a>170)return NaN;if(a===0||a===1)return 1;b=1;for(c=2;c<=a;c++)b*=c;return b},b.gamma=function(a){return a===Math.floor(a)?b._integerFactorial(a-1):a<0?Math.PI/(Math.sin(Math.PI*a)*b.gamma(1-a)):Math.exp(b.lnGamma(a))},b.lnGamma=function(a){var b,c,d,e;if(a<0)return NaN;b=[57.15623566586292,-59.59796035547549,14.136097974741746,-0.4919138160976202,3399464998481189e-20,4652362892704858e-20,-0.00009837447530487956,.0001580887032249125,-0.00021026444172410488,.00021743961811521265,-0.0001643181065367639,8441822398385275e-20,-0.000026190838401581408,36899182659531625e-22],c=.9999999999999971;for(d=0;d<14;d++)c+=b[d]/(a+d+1);return e=a+5.2421875,(a+.5)*Math.log(e)-e+Math.log(2.5066282746310007*c/a)},b.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],b.cotDerivative=function(a,c){var d,e,f,g,h,i,j,k,l;if(a!==Math.floor(a))return NaN;if(a<0)return NaN;if(a===0)return 1/b.tan(c);d=b.sin(c);if(a===1)return-1/(d*d);e=b.cos(c);if(a===2)return 2*e/(d*d*d);f=[0,2];for(h=3;h<=a;h++){g=[];for(i=0;i<h;i++)j=0,k=0,i>0&&(j=(h-i+1)*f[i-1]),i+2<h&&(k=(i+1)*f[i+1]),g.push(-(j+k));f=g}l=0;for(i=a-1;i>=0;i--)l=g[i]+e*l;return l/Math.pow(d,a+1)},b.polyGamma=function(a,c){var d,e,f,g,h,i,j,k,l,m;if(a<0)return NaN;if(a!==Math.floor(a))return NaN;d=a%2===0?-1:1;if(c<0)return-d*b.polyGamma(a,1-c)-Math.pow(Math.PI,a+1)*b.cotDerivative(a,Math.PI*c);e=b.factorial(a),f=0,g=Math.pow(c,-(a+1));while(c<10)f+=g,c++,g=Math.pow(c,-(a+1));f+=a===0?-Math.log(c):g*c/a,f+=.5*g,h=b.bernoulliTable,i=a+1,j=2,k=g*c*i/j,l=1/(c*c);for(m=1;m<=14;m++)k*=l,f+=k*h[m-1],i++,j++,k*=i/j,i++,j++,k*=i/j;return e*d*f},b.getGCD=function(a,c){var d,e,f=b.smartTruncate(a),g=b.smartTruncate(c);f<0&&(f=-f),g<0&&(g=-g),g>f&&(d=g,g=f,f=d);if(g===0)return f;e=f%g;while(e>0)f=g,g=e,e=f%g;return g},b.toFraction=function(a,b){var c,d,e,f,g,h,i;if(a===Infinity)return{n:Infinity,d:1};if(a===-Infinity)return{n:-Infinity,d:1};if(!isFinite(a))return{n:NaN,d:1};d=0,e=1,f=1,g=0,b||(b=1e6);for(;;){c=Math.floor(a),h=c*e+d,i=c*g+f;if(i>b)break;d=e,f=g,e=h,g=i;if(a===c)break;a=1/(a-c)}return{n:e,d:g}},b.approx=function(a,b,c){var d=Math.max(Math.max(Math.abs(a),Math.abs(b)),1),e=c===undefined?.5:Math.pow(.5,c);return d===d+e*Math.abs(b-a)},b.smartTruncate=function(a){return a<0?Math.ceil(a):Math.floor(a)},b.log_base=function(a,b){return Math.log(a)/Math.log(b)},b.pow=function(a,c){var d;return a>=0||c===Math.floor(c)?Math.pow(a,c):(d=b.toFraction(c,100),b.approx(d.n/d.d,c,2)&&d.d%2===1?(d.n%2===0?1:-1)*Math.pow(-a,c):NaN)},b.nthroot=function(a,c){return b.pow(a,1/c)},a=1/Math.PI,b.sin=function(b){return 2*a*b%2===0?0:Math.sin(b)},b.cos=function(b){return Math.abs(2*a*b%2)===1?0:Math.cos(b)},b.tan=function(b){return 2*a*b%2===0?0:Math.abs(2*a*b%2)===1?Infinity:Math.tan(b)},b.sec=function(b){return Math.abs(2*a*b%2)===1?Infinity:1/Math.cos(b)},b.csc=function(b){return 2*a*b%2===0?Infinity:1/Math.sin(b)},b.cot=function(b){return 2*a*b%2===0?Infinity:Math.abs(2*a*b%2)===1?0:1/Math.tan(b)},b.acot=function(a){return Math.PI/2-Math.atan(a)},b.acsc=function(a){return Math.asin(1/a)},b.asec=function(a){return Math.acos(1/a)},b.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2},b.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2},b.tanh=function(a){return a>0?(1-Math.exp(-2*a))/(1+Math.exp(-2*a)):(Math.exp(2*a)-1)/(Math.exp(2*a)+1)},b.sech=function(a){return 1/b.cosh(a)},b.csch=function(a){return 1/b.sinh(a)},b.coth=function(a){return 1/b.tanh(a)},b.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))},b.acosh=function(a){return Math.log(a+Math.sqrt(a+1)*Math.sqrt(a-1))},b.atanh=function(a){return.5*Math.log((1+a)/(1-a))},b.asech=function(a){return Math.log(1/a+Math.sqrt(1/a+1)*Math.sqrt(1/a-1))},b.acsch=function(a){return Math.log(1/a+Math.sqrt(1/(a*a)+1))},b.acoth=function(a){return.5*Math.log((a+1)/(a-1))},b}),define("numeric",[],function(){var numeric=typeof exports=="undefined"?function(){}:exports;return typeof global!="undefined"&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(a,b){var c,d,e,f;typeof b=="undefined"&&(b=15),e=.5,c=new Date;for(;;){e*=2;for(f=e;f>3;f-=4)a(),a(),a(),a();while(f>0)a(),f--;d=new Date;if(d-c>b)break}for(f=e;f>3;f-=4)a(),a(),a(),a();while(f>0)a(),f--;return d=new Date,1e3*(3*e-1)/(d-c)},numeric._myIndexOf=function(a){var b,c=this.length;for(b=0;b<c;++b)if(this[b]===a)return b;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.precision=4,numeric.largeArray=50,numeric.compile=function(){var a=Array.prototype.slice.call(arguments),b=a.pop();return b="return function ("+a.join(",")+") {"+b+";}",(new Function(["numeric"],b))(numeric)},numeric.prettyPrint=function(a){function c(a){var b,d,e;return a===0?"0":isNaN(a)?"NaN":a<0?"-"+c(-a):isFinite(a)?(b=Math.floor(Math.log(a)/Math.log(10)),d=a/Math.pow(10,b),e=d.toPrecision(numeric.precision),parseFloat(e)===10&&(b++,d=1,e=d.toPrecision(numeric.precision)),parseFloat(e).toString()+"e"+b.toString()):"Infinity"}function d(a){var e,f,g,h,i,j;if(typeof a=="undefined")return b.push(Array(numeric.precision+8).join(" ")),!1;if(typeof a=="string")return b.push('"'+a+'"'),!1;if(typeof a=="boolean")return b.push(a.toString()),!1;if(typeof a=="number"){f=c(a),g=a.toPrecision(numeric.precision),h=parseFloat(a.toString()).toString(),i=[f,g,h,parseFloat(g).toString(),parseFloat(h).toString()];for(e=1;e<i.length;e++)i[e].length<f.length&&(f=i[e]);return b.push(Array(numeric.precision+8-f.length).join(" ")+f),!1}if(a===null)return b.push("null"),!1;if(typeof a=="function"){b.push(a.toString()),j=!1;for(e in a)a.hasOwnProperty(e)&&(j?b.push(",\n"):b.push("\n{"),j=!0,b.push(e),b.push(": \n"),d(a[e]));return j&&b.push("}\n"),!0}if(a instanceof Array){if(a.length>numeric.largeArray)return b.push("...Large Array..."),!0;j=!1,b.push("[");for(e=0;e<a.length;e++)e>0&&(b.push(","),j&&b.push("\n ")),j=d(a[e]);return b.push("]"),!0}b.push("{"),j=!1;for(e in a)a.hasOwnProperty(e)&&(j&&b.push(",\n"),j=!0,b.push(e),b.push(": \n"),d(a[e]));return b.push("}"),!0}var b;return b=[],d(a),b.join("")},numeric.parseDate=function(a){function b(a){var c,d;if(typeof a=="string")return Date.parse(a.replace(/-/g,"/"));if(a instanceof Array){c=[];for(d=0;d<a.length;d++)c[d]=b(a[d]);return c}throw new Error("parseDate: parameter must be arrays of strings")}return b(a)},numeric.parseFloat=function(a){function b(a){var c,d;if(typeof a=="string")return parseFloat(a);if(a instanceof Array){c=[];for(d=0;d<a.length;d++)c[d]=b(a[d]);return c}throw new Error("parseFloat: parameter must be arrays of strings")}return b(a)},numeric.parseCSV=function(a){var b,c,d,e,f=a.split("\n"),g=[],h=/(([^'",]*)|('[^']*')|("[^"]*")),/g,i=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,j=function(a){return a.substr(0,a.length-1)},k=0;for(c=0;c<f.length;c++){d=(f[c]+",").match(h);if(d.length>0){g[k]=[];for(b=0;b<d.length;b++)e=j(d[b]),i.test(e)?g[k][b]=parseFloat(e):g[k][b]=e;k++}}return g},numeric.toCSV=function(a){var b,c,d,e=numeric.dim(a),f=e[0],g=e[1],h=[];for(b=0;b<f;b++){d=[];for(c=0;c<f;c++)d[c]=a[b][c].toString();h[b]=d.join(", ")}return h.join("\n")+"\n"},numeric.getURL=function(a){var b=new XMLHttpRequest;return b.open("GET",a,!1),b.send(),b},numeric.imageURL=function(a){function o(a){var b,c,d,e,f,g,h,i,j=a.length,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";for(b=0;b<j;b+=3)c=a[b],d=a[b+1],e=a[b+2],f=c>>2,g=((c&3)<<4)+(d>>4),h=((d&15)<<2)+(e>>6),i=e&63,b+1>=j?h=i=64:b+2>=j&&(i=64),l+=k.charAt(f)+k.charAt(g)+k.charAt(h)+k.charAt(i);return l}function p(a,b,c){var d,e,f,g,h;typeof b=="undefined"&&(b=0),typeof c=="undefined"&&(c=a.length),d=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],e=-1,f=0,g=a.length;for(h=b;h<c;h++)f=(e^a[h])&255,e=e>>>8^d[f];return e^-1}var b,c,d,e,f,g,h,i,j,k,l,m,n;b=a[0].length,c=a[0][0].length,n=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,c>>24&255,c>>16&255,c>>8&255,c&255,b>>24&255,b>>16&255,b>>8&255,b&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29],m=p(n,12,29),n[29]=m>>24&255,n[30]=m>>16&255,n[31]=m>>8&255,n[32]=m&255,d=1,e=0;for(j=0;j<b;j++){j<b-1?n.push(0):n.push(1),h=3*c+1+(j===0)&255,i=3*c+1+(j===0)>>8&255,n.push(h),n.push(i),n.push(~h&255),n.push(~i&255),j===0&&n.push(0);for(k=0;k<c;k++)for(f=0;f<3;f++)h=a[f][j][k],h>255?h=255:h<0?h=0:h=Math.round(h),d=(d+h)%65521,e=(e+d)%65521,n.push(h);n.push(0)}return l=(e<<16)+d,n.push(l>>24&255),n.push(l>>16&255),n.push(l>>8&255),n.push(l&255),g=n.length-41,n[33]=g>>24&255,n[34]=g>>16&255,n[35]=g>>8&255,n[36]=g&255,m=p(n,37),n.push(m>>24&255),n.push(m>>16&255),n.push(m>>8&255),n.push(m&255),n.push(0),n.push(0),n.push(0),n.push(0),n.push(73),n.push(69),n.push(78),n.push(68),n.push(174),n.push(66),n.push(96),n.push(130),"data:image/png;base64,"+o(n)},numeric._dim=function(a){var b=[];while(typeof a=="object")b.push(a.length),a=a[0];return b},numeric.dim=function(a){var b,c;if(typeof a=="object")return b=a[0],typeof b=="object"?(c=b[0],typeof c=="object"?numeric._dim(a):[a.length,b.length]):[a.length];return[]},numeric.mapreduce=function(a,b){return numeric.compile("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+b+";\n"+'if(typeof x === "number") { var xi = x; '+a+"; return accum; }\n"+'if(typeof _s === "undefined") _s = numeric.dim(x);\n'+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i,xi;\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) {\n"+"        accum = arguments.callee(x[i],accum,_s,_k+1);\n"+"    }"+"    return accum;\n"+"}\n"+"for(i=_n-1;i>=1;i-=2) { \n"+"    xi = x[i];\n"+"    "+a+";\n"+"    xi = x[i-1];\n"+"    "+a+";\n"+"}\n"+"if(i === 0) {\n"+"    xi = x[i];\n"+"    "+a+"\n"+"}\n"+"return accum;")},numeric.mapreduce2=function(a,b){return numeric.compile("x","var n = x.length;\nvar i,xi;\n"+b+";\n"+"for(i=n-1;i!==-1;--i) { \n"+"    xi = x[i];\n"+"    "+a+";\n"+"}\n"+"return accum;")},numeric.same=function same(a,b){var c,d;if(a instanceof Array&&b instanceof Array){d=a.length;if(d!==b.length)return!1;for(c=0;c<d;c++){if(a[c]===b[c])continue;if(typeof a[c]!="object")return!1;if(!same(a[c],b[c]))return!1}return!0}return!1},numeric.rep=function(a,b,c){var d,e,f;typeof c=="undefined"&&(c=0),d=a[c],e=Array(d);if(c===a.length-1){for(f=d-2;f>=0;f-=2)e[f+1]=b,e[f]=b;return f===-1&&(e[0]=b),e}for(f=d-1;f>=0;f--)e[f]=numeric.rep(a,b,c+1);return e},numeric.dotMMsmall=function(a,b){var c,d,e,f,g,h,i,j=a.length,k=b.length,l=b[0].length,m=Array(j);for(c=j-1;c>=0;c--){f=Array(l),g=a[c];for(e=l-1;e>=0;e--){h=g[k-1]*b[k-1][e];for(d=k-2;d>=1;d-=2)i=d-1,h+=g[d]*b[d][e]+g[i]*b[i][e];d===0&&(h+=g[0]*b[0][e]),f[e]=h}m[c]=f}return m},numeric._getCol=function(a,b,c){var d,e=a.length;for(d=e-1;d>0;--d)c[d]=a[d][b],--d,c[d]=a[d][b];d===0&&(c[0]=a[0][b])},numeric.dotMMbig=function(a,b){var c,d,e,f,g=numeric._getCol,h=b.length,i=Array(h),j=a.length,k=b[0].length,l=new Array(j),m=numeric.dotVV;--h,--j;for(d=j;d!==-1;--d)l[d]=Array(k);--k;for(d=k;d!==-1;--d){g(b,d,i);for(e=j;e!==-1;--e)f=0,c=a[e],l[e][d]=m(c,i)}return l},numeric.dotMV=function(a,b){var c,d=a.length,e=b.length,f=Array(d),g=numeric.dotVV;for(c=d-1;c>=0;c--)f[c]=g(a[c],b);return f},numeric.dotVM=function(a,b){var c,d,e,f,g=a.length,h=b[0].length,i=Array(h);for(d=h-1;d>=0;d--){e=a[g-1]*b[g-1][d];for(c=g-2;c>=1;c-=2)f=c-1,e+=a[c]*b[c][d]+a[f]*b[f][d];c===0&&(e+=a[0]*b[0][d]),i[d]=e}return i},numeric.dotVV=function(a,b){var c,d,e=a.length,f=a[e-1]*b[e-1];for(c=e-2;c>=1;c-=2)d=c-1,f+=a[c]*b[c]+a[d]*b[d];return c===0&&(f+=a[0]*b[0]),f},numeric.dot=function(a,b){var c=numeric.dim;switch(c(a).length*1e3+c(b).length){case 2002:return b.length<10?numeric.dotMMsmall(a,b):numeric.dotMMbig(a,b);case 2001:return numeric.dotMV(a,b);case 1002:return numeric.dotVM(a,b);case 1001:return numeric.dotVV(a,b);case 1e3:return numeric.mulVS(a,b);case 1:return numeric.mulSV(a,b);case 0:return a*b;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(a){var b,c,d,e,f=a.length,g=Array(f);for(b=f-1;b>=0;b--){e=Array(f),c=b+2;for(d=f-1;d>=c;d-=2)e[d]=0,e[d-1]=0;d>b&&(e[d]=0),e[b]=a[b];for(d=b-1;d>=1;d-=2)e[d]=0,e[d-1]=0;d===0&&(e[0]=0),g[b]=e}return g},numeric.getDiag=function(a){var b,c=Math.min(a.length,a[0].length),d=Array(c);for(b=c-1;b>=1;--b)d[b]=a[b][b],--b,d[b]=a[b][b];return b===0&&(d[0]=a[0][0]),d},numeric.identity=function(a){return numeric.diag(numeric.rep([a],1))},numeric.pointwise=function(a,b,c){var d,e,f,g,h,i;typeof c=="undefined"&&(c=""),d=[],f=/\[i\]$/,h="",i=!1;for(e=0;e<a.length;e++)f.test(a[e])?(g=a[e].substring(0,a[e].length-3),h=g):g=a[e],g==="ret"&&(i=!0),d.push(g);return d[a.length]="_s",d[a.length+1]="_k",d[a.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+h+");\n"+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i"+(i?"":", ret = Array(_n)")+";\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+a.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+c+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+"    "+b+"\n"+"}\n"+"return ret;",numeric.compile.apply(null,d)},numeric.pointwise2=function(a,b,c){var d,e,f,g,h,i;typeof c=="undefined"&&(c=""),d=[],f=/\[i\]$/,h="",i=!1;for(e=0;e<a.length;e++)f.test(a[e])?(g=a[e].substring(0,a[e].length-3),h=g):g=a[e],g==="ret"&&(i=!0),d.push(g);return d[a.length]="var _n = "+h+".length;\n"+"var i"+(i?"":", ret = Array(_n)")+";\n"+c+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+b+"\n"+"}\n"+"return ret;",numeric.compile.apply(null,d)},numeric._biforeach=function _biforeach(a,b,c,d,e){var f,g;if(d===c.length-1){e(
a,b);return}g=c[d];for(f=g-1;f>=0;f--)_biforeach(typeof a=="object"?a[f]:a,typeof b=="object"?b[f]:b,c,d+1,e)},numeric._biforeach2=function _biforeach2(a,b,c,d,e){var f,g,h;if(d===c.length-1)return e(a,b);g=c[d],h=Array(g);for(f=g-1;f>=0;--f)h[f]=_biforeach2(typeof a=="object"?a[f]:a,typeof b=="object"?b[f]:b,c,d+1,e);return h},numeric._foreach=function _foreach(a,b,c,d){var e,f;if(c===b.length-1){d(a);return}f=b[c];for(e=f-1;e>=0;e--)_foreach(a[e],b,c+1,d)},numeric._foreach2=function _foreach2(a,b,c,d){var e,f,g;if(c===b.length-1)return d(a);f=b[c],g=Array(f);for(e=f-1;e>=0;e--)g[e]=_foreach2(a[e],b,c+1,d);return g},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var a,b,c,d,e;for(a=0;a<numeric.mathfuns2.length;++a)b=numeric.mathfuns2[a],numeric.ops2[b]=b;for(a in numeric.ops2)numeric.ops2.hasOwnProperty(a)&&(b=numeric.ops2[a],e="",numeric.myIndexOf.call(numeric.mathfuns2,a)!==-1?(e="var "+b+" = Math."+b+";\n",c=function(a,c,d){return a+" = "+b+"("+c+","+d+")"},d=function(a,c){return a+" = "+b+"("+a+","+c+")"}):(c=function(a,c,d){return a+" = "+c+" "+b+" "+d},numeric.opseq.hasOwnProperty(a+"eq")?d=function(a,c){return a+" "+b+"= "+c}:d=function(a,c){return a+" = "+a+" "+b+" "+c}),numeric[a+"VV"]=numeric.pointwise2(["x[i]","y[i]"],c("ret[i]","x[i]","y[i]"),e),numeric[a+"SV"]=numeric.pointwise2(["x","y[i]"],c("ret[i]","x","y[i]"),e),numeric[a+"VS"]=numeric.pointwise2(["x[i]","y"],c("ret[i]","x[i]","y"),e),numeric[a]=numeric.compile("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+a+"VV, VS = numeric."+a+"VS, SV = numeric."+a+"SV;\n"+"var dim = numeric.dim;\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof x === "object") {\n'+'      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+d("x","y")+"\n"+"}\nreturn x;\n"),numeric[b]=numeric[a],numeric[a+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],d("ret[i]","x[i]"),e),numeric[a+"eqS"]=numeric.pointwise2(["ret[i]","x"],d("ret[i]","x"),e),numeric[a+"eq"]=numeric.compile("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+a+"eqV, S = numeric."+a+"eqS\n"+"var s = numeric.dim(x);\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n"));for(a=0;a<numeric.mathfuns2.length;++a)b=numeric.mathfuns2[a],delete numeric.ops2[b];for(a=0;a<numeric.mathfuns.length;++a)b=numeric.mathfuns[a],numeric.ops1[b]=b;for(a in numeric.ops1)numeric.ops1.hasOwnProperty(a)&&(e="",b=numeric.ops1[a],numeric.myIndexOf.call(numeric.mathfuns,a)!==-1&&Math.hasOwnProperty(b)&&(e="var "+b+" = Math."+b+";\n"),numeric[a+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+b+"(ret[i]);",e),numeric[a+"eq"]=numeric.compile("x",'if(typeof x !== "object") return '+b+"x\n"+"var i;\n"+"var V = numeric."+a+"eqV;\n"+"var s = numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n"),numeric[a+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+b+"(x[i]);",e),numeric[a]=numeric.compile("x",'if(typeof x !== "object") return '+b+"(x)\n"+"var i;\n"+"var V = numeric."+a+"V;\n"+"var s = numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n"));for(a=0;a<numeric.mathfuns.length;++a)b=numeric.mathfuns[a],delete numeric.ops1[b];for(a in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(a)&&(b=numeric.mapreducers[a],numeric[a+"V"]=numeric.mapreduce2(b[0],b[1]),numeric[a]=numeric.compile("x","s","k",b[1]+'if(typeof x !== "object") {'+"    xi = x;\n"+b[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s === "undefined") s = numeric.dim(x);\n'+'if(typeof k === "undefined") k = 0;\n'+"if(k === s.length-1) return numeric."+a+"V(x);\n"+"var xi;\n"+"var n = x.length, i;\n"+"for(i=n-1;i!==-1;--i) {\n"+"   xi = arguments.callee(x[i]);\n"+b[0]+";\n"+"}\n"+"return accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(a,b){return typeof a=="object"?typeof b=="object"?numeric.truncVV(a,b):numeric.truncVS(a,b):typeof b=="object"?numeric.truncSV(a,b):Math.round(a/b)*b},numeric.inv=function(a){var a,b,c,d,e,f,g,h,i,j,k=numeric.dim(a),l=Math.abs,m=k[0],n=k[1],o=numeric.clone(a),p=numeric.identity(m);for(g=0;g<n;++g){i=-1,j=-1;for(f=g;f!==m;++f)h=l(o[f][g]),h>j&&(i=f,j=h);c=o[i],o[i]=o[g],o[g]=c,e=p[i],p[i]=p[g],p[g]=e,a=c[g];for(h=g;h!==n;++h)c[h]/=a;for(h=n-1;h!==-1;--h)e[h]/=a;for(f=m-1;f!==-1;--f)if(f!==g){b=o[f],d=p[f],a=b[g];for(h=g+1;h!==n;++h)b[h]-=c[h]*a;for(h=n-1;h>0;--h)d[h]-=e[h]*a,--h,d[h]-=e[h]*a;h===0&&(d[0]-=e[0]*a)}}return p},numeric.det=function(a){var b,c,d,e,f,g,h,i,j,k,l,m=numeric.dim(a);if(m.length!==2||m[0]!==m[1])throw new Error("numeric: det() only works on square matrices");b=m[0],c=1,g=numeric.clone(a);for(e=0;e<b-1;e++){f=e;for(d=e+1;d<b;d++)Math.abs(g[d][e])>Math.abs(g[f][e])&&(f=d);f!==e&&(k=g[f],g[f]=g[e],g[e]=k,c*=-1),h=g[e];for(d=e+1;d<b;d++){i=g[d],j=i[e]/h[e];for(f=e+1;f<b-1;f+=2)l=f+1,i[f]-=h[f]*j,i[l]-=h[l]*j;f!==b&&(i[f]-=h[f]*j)}if(h[e]===0)return 0;c*=h[e]}return c*g[e][e]},numeric.transpose=function(a){var b,c,d,e,f,g=a.length,h=a[0].length,i=Array(h);for(c=0;c<h;c++)i[c]=Array(g);for(b=g-1;b>=1;b-=2){e=a[b],d=a[b-1];for(c=h-1;c>=1;--c)f=i[c],f[b]=e[c],f[b-1]=d[c],--c,f=i[c],f[b]=e[c],f[b-1]=d[c];c===0&&(f=i[0],f[b]=e[0],f[b-1]=d[0])}if(b===0){d=a[0];for(c=h-1;c>=1;--c)i[c][0]=d[c],--c,i[c][0]=d[c];c===0&&(i[0][0]=d[0])}return i},numeric.negtranspose=function(a){var b,c,d,e,f,g=a.length,h=a[0].length,i=Array(h);for(c=0;c<h;c++)i[c]=Array(g);for(b=g-1;b>=1;b-=2){e=a[b],d=a[b-1];for(c=h-1;c>=1;--c)f=i[c],f[b]=-e[c],f[b-1]=-d[c],--c,f=i[c],f[b]=-e[c],f[b-1]=-d[c];c===0&&(f=i[0],f[b]=-e[0],f[b-1]=-d[0])}if(b===0){d=a[0];for(c=h-1;c>=1;--c)i[c][0]=-d[c],--c,i[c][0]=-d[c];c===0&&(i[0][0]=-d[0])}return i},numeric._random=function _random(a,b){var c,d,e=a[b],f=Array(e);if(b===a.length-1){d=Math.random;for(c=e-1;c>=1;c-=2)f[c]=d(),f[c-1]=d();return c===0&&(f[0]=d()),f}for(c=e-1;c>=0;c--)f[c]=_random(a,b+1);return f},numeric.random=function(a){return numeric._random(a,0)},numeric.norm2=function(a){return Math.sqrt(numeric.norm2Squared(a))},numeric.linspace=function(a,b,c){var d,e;typeof c=="undefined"&&(c=Math.max(Math.round(b-a)+1,1));if(c<2)return c===1?[a]:[];e=Array(c),c--;for(d=c;d>=0;d--)e[d]=(d*b+(c-d)*a)/c;return e},numeric.getBlock=function(a,b,c){function e(a,f){var g,h=b[f],i=c[f]-h,j=Array(i);if(f===d.length-1){for(g=i;g>=0;g--)j[g]=a[g+h];return j}for(g=i;g>=0;g--)j[g]=e(a[g+h],f+1);return j}var d=numeric.dim(a);return e(a,0)},numeric.setBlock=function(a,b,c,d){function f(a,d,g){var h,i=b[g],j=c[g]-i;if(g===e.length-1)for(h=j;h>=0;h--)a[h+i]=d[h];for(h=j;h>=0;h--)f(a[h+i],d[h],g+1)}var e=numeric.dim(a);return f(a,d,0),a},numeric.getRange=function(a,b,c){var d,e,f,g,h=b.length,i=c.length,j=Array(h);for(d=h-1;d!==-1;--d){j[d]=Array(i),f=j[d],g=a[b[d]];for(e=i-1;e!==-1;--e)f[e]=g[c[e]]}return j},numeric.blockMatrix=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=numeric.dim(a);if(p.length<4)return numeric.blockMatrix([a]);b=p[0],c=p[1],d=0,e=0;for(f=0;f<b;++f)d+=a[f][0].length;for(g=0;g<c;++g)e+=a[0][g][0].length;i=Array(d);for(f=0;f<d;++f)i[f]=Array(e);j=0;for(f=0;f<b;++f){k=e;for(g=c-1;g!==-1;--g){h=a[f][g],k-=h[0].length;for(m=h.length-1;m!==-1;--m){o=h[m],l=i[j+m];for(n=o.length-1;n!==-1;--n)l[k+n]=o[n]}}j+=a[f][0].length}return i},numeric.tensor=function(a,b){var c,d,e,f,g,h,i,j,k;if(typeof a=="number"||typeof b=="number")return numeric.mul(a,b);c=numeric.dim(a),d=numeric.dim(b);if(c.length!==1||d.length!==1)throw new Error("numeric: tensor product is only defined for vectors");e=c[0],f=d[0],g=Array(e);for(i=e-1;i>=0;i--){h=Array(f),k=a[i];for(j=f-1;j>=3;--j)h[j]=k*b[j],--j,h[j]=k*b[j],--j,h[j]=k*b[j],--j,h[j]=k*b[j];while(j>=0)h[j]=k*b[j],--j;g[i]=h}return g},numeric.T=function(a,b){this.x=a,this.y=b},numeric.t=function(a,b){return new numeric.T(a,b)},numeric.Tbinop=function(a,b,c,d,e){var f,g=numeric.indexOf;if(typeof e!="string"){e="";for(f in numeric)numeric.hasOwnProperty(f)&&(a.indexOf(f)>=0||b.indexOf(f)>=0||c.indexOf(f)>=0||d.indexOf(f)>=0)&&f.length>1&&(e+="var "+f+" = numeric."+f+";\n")}return numeric.compile(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+e+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+d+");\n"+"  }\n"+"  return new numeric.T("+c+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+b+");\n"+"}\n"+"return new numeric.T("+a+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var a,b=numeric.mul,c=numeric.div;return this.y?(a=numeric.add(b(this.x,this.x),b(this.y,this.y)),new numeric.T(c(this.x,a),c(numeric.neg(this.y),a))):new T(c(1,this.x))},numeric.T.prototype.div=function div(a){var div;return a instanceof numeric.T||(a=new numeric.T(a)),a.y?this.mul(a.reciprocal()):(div=numeric.div,this.y?new numeric.T(div(this.x,a.x),div(this.y,a.x)):new numeric.T(div(this.x,a.x)))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var a=numeric.transpose,b=this.x,c=this.y;return c?new numeric.T(a(b),a(c)):new numeric.T(a(b))},numeric.T.prototype.transjugate=function(){var a=numeric.transpose,b=this.x,c=this.y;return c?new numeric.T(a(b),numeric.negtranspose(c)):new numeric.T(a(b))},numeric.Tunop=function(a,b,c){return typeof c!="string"&&(c=""),numeric.compile("var x = this;\n"+c+"\n"+"if(x.y) {"+"  "+b+";\n"+"}\n"+a+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this;if(typeof x.y=="undefined")return new numeric.T(numeric.inv(x.x));a=x.x.length,e=numeric.identity(a),f=numeric.rep([a,a],0),g=numeric.clone(x.x),h=numeric.clone(x.y);for(b=0;b<a;b++){s=g[b][b],t=h[b][b],q=s*s+t*t,d=b;for(c=b+1;c<a;c++)s=g[c][b],t=h[c][b],r=s*s+t*t,r>q&&(d=c,q=r);d!==b&&(w=g[b],g[b]=g[d],g[d]=w,w=h[b],h[b]=h[d],h[d]=w,w=e[b],e[b]=e[d],e[d]=w,w=f[b],f[b]=f[d],f[d]=w),i=g[b],j=h[b],m=e[b],n=f[b],s=i[b],t=j[b];for(c=b+1;c<a;c++)u=i[c],v=j[c],i[c]=(u*s+v*t)/q,j[c]=(v*s-u*t)/q;for(c=0;c<a;c++)u=m[c],v=n[c],m[c]=(u*s+v*t)/q,n[c]=(v*s-u*t)/q;for(c=b+1;c<a;c++){k=g[c],l=h[c],o=e[c],p=f[c],s=k[b],t=l[b];for(d=b+1;d<a;d++)u=i[d],v=j[d],k[d]-=u*s-v*t,l[d]-=v*s+u*t;for(d=0;d<a;d++)u=m[d],v=n[d],o[d]-=u*s-v*t,p[d]-=v*s+u*t}}for(b=a-1;b>0;b--){m=e[b],n=f[b];for(c=b-1;c>=0;c--){o=e[c],p=f[c],s=g[c][b],t=h[c][b];for(d=a-1;d>=0;d--)u=m[d],v=n[d],o[d]-=s*u-t*v,p[d]-=s*v+t*u}}return new numeric.T(e,f)},numeric.T.prototype.get=function(a){var b,c=this.x,d=this.y,e=0,f=a.length;if(d){while(e<f)b=a[e],c=c[b],d=d[b],e++;return new numeric.T(c,d)}while(e<f)b=a[e],c=c[b],e++;return new numeric.T(c)},numeric.T.prototype.set=function(a,b){var c,d=this.x,e=this.y,f=0,g=a.length,h=b.x,i=b.y;if(g===0)return i?this.y=i:e&&(this.y=undefined),this.x=d,this;if(i){e||(e=numeric.rep(numeric.dim(d),0),this.y=e);while(f<g-1)c=a[f],d=d[c],e=e[c],f++;return c=a[f],d[c]=h,e[c]=i,this}if(e){while(f<g-1)c=a[f],d=d[c],e=e[c],f++;return c=a[f],d[c]=h,h instanceof Array?e[c]=numeric.rep(numeric.dim(h),0):e[c]=0,this}while(f<g-1)c=a[f],d=d[c],f++;return c=a[f],d[c]=h,this},numeric.T.prototype.getRows=function(a,b){var c,d,e=b-a+1,f=Array(e),g=this.x,h=this.y;for(c=a;c<=b;c++)f[c-a]=g[c];if(h){d=Array(e);for(c=a;c<=b;c++)d[c-a]=h[c];return new numeric.T(f,d)}return new numeric.T(f)},numeric.T.prototype.setRows=function(a,b,c){var d,e=this.x,f=this.y,g=c.x,h=c.y;for(d=a;d<=b;d++)e[d]=g[d-a];if(h){f||(f=numeric.rep(numeric.dim(e),0),this.y=f);for(d=a;d<=b;d++)f[d]=h[d-a]}else if(f)for(d=a;d<=b;d++)f[d]=numeric.rep([g[d-a].length],0);return this},numeric.T.prototype.getRow=function(a){var b=this.x,c=this.y;return c?new numeric.T(b[a],c[a]):new numeric.T(b[a])},numeric.T.prototype.setRow=function(a,b){var c=this.x,d=this.y,e=b.x,f=b.y;return c[a]=e,f?(d||(d=numeric.rep(numeric.dim(c),0),this.y=d),d[a]=f):d&&(d=numeric.rep([e.length],0)),this},numeric.T.prototype.getBlock=function(a,b){var c=this.x,d=this.y,e=numeric.getBlock;return d?new numeric.T(e(c,a,b),e(d,a,b)):new numeric.T(e(c,a,b))},numeric.T.prototype.setBlock=function(a,b,c){var d,e,f,g,h;c instanceof numeric.T||(c=new numeric.T(c)),d=this.x,e=this.y,f=numeric.setBlock,g=c.x,h=c.y;if(h)return e||(this.y=numeric.rep(numeric.dim(this),0),e=this.y),f(d,a,b,g),f(e,a,b,h),this;f(d,a,b,g),e&&f(e,a,b,numeric.rep(numeric.dim(g),0))},numeric.T.rep=function(a,b){var c,d,e,f=numeric.T;return b instanceof f||(b=new f(b)),c=b.x,d=b.y,e=numeric.rep,d?new f(e(a,c),e(a,d)):new f(e(a,c))},numeric.T.diag=function diag(a){var diag,b,c;return a instanceof numeric.T||(a=new numeric.T(a)),b=a.x,c=a.y,diag=numeric.diag,c?new numeric.T(diag(b),diag(c)):new numeric.T(diag(b))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(a){return new numeric.T(numeric.identity(a))},numeric.T.prototype.getDiag=function(){var a=numeric,b=this.x,c=this.y;return c?new a.T(a.getDiag(b),a.getDiag(c)):new a.T(a.getDiag(b))},numeric.house=function(a){var b,c=numeric.clone(a),d=a[0]>=0?1:-1,e=d*numeric.norm2(a);c[0]+=e,b=numeric.norm2(c);if(b===0)throw new Error("eig: internal error");return numeric.div(c,b)},numeric.toUpperHessenberg=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=numeric.dim(a);if(o.length!==2||o[0]!==o[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");b=o[0],h=numeric.clone(a),m=numeric.identity(b);for(d=0;d<b-2;d++){f=Array(b-d-1);for(c=d+1;c<b;c++)f[c-d-1]=h[c][d];if(numeric.norm2(f)>0){g=numeric.house(f),i=numeric.getBlock(h,[d+1,d],[b-1,b-1]),j=numeric.tensor(g,numeric.dot(g,i));for(c=d+1;c<b;c++){k=h[c],l=j[c-d-1];for(e=d;e<b;e++)k[e]-=2*l[e-d]}i=numeric.getBlock(h,[0,d+1],[b-1,b-1]),j=numeric.tensor(numeric.dot(i,g),g);for(c=0;c<b;c++){k=h[c],l=j[c];for(e=d+1;e<b;e++)k[e]-=2*l[e-d-1]}i=Array(b-d-1);for(c=d+1;c<b;c++)i[c-d-1]=m[c];j=numeric.tensor(g,numeric.dot(g,i));for(c=d+1;c<b;c++){n=m[c],l=j[c-d-1];for(e=0;e<b;e++)n[e]-=2*l[e]}}}return{H:h,Q:m}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;typeof b=="undefined"&&(b=1e4),a=numeric.clone(a),c=numeric.clone(a),d=numeric.dim(a),e=d[0],o=numeric.identity(e);if(e<3)return{Q:o,B:[[0,e-1]]};y=numeric.epsilon;for(x=0;x<b;x++){for(v=0;v<e-1;v++)if(Math.abs(a[v+1][v])<y*(Math.abs(a[v][v])+Math.abs(a[v+1][v+1]))){z=numeric.QRFrancis(numeric.getBlock(a,[0,0],[v,v]),b),A=numeric.QRFrancis(numeric.getBlock(a,[v+1,v+1],[e-1,e-1]),b),r=Array(v+1);for(u=0;u<=v;u++)r[u]=o[u];s=numeric.dot(z.Q,r);for(u=0;u<=v;u++)o[u]=s[u];r=Array(e-v-1);for(u=v+1;u<e;u++)r[u-v-1]=o[u];s=numeric.dot(A.Q,r);for(u=v+1;u<e;u++)o[u]=s[u-v-1];return{Q:o,B:z.B.concat(numeric.add(A.B,v+1))}}h=a[e-2][e-2],i=a[e-2][e-1],j=a[e-1][e-2],k=a[e-1][e-1],m=h+k,l=h*k-i*j,n=numeric.getBlock(a,[0,0],[2,2]),m*m>=4*l?(B=.5*(m+Math.sqrt(m*m-4*l)),C=.5*(m-Math.sqrt(m*m-4*l)),n=numeric.add(numeric.sub(numeric.dot(n,n),numeric.mul(n,B+C)),numeric.diag(numeric.rep([3],B*C)))):n=numeric.add(numeric.sub(numeric.dot(n,n),numeric.mul(n,m)),numeric.diag(numeric.rep([3],l))),f=[n[0][0],n[1][0],n[2][0]],g=numeric.house(f),r=[a[0],a[1],a[2]],s=numeric.tensor(g,numeric.dot(g,r));for(u=0;u<3;u++){q=a[u],t=s[u];for(w=0;w<e;w++)q[w]-=2*t[w]}r=numeric.getBlock(a,[0,0],[e-1,2]),s=numeric.tensor(numeric.dot(r,g),g);for(u=0;u<e;u++){q=a[u],t=s[u];for(w=0;w<3;w++)q[w]-=2*t[w]}r=[o[0],o[1],o[2]],s=numeric.tensor(g,numeric.dot(g,r));for(u=0;u<3;u++){p=o[u],t=s[u];for(w=0;w<e;w++)p[w]-=2*t[w]}for(v=0;v<e-2;v++){for(w=v;w<=v+1;w++)if(Math.abs(a[w+1][w])<y*(Math.abs(a[w][w])+Math.abs(a[w+1][w+1]))){z=numeric.QRFrancis(numeric.getBlock(a,[0,0],[w,w]),b),A=numeric.QRFrancis(numeric.getBlock(a,[w+1,w+1],[e-1,e-1]),b),r=Array(w+1);for(u=0;u<=w;u++)r[u]=o[u];s=numeric.dot(z.Q,r);for(u=0;u<=w;u++)o[u]=s[u];r=Array(e-w-1);for(u=w+1;u<e;u++)r[u-w-1]=o[u];s=numeric.dot(A.Q,r);for(u=w+1;u<e;u++)o[u]=s[u-w-1];return{Q:o,B:z.B.concat(numeric.add(A.B,w+1))}}D=Math.min(e-1,v+3),f=Array(D-v);for(u=v+1;u<=D;u++)f[u-v-1]=a[u][v];g=numeric.house(f),r=numeric.getBlock(a,[v+1,v],[D,e-1]),s=numeric.tensor(g,numeric.dot(g,r));for(u=v+1;u<=D;u++){q=a[u],t=s[u-v-1];for(w=v;w<e;w++)q[w]-=2*t[w-v]}r=numeric.getBlock(a,[0,v+1],[e-1,D]),s=numeric.tensor(numeric.dot(r,g),g);for(u=0;u<e;u++){q=a[u],t=s[u];for(w=v+1;w<=D;w++)q[w]-=2*t[w-v-1]}r=Array(D-v);for(u=v+1;u<=D;u++)r[u-v-1]=o[u];s=numeric.tensor(g,numeric.dot(g,r));for(u=v+1;u<=D;u++){p=o[u],t=s[u-v-1];for(w=0;w<e;w++)p[w]-=2*t[w]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=numeric.toUpperHessenberg(a),y=numeric.QRFrancis(x.H,b),z=numeric.T,A=a.length,B=!1,C=y.B,D=numeric.dot(y.Q,numeric.dot(x.H,numeric.transpose(y.Q))),E=new z(numeric.dot(y.Q,x.Q)),F=C.length,G=Math.sqrt;for(d=0;d<F;d++){c=C[d][0];if(c!==C[d][1]){f=c+1,g=D[c][c],h=D[c][f],i=D[f][c],j=D[f][f];if(h===0&&i===0)continue;k=-g-j,l=g*j-h*i,m=k*k-4*l,m>=0?(k<0?n=-0.5*(k-G(m)):n=-0.5*(k+G(m)),r=(g-n)*(g-n)+h*h,s=i*i+(j-n)*(j-n),r>s?(r=G(r),p=(g-n)/r,q=h/r):(s=G(s),p=i/s,q=(j-n)/s),e=new z([[q,-p],[p,q]]),E.setRows(c,f,e.dot(E.getRows(c,f)))):(n=-0.5*k,o=.5*G(-m),r=(g-n)*(g-n)+h*h,s=i*i+(j-n)*(j-n),r>s?(r=G(r+o*o),p=(g-n)/r,q=h/r,n=0,o/=r):(s=G(s+o*o),p=i/s,q=(j-n)/s,n=o/s,o=0),e=new z([[q,-p],[p,q]],[[n,o],[o,-n]]),E.setRows(c,f,e.dot(E.getRows(c,f))))}}t=E.dot(a).dot(E.transjugate()),A=a.length,u=numeric.T.identity(A);for(f=0;f<A;f++)if(f>0)for(d=f-1;d>=0;d--){v=t.get([d,d]),w=t.get([f,f]);if(!numeric.neq(v.x,w.x)&&!numeric.neq(v.y,w.y)){u.setRow(f,u.getRow(d));continue}n=t.getRow(d).getBlock([d],[f-1]),o=u.getRow(f).getBlock([d],[f-1]),u.set([f,d],t.get([d,f]).neg().sub(n.dot(o)).div(v.sub(w)))}for(f=0;f<A;f++)n=u.getRow(f),u.setRow(f,n.div(n.norm2()));return u=u.transpose(),u=E.transjugate().dot(u),{lambda:t.getDiag(),E:u}},numeric.ccsSparse=function(a){var b,c,d,e,f,g,h,i=a.length,j=[];for(d=i-1;d!==-1;--d){c=a[d];for(e in c){e=parseInt(e);while(e>=j.length)j[j.length]=0;c[e]!==0&&j[e]++}}b=j.length,f=Array(b+1),f[0]=0;for(d=0;d<b;++d)f[d+1]=f[d]+j[d];g=Array(f[b]),h=Array(f[b]);for(d=i-1;d!==-1;--d){c=a[d];for(e in c)c[e]!==0&&(j[e]--,g[f[e]+j[e]]=d,h[f[e]+j[e]]=c[e])}return[f,g,h]},numeric.ccsFull=function(a){var b,c,d,e,f=a[0],g=a[1],h=a[2],i=numeric.ccsDim(a),j=i[0],k=i[1],l=numeric.rep([j,k],0);for(b=0;b<k;b++){d=f[b],e=f[b+1];for(c=d;c<e;++c)l[g[c]][b]=h[c]}return l},numeric.ccsTSolve=function(a,b,c,d,e){function s(a){var b;if(c[a]!==0)return;c[a]=1;for(b=m[a];b<m[a+1];++b)s(n[b]);e[r]=a,++r}var f,g,h,i,j,k,l,m=a[0],n=a[1],o=a[2],p=m.length-1,q=Math.max,r=0;typeof d=="undefined"&&(c=numeric.rep([p],0)),typeof d=="undefined"&&(d=numeric.linspace(0,c.length-1)),typeof e=="undefined"&&(e=[]);for(f=d.length-1;f!==-1;--f)s(d[f]);e.length=r;for(f=e.length-1;f!==-1;--f)c[e[f]]=0;for(f=d.length-1;f!==-1;--f)g=d[f],c[g]=b[g];for(f=e.length-1;f!==-1;--f){g=e[f],h=m[g],i=q(m[g+1],h);for(j=h;j!==i;++j)if(n[j]===g){c[g]/=o[j];break}l=c[g];for(j=h;j!==i;++j)k=n[j],k!==g&&(c[k]-=l*o[j])}return c},numeric.ccsDFS=function(a){this.k=Array(a),this.k1=Array(a),this.j=Array(a)},numeric.ccsDFS.prototype.dfs=function(a,b,c,d,e,f){var g,h,i,j=0,k=e.length,l=this.k,m=this.k1,n=this.j;if(d[a]!==0)return;d[a]=1,n[0]=a,l[0]=h=b[a],m[0]=i=b[a+1];for(;;)if(h>=i){e[k]=n[j];if(j===0)return;++k,--j,h=l[j],i=m[j]}else g=f[c[h]],d[g]===0?(d[g]=1,l[j]=h,++j,n[j]=g,h=b[g],m[j]=i=b[g+1]):++h},numeric.ccsLPSolve=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o=a[0],p=a[1],q=a[2],r=o.length-1,s=0,t=b[0],u=b[1],v=b[2],w=t[e],x=t[e+1];d.length=0;for(h=w;h<x;++h)g.dfs(f[u[h]],o,p,c,d,f);for(h=d.length-1;h!==-1;--h)c[d[h]]=0;for(h=w;h!==x;++h)i=f[u[h]],c[i]=v[h];for(h=d.length-1;h!==-1;--h){i=d[h],j=o[i],k=o[i+1];for(l=j;l<k;++l)if(f[p[l]]===i){c[i]/=q[l];break}n=c[i];for(l=j;l<k;++l)m=f[p[l]],m!==i&&(c[m]-=n*q[l])}return c},numeric.ccsLUP1=function(a,b){var c,d,e,f,g,h,i,j=a[0].length-1,k=[numeric.rep([j+1],0),[],[]],l=[numeric.rep([j+1],0),[],[]],m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2],s=numeric.rep([j],0),t=numeric.rep([j],0),u=numeric.ccsLPSolve,v=Math.max,w=Math.abs,x=numeric.linspace(0,j-1),y=numeric.linspace(0,j-1),z=new numeric.ccsDFS(j);typeof b=="undefined"&&(b=1);for(c=0;c<j;++c){u(k,a,s,t,c,y,z),f=-1,g=-1;for(d=t.length-1;d!==-1;--d){e=t[d];if(e<=c)continue;h=w(s[e]),h>f&&(g=e,f=h)}w(s[c])<b*f&&(d=x[c],f=x[g],x[c]=f,y[f]=c,x[g]=d,y[d]=g,f=s[c],s[c]=s[g],s[g]=f),f=m[c],g=p[c],i=s[c],n[f]=x[c],o[f]=1,++f;for(d=t.length-1;d!==-1;--d)e=t[d],h=s[e],t[d]=0,s[e]=0,e<=c?(q[g]=e,r[g]=h,++g):(n[f]=x[e],o[f]=h/i,++f);m[c+1]=f,p[c+1]=g}for(d=n.length-1;d!==-1;--d)n[d]=y[n[d]];return{L:k,U:l,P:x,Pinv:y}},numeric.ccsDFS0=function(a){this.k=Array(a),this.k1=Array(a),this.j=Array(a)},numeric.ccsDFS0.prototype.dfs=function(a,b,c,d,e,f){var g,h,i,j=0,k=e.length,l=this.k,m=this.k1,n=this.j;if(d[a]!==0)return;d[a]=1,n[0]=a,l[0]=h=b[f[a]],m[0]=i=b[f[a]+1];for(;;){if(isNaN(h))throw new Error("Ow!");if(h>=i){e[k]=f[n[j]];if(j===0)return;++k,--j,h=l[j],i=m[j]}else g=c[h],d[g]===0?(d[g]=1,l[j]=h,++j,n[j]=g,g=f[g],h=b[g],m[j]=i=b[g+1]):++h}},numeric.ccsLPSolve0=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p=a[0],q=a[1],r=a[2],s=p.length-1,t=0,u=b[0],v=b[1],w=b[2],x=u[e],y=u[e+1];d.length=0;for(i=x;i<y;++i)h.dfs(v[i],p,q,c,d,f,g);for(i=d.length-1;i!==-1;--i)j=d[i],c[g[j]]=0;for(i=x;i!==y;++i)j=v[i],c[j]=w[i];for(i=d.length-1;i!==-1;--i){j=d[i],n=g[j],k=p[j],l=p[j+1];for(m=k;m<l;++m)if(q[m]===n){c[n]/=r[m];break}o=c[n];for(m=k;m<l;++m)c[q[m]]-=o*r[m];c[n]=o}},numeric.ccsLUP0=function(a,b){var c,d,e,f,g,h,i,j=a[0].length-1,k=[numeric.rep([j+1],0),[],[]],l=[numeric.rep([j+1],0),[],[]],m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2],s=numeric.rep([j],0),t=numeric.rep([j],0),u=numeric.ccsLPSolve0,v=Math.max,w=Math.abs,x=numeric.linspace(0,j-1),y=numeric.linspace(0,j-1),z=new numeric.ccsDFS0(j);typeof b=="undefined"&&(b=1);for(c=0;c<j;++c){u(k,a,s,t,c,y,x,z),f=-1,g=-1;for(d=t.length-1;d!==-1;--d){e=t[d];if(e<=c)continue;h=w(s[x[e]]),h>f&&(g=e,f=h)}w(s[x[c]])<b*f&&(d=x[c],f=x[g],x[c]=f,y[f]=c,x[g]=d,y[d]=g),f=m[c],g=p[c],i=s[x[c]],n[f]=x[c],o[f]=1,++f;for(d=t.length-1;d!==-1;--d)e=t[d],h=s[x[e]],t[d]=0,s[x[e]]=0,e<=c?(q[g]=e,r[g]=h,++g):(n[f]=x[e],o[f]=h/i,++f);m[c+1]=f,p[c+1]=g}for(d=n.length-1;d!==-1;--d)n[d]=y[n[d]];return{L:k,U:l,P:x,Pinv:y}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(a){return[numeric.sup(a[1])+1,a[0].length-1]},numeric.ccsGetBlock=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=numeric.ccsDim(a),x=w[0],y=w[1];typeof b=="undefined"?b=numeric.linspace(0,x-1):typeof b=="number"&&(b=[b]),typeof c=="undefined"?c=numeric.linspace(0,y-1):typeof c=="number"&&(c=[c]),e=b.length,g=c.length,k=numeric.rep([y],0),l=[],m=[],n=[k,l,m],o=a[0],p=a[1],q=a[2],r=numeric.rep([x],0),s=0,t=numeric.rep([x],0);for(f=0;f<g;++f){i=c[f],u=o[i],v=o[i+1];for(d=u;d<v;++d)h=p[d],t[h]=1,r[h]=q[d];for(d=0;d<e;++d)j=b[d],t[j]&&(l[s]=d,m[s]=r[b[d]],++s);for(d=u;d<v;++d)h=p[d],t[h]=0;k[f+1]=s}return n},numeric.ccsDot=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=a[0],o=a[1],p=a[2],q=b[0],r=b[1],s=b[2],t=numeric.ccsDim(a),u=numeric.ccsDim(b),v=t[0],w=t[1],x=u[1],y=numeric.rep([v],0),z=numeric.rep([v],0),A=Array(v),B=numeric.rep([x],0),C=[],D=[],E=[B,C,D];for(e=0;e!==x;++e){f=q[e],g=q[e+1],k=0;for(d=f;d<g;++d){l=r[d],m=s[d],h=n[l],i=n[l+1];for(c=h;c<i;++c)j=o[c],z[j]===0&&(A[k]=j,z[j]=1,k+=1),y[j]=y[j]+p[c]*m}f=B[e],g=f+k,B[e+1]=g;for(d=k-1;d!==-1;--d)m=f+d,c=A[d],C[m]=c,D[m]=y[c],z[c]=0,y[c]=0;B[e+1]=B[e]+k}return E},numeric.ccsLUPSolve=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a.L,w=a.U,x=a.P,y=b[0],z=!1;typeof y!="object"&&(b=[[0,b.length],numeric.linspace(0,b.length-1),b],y=b[0],z=!0),c=b[1],d=b[2],e=v[0].length-1,f=y.length-1,g=numeric.rep([e],0),h=Array(e),i=numeric.rep([e],0),j=Array(e),k=numeric.rep([f+1],0),l=[],m=[],n=numeric.ccsTSolve,u=0;for(o=0;o<f;++o){s=0,q=y[o],r=y[o+1];for(p=q;p<r;++p)t=a.Pinv[c[p]],j[s]=t,i[t]=d[p],++s;j.length=s,n(v,i,g,j,h);for(p=j.length-1;p!==-1;--p)i[j[p]]=0;n(w,g,i,h,j);if(z)return i;for(p=h.length-1;p!==-1;--p)g[h[p]]=0;for(p=j.length-1;p!==-1;--p)t=j[p],l[u]=t,m[u]=i[t],i[t]=0,++u;k[o+1]=u}return[k,l,m]},numeric.ccsbinop=function(a,b){return typeof b=="undefined"&&(b=""),numeric.compile("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+b+"for(i=0;i<n;++i) {\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Xj[j];\n"+"    x[k] = 1;\n"+"    Zj[p] = k;\n"+"    ++p;\n"+"  }\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Yj[j];\n"+"    y[k] = Yv[j];\n"+"    if(x[k] === 0) {\n"+"      Zj[p] = k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] = p;\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n"+"  j0 = Zi[i]; j1 = Zi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Zj[j];\n"+"    xk = x[k];\n"+"    yk = y[k];\n"+a+"\n"+"    Zv[j] = zk;\n"+"  }\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n"+"}\n"+"return [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=numeric.compile("X","Y",'if(typeof X === "number") return '+A+";\n"+'if(typeof Y === "number") return '+B+";\n"+"return "+C+";\n")}(),numeric.ccsScatter=function(a){var b,c,d,e,f=a[0],g=a[1],h=a[2],i=numeric.sup(g)+1,j=f.length,k=numeric.rep([i],0),l=Array(j),m=Array(j),n=numeric.rep([i],0);for(b=0;b<j;++b)n[g[b]]++;for(b=0;b<i;++b)k[b+1]=k[b]+n[b];c=k.slice(0);for(b=0;b<j;++b)e=g[b],d=c[e],l[d]=f[b],m[d]=h[b],c[e]=c[e]+1;return[k,l,m]},numeric.ccsGather=function(a){var b,c,d,e,f=a[0],g=a[1],h=a[2],i=f.length-1,j=g.length,k=Array(j),l=Array(j),m=Array(j),n=0;for(b=0;b<i;++b){d=f[b],e=f[b+1];for(c=d;c!==e;++c)l[n]=b,k[n]=g[c],m[n]=h[c],++n}return[k,l,m]},numeric.sdim=function dim(a,b,c){var d;typeof b=="undefined"&&(b=[]);if(typeof a!="object")return b;typeof c=="undefined"&&(c=0),c in b||(b[c]=0),a.length>b[c]&&(b[c]=a.length);for(d in a)a.hasOwnProperty(d)&&dim(a[d],b,c+1);return b},numeric.sclone=function clone(a,b,c){var d,e;typeof b=="undefined"&&(b=0),typeof c=="undefined"&&(c=numeric.sdim(a).length),e=Array(a.length);if(b===c-1){for(d in a)a.hasOwnProperty(d)&&(e[d]=a[d]);return e}for(d in a)a.hasOwnProperty(d)&&(e[d]=clone(a[d],b+1,c));return e},numeric.sdiag=function(a){var b,c,d=a.length,e=Array(d);for(b=d-1;b>=1;b-=2)c=b-1,e[b]=[],e[b][b]=a[b],e[c]=[],e[c][c]=a[c];return b===0&&(e[0]=[],e[0][0]=a[b]),e},numeric.sidentity=function(a){return numeric.sdiag(numeric.rep([a],1))},numeric.stranspose=function(a){var b,c,d,e=[],f=a.length;for(b in a){if(!a.hasOwnProperty(b))continue;d=a[b];for(c in d){if(!d.hasOwnProperty(c))continue;typeof e[c]!="object"&&(e[c]=[]),e[c][b]=d[c]}}return e},numeric.sLUP=function(){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(a,b){var c,d,e,f,g,h,i,j=a.length,k=b.length,l=numeric.stranspose(b),m=l.length,n=Array(j);for(e=j-1;e>=0;e--){i=[],c=a[e];for(g=m-1;g>=0;g--){h=0,d=l[g];for(f in c){if(!c.hasOwnProperty(f))continue;f in d&&(h+=c[f]*d[f])}h&&(i[g]=h)}n[e]=i}return n},numeric.sdotMV=function(a,b){var c,d,e,f,g=a.length,h=Array(g);for(d=g-1;d>=0;d--){c=a[d],f=0;for(e in c){if(!c.hasOwnProperty(e))continue;b[e]&&(f+=c[e]*b[e])}f&&(h[d]=f)}return h},numeric.sdotVM=function(a,b){var c,d,e,f,g=[];for(c in a){if(!a.hasOwnProperty(c))continue;e=b[c],f=a[c];for(d in e){if(!e.hasOwnProperty(d))continue;g[d]||(g[d]=0),g[d]+=f*e[d]}}return g},numeric.sdotVV=function(a,b){var c,d=0;for(c in a)a[c]&&b[c]&&(d+=a[c]*b[c]);return d},numeric.sdot=function(a,b){var c=numeric.sdim(a).length,d=numeric.sdim(b).length,e=c*1e3+d;switch(e){case 0:return a*b;case 1001:return numeric.sdotVV(a,b);case 2001:return numeric.sdotMV(a,b);case 1002:return numeric.sdotVM(a,b);case 2002:return numeric.sdotMM(a,b);default:throw new Error("numeric.sdot not implemented for tensors of order "+c+" and "+d)}},numeric.sscatter=function(a){var b,c,d,e,f=a[0].length,g=a.length,h=[];for(c=f-1;c>=0;--c){if(!a[g-1][c])continue;e=h;for(d=0;d<g-2;d++)b=a[d][c],e[b]||(e[b]=[]),e=e[b];e[a[d][c]]=a[d+1][c]}return h},numeric.sgather=function gather(a,b,c){var d,e,f;typeof b=="undefined"&&(b=[]),typeof c=="undefined"&&(c=[]),d=c.length;for(e in a)if(a.hasOwnProperty(e)){c[d]=parseInt(e),f=a[e];if(typeof f=="number"){if(f){if(b.length===0)for(e=d+1;e>=0;--e)b[e]=[];for(e=d;e>=0;--e)b[e].push(c[e]);b[d+1].push(f)}}else gather(f,b,c)}return c.length>d&&c.pop(),b},numeric.cLU=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=a[0],x=a[1],y=a[2],z=w.length,A=0;for(b=0;b<z;b++)w[b]>A&&(A=w[b]);A++,h=Array(A),i=Array(A),j=numeric.rep([A],Infinity),k=numeric.rep([A],-Infinity);for(d=0;d<z;d++)b=w[d],c=x[d],c<j[b]&&(j[b]=c),c>k[b]&&(k[b]=c);for(b=0;b<A-1;b++)k[b]>k[b+1]&&(k[b+1]=k[b]);for(b=A-1;b>=1;b--)j[b]<j[b-1]&&(j[b-1]=j[b]);o=0,p=0;for(b=0;b<A;b++
)i[b]=numeric.rep([k[b]-j[b]+1],0),h[b]=numeric.rep([b-j[b]],0),o+=b-j[b]+1,p+=k[b]-b+1;for(d=0;d<z;d++)b=w[d],i[b][x[d]-j[b]]=y[d];for(b=0;b<A-1;b++){e=b-j[b],l=i[b];for(c=b+1;j[c]<=b&&c<A;c++){f=b-j[c],g=k[b]-b,m=i[c],n=m[f]/l[e];if(n){for(d=1;d<=g;d++)m[d+f]-=n*l[d+e];h[c][b-j[c]]=n}}}l=[],m=[],q=[],r=[],s=[],t=[],z=0,u=0;for(b=0;b<A;b++){e=j[b],f=k[b],v=i[b];for(c=b;c<=f;c++)v[c-e]&&(l[z]=b,m[z]=c,q[z]=v[c-e],z++);v=h[b];for(c=e;c<b;c++)v[c-e]&&(r[u]=b,s[u]=c,t[u]=v[c-e],u++);r[u]=b,s[u]=b,t[u]=1,u++}return{U:[l,m,q],L:[r,s,t]}},numeric.cLUsolve=function(a,b){var c,d=a.L,e=a.U,f=numeric.clone(b),g=d[0],h=d[1],i=d[2],j=e[0],k=e[1],l=e[2],m=j.length,n=g.length,o=f.length,p=0;for(c=0;c<o;c++){while(h[p]<c)f[c]-=i[p]*f[h[p]],p++;p++}p=m-1;for(c=o-1;c>=0;c--){while(k[p]>c)f[c]-=l[p]*f[k[p]],p--;f[c]/=l[p],p--}return f},numeric.cgrid=function(a,b){var c,d,e,f;typeof a=="number"&&(a=[a,a]),c=numeric.rep(a,-1);if(typeof b!="function")switch(b){case"L":b=function(b,c){return b>=a[0]/2||c<a[1]/2};break;default:b=function(){return!0}}f=0;for(d=1;d<a[0]-1;d++)for(e=1;e<a[1]-1;e++)b(d,e)&&(c[d][e]=f,f++);return c},numeric.cdelsq=function(a){var b,c,d,e,f,g=[[-1,0],[0,-1],[0,1],[1,0]],h=numeric.dim(a),i=h[0],j=h[1],k=[],l=[],m=[];for(b=1;b<i-1;b++)for(c=1;c<j-1;c++){if(a[b][c]<0)continue;for(d=0;d<4;d++){e=b+g[d][0],f=c+g[d][1];if(a[e][f]<0)continue;k.push(a[b][c]),l.push(a[e][f]),m.push(-1)}k.push(a[b][c]),l.push(a[b][c]),m.push(4)}return[k,l,m]},numeric.cdotMV=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=e.length,i=0;for(d=0;d<h;d++)e[d]>i&&(i=e[d]);i++,c=numeric.rep([i],0);for(d=0;d<h;d++)c[e[d]]+=g[d]*b[f[d]];return c},numeric.Spline=function(a,b,c,d,e){this.x=a,this.yl=b,this.yr=c,this.kl=d,this.kr=e},numeric.Spline.prototype._at=function(a,b){var a,c=this.x,d=this.yl,e=this.yr,f=this.kl,g=this.kr,h=numeric.add,i=numeric.sub,j=numeric.mul,k=i(j(f[b],c[b+1]-c[b]),i(e[b+1],d[b])),l=h(j(g[b+1],c[b]-c[b+1]),i(e[b+1],d[b])),m=(a-c[b])/(c[b+1]-c[b]),n=m*(1-m);return h(h(h(j(1-m,d[b]),j(m,e[b+1])),j(k,n*(1-m))),j(l,n*m))},numeric.Spline.prototype.at=function(a){var b,c,d,e,f,g,h,i;if(typeof a=="number"){b=this.x,c=b.length,g=Math.floor,d=0,e=c-1;while(e-d>1)f=g((d+e)/2),b[f]<=a?d=f:e=f;return this._at(a,d)}c=a.length,i=Array(c);for(h=c-1;h!==-1;--h)i[h]=this.at(a[h]);return i},numeric.Spline.prototype.diff=function(){var a,b,c,d=this.x,e=this.yl,f=this.yr,g=this.kl,h=this.kr,i=e.length,j=g,k=h,l=Array(i),m=Array(i),n=numeric.add,o=numeric.mul,p=numeric.div,q=numeric.sub;for(a=i-1;a!==-1;--a)b=d[a+1]-d[a],c=q(f[a+1],e[a]),l[a]=p(n(o(c,6),o(g[a],-4*b),o(h[a+1],-2*b)),b*b),m[a+1]=p(n(o(c,-6),o(g[a],2*b),o(h[a+1],4*b)),b*b);return new numeric.Spline(d,j,k,l,m)},numeric.Spline.prototype.roots=function(){function I(a){return a*a}var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;a=[],b=this.x,c=this.yl,d=this.yr,e=this.kl,f=this.kr,typeof c[0]=="number"&&(c=[c],d=[d],e=[e],f=[f]),g=c.length,h=b.length-1,a=Array(g),G=Math.sqrt;for(i=0;i!==g;++i){l=c[i],m=d[i],n=e[i],o=f[i],p=[];for(j=0;j!==h;j++){j>0&&m[j]*l[j]<0&&p.push(b[j]),x=b[j+1]-b[j],y=b[j],s=l[j],t=m[j+1],q=n[j]/x,r=o[j+1]/x,w=I(q-r+3*(s-t))+12*r*s,u=r+3*s+2*q-3*t,v=3*(r+q+2*(s-t)),w<=0?(A=u/v,A>b[j]&&A<b[j+1]?z=[b[j],A,b[j+1]]:z=[b[j],b[j+1]]):(A=(u-G(w))/v,B=(u+G(w))/v,z=[b[j]],A>b[j]&&A<b[j+1]&&z.push(A),B>b[j]&&B<b[j+1]&&z.push(B),z.push(b[j+1])),D=z[0],A=this._at(D,j);for(k=0;k<z.length-1;k++){E=z[k+1],B=this._at(E,j);if(A===0){p.push(D),D=E,A=B;continue}if(B===0||A*B>0){D=E,A=B;continue}H=0;for(;;){F=(A*E-B*D)/(A-B);if(F<=D||F>=E)break;C=this._at(F,j);if(C*B>0)E=F,B=C,H===-1&&(A*=.5),H=-1;else{if(!(C*A>0))break;D=F,A=C,H===1&&(B*=.5),H=1}}p.push(F),D=z[k+1],A=this._at(D,j)}B===0&&p.push(E)}a[i]=p}return typeof this.yl[0]=="number"?a[0]:a},numeric.spline=function(a,b,c,d){var e,f,g,h=a.length,i=[],j=[],k=[],l=numeric.sub,m=numeric.mul,n=numeric.add;for(e=h-2;e>=0;e--)j[e]=a[e+1]-a[e],k[e]=l(b[e+1],b[e]);if(typeof c=="string"||typeof d=="string")c=d="periodic";f=[[],[],[]];switch(typeof c){case"undefined":i[0]=m(3/(j[0]*j[0]),k[0]),f[0].push(0,0),f[1].push(0,1),f[2].push(2/j[0],1/j[0]);break;case"string":i[0]=n(m(3/(j[h-2]*j[h-2]),k[h-2]),m(3/(j[0]*j[0]),k[0])),f[0].push(0,0,0),f[1].push(h-2,0,1),f[2].push(1/j[h-2],2/j[h-2]+2/j[0],1/j[0]);break;default:i[0]=c,f[0].push(0),f[1].push(0),f[2].push(1)}for(e=1;e<h-1;e++)i[e]=n(m(3/(j[e-1]*j[e-1]),k[e-1]),m(3/(j[e]*j[e]),k[e])),f[0].push(e,e,e),f[1].push(e-1,e,e+1),f[2].push(1/j[e-1],2/j[e-1]+2/j[e],1/j[e]);switch(typeof d){case"undefined":i[h-1]=m(3/(j[h-2]*j[h-2]),k[h-2]),f[0].push(h-1,h-1),f[1].push(h-2,h-1),f[2].push(1/j[h-2],2/j[h-2]);break;case"string":f[1][f[1].length-1]=0;break;default:i[h-1]=d,f[0].push(h-1),f[1].push(h-1),f[2].push(1)}typeof i[0]!="number"?i=numeric.transpose(i):i=[i],g=Array(i.length);if(typeof c=="string")for(e=g.length-1;e!==-1;--e)g[e]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(f)),i[e]),g[e][h-1]=g[e][0];else for(e=g.length-1;e!==-1;--e)g[e]=numeric.cLUsolve(numeric.cLU(f),i[e]);return typeof b[0]=="number"?g=g[0]:g=numeric.transpose(g),new numeric.Spline(a,b,b,g,g)},numeric.fftpow2=function fftpow2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=a.length;if(o===1)return;c=Math.cos,d=Math.sin,g=Array(o/2),h=Array(o/2),i=Array(o/2),j=Array(o/2),f=o/2;for(e=o-1;e!==-1;--e)--f,i[f]=a[e],j[f]=b[e],--e,g[f]=a[e],h[f]=b[e];fftpow2(g,h),fftpow2(i,j),f=o/2,l=-6.283185307179586/o;for(e=o-1;e!==-1;--e)--f,f===-1&&(f=o/2-1),k=l*e,m=c(k),n=d(k),a[e]=g[f]+m*i[f]-n*j[f],b[e]=h[f]+m*j[f]+n*i[f]},numeric._ifftpow2=function _ifftpow2(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=a.length;if(o===1)return;c=Math.cos,d=Math.sin,g=Array(o/2),h=Array(o/2),i=Array(o/2),j=Array(o/2),f=o/2;for(e=o-1;e!==-1;--e)--f,i[f]=a[e],j[f]=b[e],--e,g[f]=a[e],h[f]=b[e];_ifftpow2(g,h),_ifftpow2(i,j),f=o/2,l=6.283185307179586/o;for(e=o-1;e!==-1;--e)--f,f===-1&&(f=o/2-1),k=l*e,m=c(k),n=d(k),a[e]=g[f]+m*i[f]-n*j[f],b[e]=h[f]+m*j[f]+n*i[f]},numeric.ifftpow2=function(a,b){numeric._ifftpow2(a,b),numeric.diveq(a,a.length),numeric.diveq(b,b.length)},numeric.convpow2=function(a,b,c,d){var e,f,g,h,i,j;numeric.fftpow2(a,b),numeric.fftpow2(c,d),f=a.length;for(e=f-1;e!==-1;--e)g=a[e],i=b[e],h=c[e],j=d[e],a[e]=g*h-i*j,b[e]=g*j+i*h;numeric.ifftpow2(a,b)},numeric.T.prototype.fft=function(){var a,b,c,d,e=this.x,f=this.y,g=e.length,h=Math.log,i=h(2),j=Math.ceil(h(2*g-1)/i),k=Math.pow(2,j),l=numeric.rep([k],0),m=numeric.rep([k],0),n=Math.cos,o=Math.sin,p=-3.141592653589793/g,q=numeric.rep([k],0),r=numeric.rep([k],0),s=Math.floor(g/2);for(a=0;a<g;a++)q[a]=e[a];if(typeof f!="undefined")for(a=0;a<g;a++)r[a]=f[a];l[0]=1;for(a=1;a<=k/2;a++)b=p*a*a,l[a]=n(b),m[a]=o(b),l[k-a]=n(b),m[k-a]=o(b);return c=new numeric.T(q,r),d=new numeric.T(l,m),c=c.mul(d),numeric.convpow2(c.x,c.y,numeric.clone(d.x),numeric.neg(d.y)),c=c.mul(d),c.x.length=g,c.y.length=g,c},numeric.T.prototype.ifft=function(){var a,b,c,d,e=this.x,f=this.y,g=e.length,h=Math.log,i=h(2),j=Math.ceil(h(2*g-1)/i),k=Math.pow(2,j),l=numeric.rep([k],0),m=numeric.rep([k],0),n=Math.cos,o=Math.sin,p=3.141592653589793/g,q=numeric.rep([k],0),r=numeric.rep([k],0),s=Math.floor(g/2);for(a=0;a<g;a++)q[a]=e[a];if(typeof f!="undefined")for(a=0;a<g;a++)r[a]=f[a];l[0]=1;for(a=1;a<=k/2;a++)b=p*a*a,l[a]=n(b),m[a]=o(b),l[k-a]=n(b),m[k-a]=o(b);return c=new numeric.T(q,r),d=new numeric.T(l,m),c=c.mul(d),numeric.convpow2(c.x,c.y,numeric.clone(d.x),numeric.neg(d.y)),c=c.mul(d),c.x.length=g,c.y.length=g,c.div(g)},numeric.gradient=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=b.length,x=a(b);if(isNaN(x))throw new Error("gradient: f(x) is a NaN!");c=Math.max,e=numeric.clone(b),h=Array(w),i=numeric.div,j=numeric.sub,c=Math.max,l=.001,m=Math.abs,n=Math.min,r=0;for(d=0;d<w;d++){v=c(1e-6*x,1e-8);for(;;){++r;if(r>20)throw new Error("Numerical gradient fails");e[d]=b[d]+v,f=a(e),e[d]=b[d]-v,g=a(e),e[d]=b[d];if(isNaN(f)||isNaN(g)){v/=16;continue}h[d]=(f-g)/(2*v),o=b[d]-v,p=b[d],q=b[d]+v,s=(f-x)/v,t=(x-g)/v,u=c(m(h[d]),m(x),m(f),m(g),m(o),m(p),m(q),1e-8),k=n(c(m(s-h[d]),m(t-h[d]),m(s-t))/u,v/u);if(!(k>l))break;v/=16}}return h},numeric.uncmin=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=numeric.gradient;typeof g=="undefined"&&(g={}),typeof c=="undefined"&&(c=1e-8),typeof d=="undefined"&&(d=function(b){return K(a,b)}),typeof e=="undefined"&&(e=1e3),b=numeric.clone(b),h=b.length,i=a(b);if(isNaN(i))throw new Error("uncmin: f(x0) is a NaN!");l=Math.max,m=numeric.norm2,c=l(c,numeric.epsilon),q=g.Hinv||numeric.identity(h),r=numeric.dot,s=numeric.inv,t=numeric.sub,u=numeric.add,v=numeric.tensor,w=numeric.div,x=numeric.mul,y=numeric.all,z=numeric.isFinite,A=numeric.neg,B=0,J="",o=d(b);while(B<e){if(typeof f=="function"&&f(B,b,i,o,q)){J="Callback returned true";break}if(!y(z(o))){J="Gradient has Infinity or NaN";break}n=A(r(q,o));if(!y(z(n))){J="Search direction has Infinity or NaN";break}I=m(n);if(I<c){J="Newton step smaller than tol";break}H=1,k=r(o,n),D=b;while(B<e){if(H*I<c)break;C=x(n,H),D=u(b,C),j=a(D);if(j-i>=.1*H*k||isNaN(j)){H*=.5,++B;continue}break}if(H*I<c){J="Line search step size smaller than tol";break}if(B===e){J="maxit reached during line search";break}p=d(D),E=t(p,o),G=r(E,C),F=r(q,E),q=t(u(q,x((G+r(E,F))/(G*G),v(C,C))),w(u(v(F,C),v(C,F)),G)),b=D,i=j,o=p,++B}return{solution:b,f:i,gradient:o,invHessian:q,iterations:B,message:J}},numeric.Dopri=function(a,b,c,d,e,f,g){this.x=a,this.y=b,this.f=c,this.ymid=d,this.iterations=e,this.events=g,this.message=f},numeric.Dopri.prototype._at=function(a,b){function x(a){return a*a}var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return c=this,d=c.x,e=c.y,f=c.f,g=c.ymid,h=d.length,o=Math.floor,q=.5,r=numeric.add,s=numeric.mul,t=numeric.sub,i=d[b],j=d[b+1],l=e[b],m=e[b+1],p=j-i,k=i+q*p,n=g[b],u=t(f[b],s(l,1/(i-k)+2/(i-j))),v=t(f[b+1],s(m,1/(j-k)+2/(j-i))),w=[x(a-j)*(a-k)/x(i-j)/(i-k),x(a-i)*x(a-j)/x(i-k)/x(j-k),x(a-i)*(a-k)/x(j-i)/(j-k),(a-i)*x(a-j)*(a-k)/x(i-j)/(i-k),(a-j)*x(a-i)*(a-k)/x(i-j)/(j-k)],r(r(r(r(s(l,w[0]),s(n,w[1])),s(m,w[2])),s(u,w[3])),s(v,w[4]))},numeric.Dopri.prototype.at=function(a){var b,c,d,e,f,g,h=Math.floor;if(typeof a!="number"){e=a.length,f=Array(e);for(b=e-1;b!==-1;--b)f[b]=this.at(a[b]);return f}g=this.x,b=0,c=g.length-1;while(c-b>1)d=h(.5*(b+c)),g[d]<=a?b=d:c=d;return this._at(a,b)},numeric.dopri=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb;typeof e=="undefined"&&(e=1e-6),typeof f=="undefined"&&(f=1e3),h=[a],i=[c],j=[d(a,c)],q=[],r=.2,s=[.075,.225],t=[44/45,-56/15,32/9],u=[19372/6561,-25360/2187,64448/6561,-212/729],v=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],w=[35/384,0,500/1113,125/192,-2187/6784,11/84],x=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],y=[.2,.3,.8,8/9,1,1],z=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],A=0,D=(b-a)/10,E=0,F=numeric.add,G=numeric.mul,J=Math.max,K=Math.min,L=Math.abs,M=numeric.norminf,N=Math.pow,O=numeric.any,P=numeric.lt,Q=numeric.and,R=numeric.sub,V=new numeric.Dopri(h,i,j,q,-1,""),typeof g=="function"&&(S=g(a,c));while(a<b&&E<f){++E,a+D>b&&(D=b-a),k=d(a+y[0]*D,F(c,G(r*D,j[A]))),l=d(a+y[1]*D,F(F(c,G(s[0]*D,j[A])),G(s[1]*D,k))),m=d(a+y[2]*D,F(F(F(c,G(t[0]*D,j[A])),G(t[1]*D,k)),G(t[2]*D,l))),n=d(a+y[3]*D,F(F(F(F(c,G(u[0]*D,j[A])),G(u[1]*D,k)),G(u[2]*D,l)),G(u[3]*D,m))),o=d(a+y[4]*D,F(F(F(F(F(c,G(v[0]*D,j[A])),G(v[1]*D,k)),G(v[2]*D,l)),G(v[3]*D,m)),G(v[4]*D,n))),H=F(F(F(F(F(c,G(j[A],D*w[0])),G(l,D*w[2])),G(m,D*w[3])),G(n,D*w[4])),G(o,D*w[5])),p=d(a+D,H),B=F(F(F(F(F(G(j[A],D*z[0]),G(l,D*z[2])),G(m,D*z[3])),G(n,D*z[4])),G(o,D*z[5])),G(p,D*z[6])),typeof B=="number"?I=L(B):I=M(B);if(I>e){D=.2*D*N(e/I,.25);if(a+D===a){V.msg="Step size became too small";break}continue}q[A]=F(F(F(F(F(F(c,G(j[A],D*x[0])),G(l,D*x[2])),G(m,D*x[3])),G(n,D*x[4])),G(o,D*x[5])),G(p,D*x[6])),++A,h[A]=a+D,i[A]=H,j[A]=p;if(typeof g=="function"){X=a,Y=a+.5*D,T=g(Y,q[A-1]),U=Q(P(S,0),P(0,T)),O(U)||(X=Y,Y=a+D,S=T,T=g(Y,H),U=Q(P(S,0),P(0,T)));if(O(U)){ab=0,bb=1,cb=1;for(;;){if(typeof S=="number")Z=(cb*T*X-bb*S*Y)/(cb*T-bb*S);else{Z=Y;for(C=S.length-1;C!==-1;--C)S[C]<0&&T[C]>0&&(Z=K(Z,(cb*T[C]*X-bb*S[C]*Y)/(cb*T[C]-bb*S[C])))}if(Z<=X||Z>=Y)break;W=V._at(Z,A-1),_=g(Z,W),$=Q(P(S,0),P(0,_)),O($)?(Y=Z,T=_,U=$,cb=1,ab===-1?bb*=.5:bb=1,ab=-1):(X=Z,S=_,bb=1,ab===1?cb*=.5:cb=1,ab=1)}return H=V._at(.5*(a+Z),A-1),V.f[A]=d(Z,W),V.x[A]=Z,V.y[A]=W,V.ymid[A-1]=H,V.events=U,V.iterations=E,V}}a+=D,c=H,S=T,D=K(.8*D*N(e/I,.25),4*D)}return V.iterations=E,V},numeric.LU=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;b=b||!1,c=Math.abs,m=a.length,n=m-1,o=new Array(m),b||(a=numeric.clone(a));for(f=0;f<m;++f){j=f,i=a[f],l=c(i[f]);for(e=f+1;e<m;++e)g=c(a[e][f]),l<g&&(l=g,j=e);o[f]=j,j!=f&&(a[f]=a[j],a[j]=i,i=a[f]),h=i[f];for(d=f+1;d<m;++d)a[d][f]/=h;for(d=f+1;d<m;++d){k=a[d];for(e=f+1;e<n;++e)k[e]-=k[f]*i[e],++e,k[e]-=k[f]*i[e];e===n&&(k[e]-=k[f]*i[e])}}return{LU:a,P:o}},numeric.LUsolve=function(a,b){var c,d,e,f,g,h=a.LU,i=h.length,j=numeric.clone(b),k=a.P;for(c=i-1;c!==-1;--c)j[c]=b[c];for(c=0;c<i;++c){e=k[c],k[c]!==c&&(g=j[c],j[c]=j[e],j[e]=g),f=h[c];for(d=0;d<c;++d)j[c]-=j[d]*f[d]}for(c=i-1;c>=0;--c){f=h[c];for(d=c+1;d<i;++d)j[c]-=j[d]*f[d];j[c]/=f[c]}return j},numeric.solve=function(a,b,c){return numeric.LUsolve(numeric.LU(a,c),b)},numeric.echelonize=function(a){var b,c,d,e,f,g,h,i,j=numeric.dim(a),k=j[0],l=j[1],m=numeric.identity(k),n=Array(k),o=Math.abs,p=numeric.diveq;a=numeric.clone(a);for(b=0;b<k;++b){d=0,f=a[b],g=m[b];for(c=1;c<l;++c)o(f[d])<o(f[c])&&(d=c);n[b]=d,p(g,f[d]),p(f,f[d]);for(c=0;c<k;++c)if(c!==b){h=a[c],i=h[d];for(e=l-1;e!==-1;--e)h[e]-=f[e]*i;h=m[c];for(e=k-1;e!==-1;--e)h[e]-=g[e]*i}}return{I:m,A:a,P:n}},numeric.__solveLP=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t=numeric.sum,u=numeric.log,v=numeric.mul,w=numeric.sub,x=numeric.dot,y=numeric.div,z=numeric.add,A=a.length,B=c.length,C=!1,D=0,E=1,F=numeric.transpose(b),G=numeric.svd,H=numeric.transpose,I=numeric.leq,J=Math.sqrt,K=Math.abs,L=numeric.muleq,M=numeric.norminf,N=numeric.any,O=Math.min,P=numeric.all,Q=numeric.gt,R=Array(A),S=Array(B),T=numeric.rep([B],1),U=numeric.solve,V=w(c,x(b,f)),W=x(a,a);for(j=D;j<e;++j){for(l=B-1;l!==-1;--l)S[l]=y(b[l],V[l]);n=H(S);for(l=A-1;l!==-1;--l)R[l]=t(n[l]);E=.25*K(W/x(a,R)),o=100*J(W/x(R,R));if(!isFinite(E)||E>o)E=o;k=z(a,v(E,R)),i=x(n,S);for(l=A-1;l!==-1;--l)i[l][l]+=1;m=U(i,y(k,E),!0),p=y(V,x(b,m)),q=1;for(l=B-1;l!==-1;--l)p[l]<0&&(q=O(q,-0.999*p[l]));h=w(f,v(m,q)),V=w(c,x(b,h));if(!P(Q(V,0)))return{solution:f,message:"",iterations:j};f=h;if(E<d)return{solution:h,message:"",iterations:j};if(g){r=x(a,k),s=x(b,k),C=!0;for(l=B-1;l!==-1;--l)if(r*s[l]<0){C=!1;break}}else f[A-1]>=0?C=!1:C=!0;if(C)return{solution:h,message:"Unbounded",iterations:j}}return{solution:f,message:"maximum iteration count exceeded",iterations:j}},numeric._solveLP=function(a,b,c,d,e){var f,g,h=a.length,i=c.length,j=numeric.sum,k=numeric.log,l=numeric.mul,m=numeric.sub,n=numeric.dot,o=numeric.div,p=numeric.add,q=numeric.rep([h],0).concat([1]),r=numeric.rep([i,1],-1),s=numeric.blockMatrix([[b,r]]),t=c,u=numeric.rep([h],0).concat(Math.max(0,numeric.sup(numeric.neg(c)))+1),v=numeric.__solveLP(q,s,t,d,e,u,!1),w=numeric.clone(v.solution);return w.length=h,f=numeric.inf(m(c,n(b,w))),f<0?{solution:NaN,message:"Infeasible",iterations:v.iterations}:(g=numeric.__solveLP(a,b,c,d,e-v.iterations,w,!0),g.iterations+=v.iterations,g)},numeric.solveLP=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;typeof g=="undefined"&&(g=1e3),typeof f=="undefined"&&(f=numeric.epsilon);if(typeof d=="undefined")return numeric._solveLP(a,b,c,f,g);h=d.length,i=d[0].length,j=b.length,k=numeric.echelonize(d),l=numeric.rep([i],0),m=k.P,n=[];for(o=m.length-1;o!==-1;--o)l[m[o]]=1;for(o=i-1;o!==-1;--o)l[o]===0&&n.push(o);p=numeric.getRange,q=numeric.linspace(0,h-1),r=numeric.linspace(0,j-1),s=p(d,q,n),t=p(b,r,m),u=p(b,r,n),v=numeric.dot,w=numeric.sub,x=v(t,k.I),y=w(u,v(x,s)),z=w(c,v(x,e)),A=Array(m.length),B=Array(n.length);for(o=m.length-1;o!==-1;--o)A[o]=a[m[o]];for(o=n.length-1;o!==-1;--o)B[o]=a[n[o]];C=w(B,v(A,v(k.I,s))),D=numeric._solveLP(C,y,z,f,g),E=D.solution;if(E!==E)return D;F=v(k.I,w(e,v(s,E))),G=Array(a.length);for(o=m.length-1;o!==-1;--o)G[m[o]]=F[o];for(o=n.length-1;o!==-1;--o)G[n[o]]=E[o];return{solution:G,message:D.message,iterations:D.iterations}},numeric.MPStoLP=function(a){function v(d){throw new Error("MPStoLP: "+d+"\nLine "+e+": "+a[e]+"\nCurrent state: "+c[b]+"\n")}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a instanceof String&&a.split("\n"),b=0,c=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],d=a.length,h=0,i={},j=[],k=0,l={},m=0,o=[],p=[],q=[];for(e=0;e<d;++e){g=a[e],r=g.match(/\S*/g),s=[];for(f=0;f<r.length;++f)r[f]!==""&&s.push(r[f]);if(s.length===0)continue;for(f=0;f<c.length;++f)if(g.substr(0,c[f].length)===c[f])break;if(f<c.length){b=f,f===1&&(n=s[1]);if(f===6)return{name:n,c:o,A:numeric.transpose(p),b:q,rows:i,vars:l};continue}switch(b){case 0:case 1:v("Unexpected line");case 2:switch(s[0]){case"N":h===0?h=s[1]:v("Two or more N rows");break;case"L":i[s[1]]=k,j[k]=1,q[k]=0,++k;break;case"G":i[s[1]]=k,j[k]=-1,q[k]=0,++k;break;case"E":i[s[1]]=k,j[k]=0,q[k]=0,++k;break;default:v("Parse error "+numeric.prettyPrint(s))}break;case 3:l.hasOwnProperty(s[0])||(l[s[0]]=m,o[m]=0,p[m]=numeric.rep([k],0),++m),t=l[s[0]];for(f=1;f<s.length;f+=2){if(s[f]===h){o[t]=parseFloat(s[f+1]);continue}u=i[s[f]],p[t][u]=(j[u]<0?-1:1)*parseFloat(s[f+1])}break;case 4:for(f=1;f<s.length;f+=2)q[i[s[f]]]=(j[i[s[f]]]<0?-1:1)*parseFloat(s[f+1]);break;case 5:break;case 6:v("Internal error")}}v("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(a,b,c,d,e,f,g){function h(a){var b,d,e=this,f=a.length,g=0,h=e.i=e.j=e.m=0;e.S=[],e.c=[],f||(a=[f++]);while(g<c)e.S[g]=g++;for(g=0;g<c;g++)b=e.S[g],h=k(h+b+a[g%f]),d=e.S[h],e.S[g]=d,e.S[h]=b;e.g=function(a){var b,d=e.S,f=k(e.i+1),g=d[f],h=k(e.j+g),i=d[h];d[f]=i,d[h]=g,b=d[k(g+i)];while(--a)f=k(f+1),g=d[f],h=k(h+g),i=d[h],d[f]=i,d[h]=g,b=b*c+d[k(g+i)];return e.i=f,e.j=h,b},e.g(c)}function i(a,b,c,d,e){c=[],e=typeof a;if(b&&e=="object")for(d in a)if(d.indexOf("S")<5)try{c.push(i(a[d],b-1))}catch(f){}return c.length?c:a+(e!="string"?"\0":"")}function j(a,b,c,d){a+="",c=0;for(d=0;d<a.length;d++)b[k(d)]=k((c^=b[k(d)]*19)+a.charCodeAt(d));a="";for(d in b)a+=String.fromCharCode(b[d]);return a}function k(a){return a&c-1}b.seedrandom=function(k,l){var m,n=[];return k=j(i(l?[k,a]:arguments.length?k:[(new Date).getTime(),a,window],3),n),m=new h(n),j(m.S,a),b.random=function(){var a=m.g(d),b=g,h=0;while(a<e)a=(a+h)*c,b*=c,h=m.g(1);while(a>=f)a/=2,b/=2,h>>>=1;return(a+h)/b},k},g=b.pow(c,d),e=b.pow(2,e),f=e*2,j(b.random(),a)}([],numeric.seedrandom,256,6,52),function(a){function b(a){var c,d,e;if(typeof a!="object")return a;c=[],e=a.length;for(d=0;d<e;d++)c[d+1]=b(a[d]);return c}function c(a){var b,d,e;if(typeof a!="object")return a;b=[],e=a.length;for(d=1;d<e;d++)b[d-1]=c(a[d]);return b}function d(a,b,c){var d,e,f,g,h;for(f=1;f<=c;f+=1){a[f][f]=1/a[f][f],h=-a[f][f];for(d=1;d<f;d+=1)a[d][f]=h*a[d][f];g=f+1;if(c<g)break;for(e=g;e<=c;e+=1){h=a[f][e],a[f][e]=0;for(d=1;d<=f;d+=1)a[d][e]=a[d][e]+h*a[d][f]}}}function e(a,b,c,d){var e,f,g,h;for(f=1;f<=c;f+=1){h=0;for(e=1;e<f;e+=1)h+=a[e][f]*d[e];d[f]=(d[f]-h)/a[f][f]}for(g=1;g<=c;g+=1){f=c+1-g,d[f]=d[f]/a[f][f],h=-d[f];for(e=1;e<f;e+=1)d[e]=d[e]+h*a[e][f]}}function f(a,b,c,d){var e,f,g,h,i,j;for(f=1;f<=c;f+=1){d[1]=f,j=0,g=f-1;if(g<1){j=a[f][f]-j;if(j<=0)break;a[f][f]=Math.sqrt(j)}else{for(h=1;h<=g;h+=1){i=a[h][f];for(e=1;e<h;e+=1)i-=a[e][f]*a[e][h];i/=a[h][h],a[h][f]=i,j+=i*i}j=a[f][f]-j;if(j<=0)break;a[f][f]=Math.sqrt(j)}d[1]=0}}function g(a,b,c,g,h,i,j,k,l,m,n,o,p,q,r,s){function U(){q[1]=q[1]+1,S=B;for(t=1;t<=m;t+=1){S+=1,G=-k[t];for(u=1;u<=g;u+=1)G+=j[u][t]*h[u];Math.abs(G)<T&&(G=0);if(t>n)r[S]=G;else{r[S]=-Math.abs(G);if(G>0){for(u=1;u<=g;u+=1)j[u][t]=-j[u][t];k[t]=-k[t]}}}for(t=1;t<=p;t+=1)r[B+o[t]]=0;D=0,F=0;for(t=1;t<=m;t+=1)r[B+t]<F*r[E+t]&&(D=t,F=r[B+t]/r[E+t]);return D===0?999:0}function V(){for(t=1;t<=g;t+=1){G=0;for(u=1;u<=g;u+=1)G+=a[u][t]*j[u][D];r[t]=G}v=y;for(t=1;t<=g;t+=1)r[v+t]=0;for(u=p+1;u<=g;u+=1)for(t=1;t<=g;t+=1)r[v+t]=r[v+t]+a[t][u]*r[u];M=!0;for(t=p;t>=1;t-=1){G=r[t],S=A+t*(t+3)/2,v=S-t;for(u=t+1;u<=p;u+=1)G-=r[S]*r[z+u],S+=u;G/=r[v],r[z+t]=G;if(o[t]<n)break;if(G<0)break;M=!1,x=t}if(!M){H=r[C+x]/r[z+x];for(t=1;t<=p;t+=1){if(o[t]<n)break;if(r[z+t]<0)break;F=r[C+t]/r[z+t],F<H&&(H=F,x=t)}}G=0;for(t=y+1;t<=y+g;t+=1)G+=r[t]*r[t];if(Math.abs(G)<=T){if(M)return s[1]=1,999;for(t=1;t<=p;t+=1)r[C+t]=r[C+t]-H*r[z+t];return r[C+p+1]=r[C+p+1]+H,700}G=0;for(t=1;t<=g;t+=1)G+=r[y+t]*j[t][D];I=-r[B+D]/G,N=!0,M||H<I&&(I=H,N=!1);for(t=1;t<=g;t+=1)h[t]=h[t]+I*r[y+t],Math.abs(h[t])<T&&(h[t]=0);i[1]=i[1]+I*G*(I/2+r[C+p+1]);for(t=1;t<=p;t+=1)r[C+t]=r[C+t]-I*r[z+t];r[C+p+1]=r[C+p+1]+I;if(!N){G=-k[D];for(u=1;u<=g;u+=1)G+=h[u]*j[u][D];if(D>n)r[B+D]=G;else{r[B+D]=-Math.abs(G);if(G>0){for(u=1;u<=g;u+=1)j[u][D]=-j[u][D];k[D]=-k[D]}}return 700}p+=1,o[p]=D,S=A+(p-1)*p/2+1;for(t=1;t<=p-1;t+=1)r[S]=r[t],S+=1;if(p===g)r[S]=r[g];else{for(t=g;t>=p+1;t-=1){if(r[t]===0)break;J=Math.max(Math.abs(r[t-1]),Math.abs(r[t])),K=Math.min(Math.abs(r[t-1]),Math.abs(r[t])),r[t-1]>=0?F=Math.abs(J*Math.sqrt(1+K*K/(J*J))):F=-Math.abs(J*Math.sqrt(1+K*K/(J*J))),J=r[t-1]/F,K=r[t]/F;if(J===1)break;if(J===0){r[t-1]=K*F;for(u=1;u<=g;u+=1)F=a[u][t-1],a[u][t-1]=a[u][t],a[u][t]=F}else{r[t-1]=F,L=K/(1+J);for(u=1;u<=g;u+=1)F=J*a[u][t-1]+K*a[u][t],a[u][t]=L*(a[u][t-1]+F)-a[u][t],a[u][t-1]=F}}r[S]=r[p]}return 0}function W(){S=A+x*(x+1)/2+1,v=S+x;if(r[v]===0)return 798;J=Math.max(Math.abs(r[v-1]),Math.abs(r[v])),K=Math.min(Math.abs(r[v-1]),Math.abs(r[v])),r[v-1]>=0?F=Math.abs(J*Math.sqrt(1+K*K/(J*J))):F=-Math.abs(J*Math.sqrt(1+K*K/(J*J))),J=r[v-1]/F,K=r[v]/F;if(J===1)return 798;if(J===0){for(t=x+1;t<=p;t+=1)F=r[v-1],r[v-1]=r[v],r[v]=F,v+=t;for(t=1;t<=g;t+=1)F=a[t][x],a[t][x]=a[t][x+1],a[t][x+1]=F}else{L=K/(1+J);for(t=x+1;t<=p;t+=1)F=J*r[v-1]+K*r[v],r[v]=L*(r[v-1]+F)-r[v],r[v-1]=F,v+=t;for(t=1;t<=g;t+=1)F=J*a[t][x]+K*a[t][x+1],a[t][x+1]=L*(a[t][x]+F)-a[t][x+1],a[t][x]=F}return 0}function X(){v=S-x;for(t=1;t<=x;t+=1)r[v]=r[S],S+=1,v+=1;return r[C+x]=r[C+x+1],o[x]=o[x+1],x+=1,x<p?797:0}function Y(){return r[C+p]=r[C+p+1],r[C+p+1]=0,o[p]=0,p-=1,q[2]=q[2]+1,0}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R=Math.min(g,m),S=2*g+R*(R+5)/2+2*m+1,T=1e-60;do T+=T,O=1+.1*T,P=1+.2*T;while(O<=1||P<=1);for(t=1;t<=g;t+=1)r[t]=b[t];for(t=g+1;t<=S;t+=1)r[t]=0;for(t=1;t<=m;t+=1)o[t]=0;w=[];if(s[1]===0){f(a,c,g,w);if(w[1]!==0){s[1]=2;return}e(a,c,g,b),d(a,c,g)}else{for(u=1;u<=g;u+=1){h[u]=0;for(t=1;t<=u;t+=1)h[u]=h[u]+a[t][u]*b[t]}for(u=1;u<=g;u+=1){b[u]=0;for(t=u;t<=g;t+=1)b[u]=b[u]+a[u][t]*h[t]}}i[1]=0;for(u=1;u<=g;u+=1){h[u]=b[u],i[1]=i[1]+r[u]*h[u],r[u]=0;for(t=u+1;t<=g;t+=1)a[t][u]=0}i[1]=-i[1]/2,s[1]=0,y=g,z=y+g,C=z+R,A=C+R+1,B=A+R*(R+1)/2,E=B+m;for(t=1;t<=m;t+=1){G=0;for(u=1;u<=g;u+=1)G+=j[u][t]*j[u][t];r[E+t]=Math.sqrt(G)}p=0,q[1]=0,q[2]=0,Q=0;for(;;){Q=U();if(Q===999)return;for(;;){Q=V();if(Q===0)break;if(Q===999)return;if(Q===700)if(x===p)Y();else{for(;;){W(),Q=X();if(Q!==797)break}Y()}}}}function h(a,d,e,f,h,i){var j,k,l,m,n,o,p,q,r,s,t;a=b(a),d=b(d),e=b(e),o=[],p=[],q=[],r=[],s=[],h=h||0,i=i?b(i):[undefined,0],f=f?b(f):[],k=a.length-1,l=e[1].length-1;if(!f)for(j=1;j<=l;j+=1)f[j]=0;for(j=1;j<=l;j+=1)p[j]=0;m=0,n=Math.min(k,l);for(j=1;j<=k;j+=1)q[j]=0;o[1]=0;for(j=1;j<=2*k+n*(n+5)/2+2*l+1;j+=1)r[j]=0;for(j=1;j<=2;j+=1)s[j]=0;return g(a,d,k,k,q,o,e,f,k,l,h,p,m,s,r,i),t="",i[1]===1&&(t="constraints are inconsistent, no solution!"),i[1]===2&&(t="matrix D in quadratic function is not positive definite!"),{solution:c(q),value:c(o),unconstrained_solution:c(d),iterations:c(s),iact:c(p),message:t}}a.solveQP=h}(numeric),numeric.svd=function(a){function A(a,b){return a=Math.abs(a),b=Math.abs(b),a>b?a*Math.sqrt(1+b*b/a/a):b==0?a:b*Math.sqrt(1+a*a/b/b)}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=numeric.epsilon,q=1e-64/p,r=50,s=0,t=0,u=0,v=0,w=0,x=numeric.clone(a),y=x.length,z=x[0].length;if(y<z)throw"Need more rows than columns";c=new Array(z),d=new Array(z);for(t=0;t<z;t++)c[t]=d[t]=0;e=numeric.rep([z,z],0),f=0,g=0,h=0,i=0,j=0,k=0,l=0;for(t=0;t<z;t++){c[t]=g,l=0,w=t+1;for(u=t;u<y;u++)l+=x[u][t]*x[u][t];if(l<=q)g=0;else{f=x[t][t],g=Math.sqrt(l),f>=0&&(g=-g),h=f*g-l,x[t][t]=f-g;for(u=w;u<z;u++){l=0;for(v=t;v<y;v++)l+=x[v][t]*x[v][u];f=l/h;for(v=t;v<y;v++)x[v][u]+=f*x[v][t]}}d[t]=g,l=0;for(u=w;u<z;u++)l+=x[t][u]*x[t][u];if(l<=q)g=0;else{f=x[t][t+1],g=Math.sqrt(l),f>=0&&(g=-g),h=f*g-l,x[t][t+1]=f-g;for(u=w;u<z;u++)c[u]=x[t][u]/h;for(u=w;u<y;u++){l=0;for(v=w;v<z;v++)l+=x[u][v]*x[t][v];for(v=w;v<z;v++)x[u][v]+=l*c[v]}}j=Math.abs(d[t])+Math.abs(c[t]),j>i&&(i=j)}for(t=z-1;t!=-1;t+=-1){if(g!=0){h=g*x[t][t+1];for(u=w;u<z;u++)e[u][t]=x[t][u]/h;for(u=w;u<z;u++){l=0;for(v=w;v<z;v++)l+=x[t][v]*e[v][u];for(v=w;v<z;v++)e[v][u]+=l*e[v][t]}}for(u=w;u<z;u++)e[t][u]=0,e[u][t]=0;e[t][t]=1,g=c[t],w=t}for(t=z-1;t!=-1;t+=-1){w=t+1,g=d[t];for(u=w;u<z;u++)x[t][u]=0;if(g!=0){h=x[t][t]*g;for(u=w;u<z;u++){l=0;for(v=w;v<y;v++)l+=x[v][t]*x[v][u];f=l/h;for(v=t;v<y;v++)x[v][u]+=f*x[v][t]}for(u=t;u<y;u++)x[u][t]=x[u][t]/g}else for(u=t;u<y;u++)x[u][t]=0;x[t][t]+=1}p*=i;for(v=z-1;v!=-1;v+=-1)for(m=0;m<r;m++){n=!1;for(w=v;w!=-1;w+=-1){if(Math.abs(c[w])<=p){n=!0;break}if(Math.abs(d[w-1])<=p)break}if(!n){s=0,l=1,o=w-1;for(t=w;t<v+1;t++){f=l*c[t],c[t]=s*c[t];if(Math.abs(f)<=p)break;g=d[t],h=A(f,g),d[t]=h,s=g/h,l=-f/h;for(u=0;u<y;u++)j=x[u][o],k=x[u][t],x[u][o]=j*s+k*l,x[u][t]=-j*l+k*s}}k=d[v];if(w==v){if(k<0){d[v]=-k;for(u=0;u<z;u++)e[u][v]=-e[u][v]}break}if(m>=r-1)throw"Error: no convergence.";i=d[w],j=d[v-1],g=c[v-1],h=c[v],f=((j-k)*(j+k)+(g-h)*(g+h))/(2*h*j),g=A(f,1),f<0?f=((i-k)*(i+k)+h*(j/(f-g)-h))/i:f=((i-k)*(i+k)+h*(j/(f+g)-h))/i,s=1,l=1;for(t=w+1;t<v+1;t++){g=c[t],j=d[t],h=l*g,g=s*g,k=A(f,h),c[t-1]=k,s=f/k,l=h/k,f=i*s+g*l,g=-i*l+g*s,h=j*l,j*=s;for(u=0;u<z;u++)i=e[u][t-1],k=e[u][t],e[u][t-1]=i*s+k*l,e[u][t]=-i*l+k*s;k=A(f,h),d[t-1]=k,s=f/k,l=h/k,f=s*g+l*j,i=-l*g+s*j;for(u=0;u<y;u++)j=x[u][t-1],k=x[u][t],x[u][t-1]=j*s+k*l,x[u][t]=-j*l+k*s}c[w]=0,c[v]=f,d[v]=i}for(t=0;t<d.length;t++)d[t]<p&&(d[t]=0);for(t=0;t<z;t++)for(u=t-1;u>=0;u--)if(d[u]<d[t]){s=d[u],d[u]=d[t],d[t]=s;for(v=0;v<x.length;v++)b=x[v][t],x[v][t]=x[v][u],x[v][u]=b;for(v=0;v<e.length;v++)b=e[v][t],e[v][t]=e[v][u],e[v][u]=b;t=u}return{U:x,S:d,V:e}},numeric}),define("math/distance",["require","math/builtin","numeric"],function(a){var b=a("math/builtin"),c=a("numeric"),d={hypot:function(a,b){return a===0&&b===0?0:Math.abs(a)>Math.abs(b)?Math.abs(a)*Math.sqrt(b/a*(b/a)+1):Math.abs(b)*Math.sqrt(a/b*(a/b)+1)},mean:function(a,b){return a>0==b>0?a+.5*(b-a):.5*(a+b)},dot:function(a,b,c,d){return a*c+b*d},pointToSegmentParameter:function(a,b,c,d,e,f){var g=this.hypot(e-c,f-d);if(g===0)return 0;var h=this.dot((a-c)/g,(b-d)/g,(e-c)/g,(f-d)/g);return h},closestPointOnSegment:function(a,b,c,d,e,f){var g=this.pointToSegmentParameter(a,b,c,d,e,f);return g<=0?[c,d]:g>=1?[e,f]:[c+g*(e-c),d+g*(f-d)]},pointToSegment:function(a,b,c,d,e,f){var g=this.closestPointOnSegment(a,b,c,d,e,f);return this.hypot(a-g[0],b-g[1])},isLine:function(a,d,e,f,g,h){var i=c.svd([[a,d,1],[e,f,1],[g,h,1]]).S;return b.approx(i[i.length-1]/i[0],0)},isCircle:function(a,d,e,f,g,h,i,j){var k=c.svd([[a*a+d*d,a,d,1],[e*e+f*f,e,f,1],[g*g+h*h,g,h,1],[i*i+j*j,i,j,1]]).S;return b.approx(k[k.length-1]/k[0],0)},isConic:function(a,d,e,f,g,h,i,j,k,l,m,n){var o=c.svd([[a*a,d*d,2*a*d,a,d,1],[e*e,f*f,2*e*f,e,f,1],[g*g,h*h,2*g*h,g,h,1],[i*i,j*j,2*i*j,i,j,1],[k*k,l*l,2*k*l,k,l,1],[m*m,n*n,2*m*n,m,n,1]]).S;return b.approx(o[o.length-1]/o[0],0)},conicQuadraticParameters:function(a,b,d,e,f,g,h,i,j,k){return{a:c.det([[b*b,2*a*b,a,b,1],[e*e,2*d*e,d,e,1],[g*g,2*f*g,f,g,1],[i*i,2*h*i,h,i,1],[k*k,2*j*k,j,k,1]]),b:c.det([[a*a,b*b,a,b,1],[d*d,e*e,d,e,1],[f*f,g*g,f,g,1],[h*h,i*i,h,i,1],[j*j,k*k,j,k,1]]),c:-c.det([[a*a,2*a*b,a,b,1],[d*d,2*d*e,d,e,1],[f*f,2*f*g,f,g,1],[h*h,2*h*i,h,i,1],[j*j,2*j*k,j,k,1]])}},classifyConic:function(a,e,f,g,h,i,j,k,l,m,n,o){if(d.isLine(a,e,h,i,n,o))return"line";if(d.isCircle(a,e,f,g,l,m,n,o))return"circle";if(!d.isConic(a,e,f,g,h,i,j,k,l,m,n,o))return"none";var p=d.conicQuadraticParameters(a,e,f,g,h,i,j,k,l,m),q=c.svd([[p.a,p.b],[p.b,p.c]]).S;return b.approx(q[q.length-1]/q[0],0,20)?"parabola":p.b*p.b>p.a*p.c?"hyperbola":"ellipse"}};return d}),define("math/poi",["require","./builtin","./distance"],function(a){function d(a,b){var d,e,f,g,h,i;return a>b&&(d=a,a=b,b=d),e=a>0,f=b>0,g=Math.abs(a)>.01,h=Math.abs(b)>.01,g||h?c.mean(a,b):a===0?b*Math.abs(b):b===0?a*Math.abs(a):e!==f?0:(i=e?Math.sqrt(a*b):-Math.sqrt(a*b),i>=a&&b>=i?i:c.mean(a,b))}function e(a,b,c,e,g){var h,i;if(!isFinite(b)||!isFinite(e)||b<0==e<0){console.log("bisectZero called with bad y values",[b,e]);return}for(;;){h=d(a,c),i=g(h);if(!isFinite(i))return null;if(h===a||h===c)return Math.abs(b)<=Math.abs(e)?[a,b]:[c,e];if(i===0)return f(a,b,h,i,c,e,g);b<0!=i<0?(c=h,e=i):(a=h,b=i)}}function f(a,b,c,e,f,i,j){var k,l,m,n;if(!isFinite(e))return;return isFinite(b)||(k=g(a,b,c,e,j),a=k[0],b=k[1]),isFinite(i)||(k=g(c,e,f,i,j),f=k[0],i=k[1]),b===e?l=[a,b]:l=h(a,b,c,e,j,e),i===e?m=[f,i]:m=h(c,e,f,i,j,e),n=d(l[0],m[0]),[n,j(n)]}function g(a,b,c,e,f){var g,h;if(isFinite(b)===isFinite(e)){console.log("bisectFinite called with bad y values",[b,e]);return}for(;;){g=d(a,c),h=f(g);if(g===a||g===c)return isFinite(b)?[a,b]:[c,e];isFinite(h)!==isFinite(b)?(c=g,e=h):(a=g,b=h)}}function h(a,b,c,e,f,g){var h,i;if(b===g==(e===g)){console.log("bisectConstant called with bad y values",[b,e,g]);return}for(;;){h=d(a,c),i=f(h);if(h===a||h===c)return b===g?[a,b]:[c,e];i===g!=(b===g)?(c=h,e=i):(a=h,b=i)}}function i(a,b,c,e,g,h,i){var j,k,l,m;if(!(a<c&&c<g)){console.log("bisectExtremum called with bad x values",[a,c,g]);return}if(!(isFinite(b)&&isFinite(e)&&isFinite(h)&&b!==e&&e!==h&&e>b==e>h)){console.log("bisectExtremum called with bad y values",[b,e,h]);return}for(;;){j=d(a,c),k=i(j),l=d(c,g),m=i(l);if(!isFinite(k)||!isFinite(m))return null;if(j===a||j===c||l===c||l===g)return k>e==e>b?[j,k]:m>e==e>b?[l,m]:[c,e];if(k===e||m===e)return f(a,b,c,e,g,h,i);k>b==e>b&&k>b==k>e?(g=c,h=e,c=j,e=k):m>h==e>h&&m>e==m>h?(a=c,b=e,c=l,e=m):(a=j,b=k,g=l,h=m)}}function j(a,b,c,d,e,f,g,h){var i=Math.abs(d-b),j=Math.abs(f-d),k=Math.abs(h-f);return i>j&&i>k?[[a,b],[c,d]]:k>j&&k>i?[[e,f],[g,h]]:[[c,d],[e,f]]}function k(a,b,e,f,h,i,k,l){var m,n,o,p,q,r,s,t;if(!(a<e&&e<h)){console.log("bisectJump called with bad x values",[a,e,h]);return}if(!(isFinite(b)&&isFinite(f)&&isFinite(i))){console.log("bisectJump called with bad y values",[b,f,i]);return}for(;;){m=d(a,e),n=k(m),o=d(e,h),p=k(o),q=Math.abs(n-c.mean(b,f)),r=Math.abs(p-c.mean(f,i)),l||(l=0);if(q<=l&&r<=l)return null;if(!isFinite(n))return s=g(a,b,m,n,k),t=g(m,n,h,i,k),[s,t];if(!isFinite(p))return s=g(a,b,o,p,k),t=g(o,p,h,i,k),[s,t];if(!(m!==a&&m!==e||o!==e&&o!==h))return Math.abs(f-b)>Math.abs(i-f)?(s=[a,b],t=[e,f]):(s=[e,f],t=[h,i]),[s,t];if(m===a||m===e)return j(a,b,e,f,o,p,h,i);if(o===e||o===h)return j(a,b,m,n,e,f,h,i);q>r?(h=e,i=f,e=m,f=n):(a=e,b=f,e=o,f=p)}}function l(a,b){var c,d,g,h,i,j,k,l,m,n,o,p={x:[],y:[]};for(l=0,m=a.length;l<m;l++){c=a[l],k=undefined,c[1]===0&&(k=[c[0],c[1]]);for(n=0,o=c.length;n<o-2;n+=2)d=c[n],g=c[n+1],h=c[n+2],i=c[n+3],k?i!==0&&(k[0]!==c[0]&&(j=f(k[0],k[1],d,g,h,i,b),p.x.push(j[0]),p.y.push(j[1])),k=undefined):i===0?k=[d,g]:g<0!=i<0&&(j=e(d,g,h,i,b),j&&(p.x.push(j[0]),p.y.push(j[1])))}return p}function m(a,b){var c,d,g,h,j,k,l,m,n,o,p,q,r,s={x:[],y:[]};for(o=0,p=a.length;o<p;o++){c=a[o];for(q=0,r=c.length;q<r-4;q+=2){d=c[q],g=c[q+1],h=c[q+2],j=c[q+3],k=c[q+4],l=c[q+5];if(!(isFinite(g)&&isFinite(j)&&isFinite(l)))continue;if(g!==j&&j===l)n=[d,g];else if(g===j&&j!==l&&n)j>n[1]==j>l&&(m=f(n[0],n[1],h,j,k,l,b),s.x.push(m[0]),s.y.push(m[1])),n=undefined;else if(g!==j||j!==l)if(j>g==j>l)if(b.derivative){if(b.derivative(d)>0==b.derivative(k)>0)continue;m=e(d,b.derivative(d),k,b.derivative(k),b.derivative),m&&(s.x.push(m[0]),s.y.push(b(m[0])))}else m=i(d,g,h,j,k,l,b),m&&(s.x.push(m[0]),s.y.push(m[1]))}}return s}function n(a,b){var c=b(0);return isFinite(c)?{x:[0],y:[b(0)]}:{x:[],y:[]}}function o(a){var b,c,d=a.length,e={x:[],y:[]};for(b=0;b<d;b++)c=a[b],parseFloat(c[1].toFixed(7))===0&&(e.x.push(c[0]),e.y.push(c[1])),parseFloat(c[c.length-1].toFixed(7))===0&&(e.x.push(c[c.length-2]),e.y.push(c[c.length-1]));return e}function p(a,b){var c=l(a,b),d=o(a,b);return c.x.push.apply(c.x,d.x),c.y.push.apply(c.y,d.y),{zeros:c,intercept:n(a,b),extrema:m(a,b)}}function q(a,c,d){var e,f,g,h=function(a){return d(a)-c(a)},i=l(a,h),j=m(a,h);for(e=0,f=j.x.length;e<f;e++)b.approx
(j.y[e],0)&&(i.x.push(j.x[e]),i.y.push(j.y[e]));for(e=0,g=i.x.length;e<g;e++)i.y[e]=c(i.x[e]);return i}var b=a("./builtin"),c=a("./distance");return{bisectJump:k,bisectExtremum:i,bisectFinite:g,bisectZero:e,findExtrema:m,findZeros:l,findPOIs:p,findIntersections:q,INTERSECTION:1001,ZERO:1002,INTERCEPT:1003,EXTREMUM:1004,EDGE:1005,DEFINITION:1006}}),define("graphing/graphmode",{X:1,Y:2,XYPOINT:3,XYPOINT_MOVABLE:4,PARAMETRIC:5,POLAR:6,POLYGONFILL:7}),define("math/evalframe",["require","pjs"],function(a){var b=a("pjs"),c=b(function(a){a.init=function(a){a instanceof c?this.parentFrame=a:this.parentFrame=null,this.variables={},this.functions={},this.evalStrings={},this.definitionIds={};if(this.parentFrame)for(var b in this.parentFrame.evalStrings)this.evalStrings[b]=this.parentFrame.getEvalStrings(b)},a.setVariable=function(a,b){this.variables[a]=b},a.getVariable=function(a){if(this.variables.hasOwnProperty(a))return this.variables[a];if(this.parentFrame)return this.parentFrame.getVariable(a);throw"Variable '"+a+"' not defined"},a.setDefinitionId=function(a,b){this.definitionIds[a]=b},a.getDefinitionId=function(a){return this.definitionIds[a]},a.setFunction=function(a,b,c,d,e,f){this.functions[a]={arity:b,body:c,tree:d,source:f,args:e}},a.hasFunction=function(a){return this.functions.hasOwnProperty(a)?!0:this.parentFrame?this.parentFrame.hasFunction(a):!1},a.hasFunctionWithArity=function(a,b){return this.functions.hasOwnProperty(a)&&this.functions[a].arity==b?!0:this.parentFrame?this.parentFrame.hasFunction(a):!1},a.hasVariable=function(a){return this.variables.hasOwnProperty(a)?!0:this.parentFrame?this.parentFrame.hasVariable(a):!1},a.getFunctionTree=function(a){if(this.functions.hasOwnProperty(a)){var b=this.functions[a];return b.tree}if(this.parentFrame)return this.parentFrame.getFunctionTree(a);throw"Function '"+a+"' not defined"},a.callFunction=function(a,b){if(this.functions.hasOwnProperty(a)){var c=this.functions[a];if(c.arity==b.length)return c.body.apply(null,b);throw"Function "+a+" expects "+c.arity+" arguments, but was called with "+b.length}if(this.parentFrame)return this.parentFrame.callFunction(a,b);throw"Function '"+a+"' not defined"},a.defines=function(a){return this.hasVariable(a)||this.hasFunction(a)},a.arity=function(a){if(this.hasVariable(a))return 0;if(this.hasFunction(a))return this.functions[a].arity;if(this.parentFrame)return this.parentFrame.arity(a)},a.setEvalStrings=function(a,b){this.evalStrings[a]=b},a.getEvalStrings=function(a){return this.evalStrings.hasOwnProperty(a)?this.evalStrings[a]:{expression:a,statements:""}},a.functionMap=function(a){var b={};this.parentFrame&&!a&&(b=this.parentFrame.functionMap());for(var c in this.functions)this.functions.hasOwnProperty(c)&&(b[c]=this.functions[c].body);return b},a.leafFunctionMap=function(){return this.functionMap(!0)},a.functionSourceMap=function(a){var b={};this.parentFrame&&!a&&(b=this.parentFrame.functionSourceMap());for(var c in this.functions)this.functions.hasOwnProperty(c)&&this.functions[c].source&&(b[c]={args:this.functions[c].args,source:this.functions[c].source});return b},a.leafFunctionSourceMap=function(){return this.functionSourceMap(!0)}});return c}),define("math/comparators",["require"],function(){var a={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},b=function(a,b){switch(b){case-1:return a?"<=":"<";case 0:return a?"=":"!=";case 1:return a?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}};return{table:a,get:b}}),define("parser",[],function(){var a={trace:function(){},yy:{},symbols_:{error:2,sentence:3,expr:4,EOF:5,assignment:6,equation:7,function_declaration:8,ordered_pair_list:9,double_inequality:10,"boolean":11,identifier:12,"=":13,FUNCTION_PROTOTYPE:14,",":15,comparator:16,IDENTIFIER_BASE:17,ordered_pair_list_elements:18,ordered_pair:19,"[":20,"]":21,"(":22,")":23,expr_sum:24,"<":25,">":26,">=":27,"<=":28,"+":29,expr_product:30,"-":31,expr_atom_impmul:32,"*":33,expr_atom:34,"/":35,exponent:36,"^N":37,"^I":38,"^":39,"{":40,"}":41,function_call:42,function_call_unary:43,trig_function_call:44,log_function_call:45,"left|":46,"right|":47,FRAC:48,SQRT:49,"!":50,repeated_operator:51,DERIVATIVE:52,expr_piecewise:53,constant:54,NUMBER:55,repeated_operator_symbol:56,SUM:57,PROD:58,_:59,"{_visible":60,piecewise_list:61,"}_visible":62,incomplete_piecewise_list:63,piecewise_element:64,":":65,trig_function:66,TRIG_FUNCTION:67,log_prefix:68,LN:69,LOG:70,LOG_BASE_N:71,function_argument_list:72,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"=",14:"FUNCTION_PROTOTYPE",15:",",17:"IDENTIFIER_BASE",20:"[",21:"]",22:"(",23:")",25:"<",26:">",27:">=",28:"<=",29:"+",31:"-",33:"*",35:"/",37:"^N",38:"^I",39:"^",40:"{",41:"}",46:"left|",47:"right|",48:"FRAC",49:"SQRT",50:"!",52:"DERIVATIVE",55:"NUMBER",57:"SUM",58:"PROD",59:"_",60:"{_visible",62:"}_visible",65:":",67:"TRIG_FUNCTION",69:"LN",70:"LOG",71:"LOG_BASE_N"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,3],[3,2],[3,4],[3,1],[6,3],[6,3],[7,3],[10,5],[12,1],[9,1],[18,1],[18,3],[19,5],[19,5],[4,1],[16,1],[16,1],[16,1],[16,1],[11,3],[11,3],[11,5],[24,3],[24,3],[24,1],[30,2],[30,3],[30,3],[30,1],[36,1],[36,1],[36,4],[32,1],[32,1],[32,1],[32,1],[32,1],[32,3],[32,3],[32,3],[32,2],[32,7],[32,4],[32,7],[32,2],[32,1],[32,2],[32,1],[34,1],[34,3],[34,2],[34,2],[34,2],[34,1],[56,1],[56,1],[51,9],[53,3],[53,2],[61,3],[61,1],[63,3],[63,1],[64,3],[64,1],[54,1],[54,2],[43,5],[43,4],[66,1],[44,4],[44,2],[44,7],[44,9],[44,3],[44,5],[68,1],[68,1],[68,1],[68,3],[68,5],[45,4],[45,2],[45,5],[45,3],[42,4],[72,3],[72,3],[8,2]],performAction:function(b,c,d,e,f,g,h){var i=g.length-1;switch(f){case 1:return g[i-1];case 2:return g[i-1];case 3:return g[i-1];case 4:return g[i-1];case 5:return g[i-1];case 6:return g[i-1];case 7:return g[i-1];case 8:return e.ErrorNode("What do you want variable '"+g[i-2].identifier+"' to equal?");case 9:var j=e.parseFunctionDeclaration(g[i-1]);return e.ErrorNode("What do you want function '"+j.identifier.identifier+"' to equal?");case 10:return e.ErrorNode("Points are written like this: (1, 2)");case 11:return e.ErrorNode("You haven't written anything yet");case 12:this.$=e.AssignmentNode(g[i-2],g[i]);break;case 13:this.$=e.AssignmentNode(g[i-2],e.ErrorNode);break;case 14:this.$=e.EquationNode(g[i-2],g[i]);break;case 15:this.$=e.DoubleInequalityNode(g[i-4],g[i-3],g[i-2],g[i-1],g[i]);break;case 16:this.$=e.IdentifierNode(b),e.setInput(this.$,this._$);break;case 17:this.$=e.OrderedPairListNode(g[i]);break;case 18:this.$=[g[i]];break;case 19:g[i-2].push(g[i]),this.$=g[i-2];break;case 20:this.$=e.OrderedPairNode(g[i-3],g[i-1]);break;case 21:this.$=e.OrderedPairNode(g[i-3],g[i-1]);break;case 22:this.$=g[i],e.setInput(this.$,this._$);break;case 23:this.$="<";break;case 24:this.$=">";break;case 25:this.$=">=";break;case 26:this.$="<=";break;case 27:this.$=e.ComparatorNode(g[i-1],g[i-2],g[i]);break;case 28:this.$=e.ComparatorNode("===",g[i-2],g[i]);break;case 29:this.$=e.ChainedComparatorNode([g[i-3],g[i-1]],[g[i-4],g[i-2],g[i]]);break;case 30:this.$=e.BinaryOperatorNode("+",g[i-2],g[i]);break;case 31:this.$=e.BinaryOperatorNode("-",g[i-2],g[i]);break;case 32:this.$=g[i];break;case 33:this.$=e.BinaryOperatorNode("*",g[i-1],g[i]);break;case 34:this.$=e.BinaryOperatorNode("*",g[i-2],g[i]);break;case 35:this.$=e.BinaryOperatorNode("/",g[i-2],g[i]);break;case 36:this.$=g[i];break;case 37:this.$=e.ConstantNode(Number(g[i]));break;case 38:this.$=e.IdentifierNode(g[i]);break;case 39:this.$=g[i-1];break;case 40:this.$=g[i];break;case 41:this.$=g[i];break;case 42:this.$=g[i];break;case 43:this.$=g[i];break;case 44:this.$=g[i];break;case 45:this.$=g[i-1];break;case 46:this.$=g[i-1];break;case 47:this.$=e.FunctionNode(e.IdentifierNode("\\abs"),[g[i-1]]);break;case 48:this.$=e.BinaryOperatorNode("^",g[i-1],g[i]);break;case 49:this.$=e.BinaryOperatorNode("/",g[i-4],g[i-1]);break;case 50:this.$=e.FunctionNode(e.IdentifierNode("\\sqrt"),[g[i-1]]);break;case 51:this.$=e.FunctionNode(e.IdentifierNode("\\nthroot"),[g[i-1],g[i-4]]);break;case 52:this.$=e.FunctionNode(e.IdentifierNode("\\factorial"),[g[i-1]]);break;case 53:this.$=g[i];break;case 54:this.$=e.DerivativeNode(e.IdentifierNode(g[i-1]),g[i]);break;case 55:this.$=g[i];break;case 56:this.$=g[i];break;case 57:this.$=e.NegationNode(e.BinaryOperatorNode("^",e.ConstantNode(Number(g[i-1])),g[i]));break;case 58:this.$=e.BinaryOperatorNode("^",g[i-1],g[i]);break;case 59:this.$=e.FunctionNode(e.IdentifierNode("\\factorial"),[g[i-1]]);break;case 60:this.$=e.NegationNode(g[i]);break;case 61:this.$=g[i];break;case 62:this.$=e.SummationNode;break;case 63:this.$=e.ProductNode;break;case 64:this.$=g[i-8](g[i-5],g[i-3],g[i-1],g[i]);break;case 65:this.$=g[i-1];break;case 66:this.$=e.ConstantNode(1);break;case 67:this.$=g[i-2].append_else(e.PiecewiseNode(e.ConstantNode(!0),g[i]));break;case 68:this.$=g[i];break;case 69:this.$=g[i-2].append_else(g[i]);break;case 70:this.$=g[i];break;case 71:this.$=e.PiecewiseNode(g[i-2],g[i]);break;case 72:this.$=e.PiecewiseNode(g[i],e.ConstantNode(1));break;case 73:this.$=e.ConstantNode(Number(b));break;case 74:this.$=e.ConstantNode(-g[i]);break;case 75:this.$=e.FunctionCallExponentNode(g[i-4],g[i-2],g[i]);break;case 76:this.$=e.FunctionNode(g[i-3],[g[i-1]]);break;case 77:this.$=e.IdentifierNode(b);break;case 78:this.$=e.FunctionNode(g[i-3],[g[i-1]]);break;case 79:if(!g[i].okForImplicitFunction())throw"Too complicated.  Use parens";this.$=e.FunctionNode(g[i-1],[g[i]]);break;case 80:if(!g[i].okForImplicitFunction())throw"Too complicated.  Use parens";if(g[i-2].value!=1)throw"Only sin^2 and sin^-1 are supported.  Otherwise, use parens";this.$=e.FunctionNode(e.IdentifierNode(e.inverses[g[i-6].identifier]),[g[i]]);break;case 81:if(g[i-4].value!=1)throw"Only sin^2 and sin^-1 are supported.  Otherwise, use parens";this.$=e.FunctionNode(e.IdentifierNode(e.inverses[g[i-8].identifier]),[g[i-1]]);break;case 82:if(!g[i].okForImplicitFunction())throw"Too complicated.  Use parens";if(g[i-1]!="2")throw"Only sin^2 and sin^-1 are supported.  Otherwise, use parens";this.$=e.BinaryOperatorNode("^",e.FunctionNode(g[i-2],[g[i]]),e.ConstantNode(2));break;case 83:if(g[i-3]!="2")throw"Only sin^2 and sin^-1 are supported.  Otherwise, use parens";this.$=e.BinaryOperatorNode("^",e.FunctionNode(g[i-4],[g[i-1]]),e.ConstantNode(2));break;case 84:this.$=e.ConstantNode(Math.E);break;case 85:this.$=e.ConstantNode(10);break;case 86:this.$=e.ConstantNode(Number(b));break;case 87:this.$=g[i];break;case 88:this.$=g[i-1];break;case 89:this.$=e.FunctionNode(e.IdentifierNode("log"),[g[i-1],g[i-3]]);break;case 90:if(!g[i].okForImplicitFunction())throw"Too complicated.  Use parens";this.$=e.FunctionNode(e.IdentifierNode("log"),[g[i],g[i-1]]);break;case 91:if(g[i-3]!="2")throw"Only log^2 is supported.  Use parens";this.$=e.BinaryOperatorNode("^",e.FunctionNode(e.IdentifierNode("log"),[g[i-1],g[i-4]]),e.ConstantNode(2));break;case 92:if(!g[i].okForImplicitFunction())throw"Too complicated.  Use parens";if(g[i-1]!="2")throw"Only log^2 is supported.  Use parens";this.$=e.BinaryOperatorNode("^",e.FunctionNode(e.IdentifierNode("log"),[g[i],g[i-2]]),e.ConstantNode(2));break;case 93:this.$=e.FunctionNode(g[i-3],g[i-1]);break;case 94:this.$=g[i-2].concat([g[i]]);break;case 95:this.$=[g[i-2],g[i]];break;case 96:var j=e.parseFunctionDeclaration(g[i-1]);this.$=e.FunctionDeclarationNode(j.identifier,j.args,g[i]),this.$.setInputString(j.input_string)}},table:[{3:1,4:2,5:[1,11],6:3,7:4,8:5,9:6,10:7,11:8,12:9,14:[1,10],17:[1,14],18:13,19:16,20:[1,18],22:[1,19],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{1:[3]},{5:[1,45],13:[1,47],15:[1,46],16:48,25:[1,49],26:[1,50],27:[1,51],28:[1,52]},{5:[1,53]},{5:[1,54]},{5:[1,55]},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[2,40],13:[1,59],15:[2,40],17:[2,40],22:[1,60],25:[2,40],26:[2,40],27:[2,40],28:[2,40],29:[2,40],31:[2,40],33:[2,40],35:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],46:[2,40],48:[2,40],49:[2,40],50:[2,40],52:[2,40],57:[2,40],58:[2,40],60:[2,40],67:[2,40],69:[2,40],70:[2,40],71:[2,40]},{4:62,5:[1,61],12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{1:[2,11]},{5:[2,22],13:[2,22],15:[2,22],17:[2,22],21:[2,22],22:[2,22],23:[2,22],25:[2,22],26:[2,22],27:[2,22],28:[2,22],29:[1,65],31:[1,66],33:[2,22],35:[2,22],37:[2,22],38:[2,22],39:[2,22],40:[2,22],41:[2,22],46:[2,22],47:[2,22],48:[2,22],49:[2,22],50:[2,22],52:[2,22],57:[2,22],58:[2,22],60:[2,22],62:[2,22],65:[2,22],67:[2,22],69:[2,22],70:[2,22],71:[2,22]},{5:[2,17],15:[1,67]},{5:[2,16],13:[2,16],15:[2,16],17:[2,16],21:[2,16],22:[2,16],23:[2,16],25:[2,16],26:[2,16],27:[2,16],28:[2,16],29:[2,16],31:[2,16],33:[2,16],35:[2,16],37:[2,16],38:[2,16],39:[2,16],40:[2,16],41:[2,16],46:[2,16],47:[2,16],48:[2,16],49:[2,16],50:[2,16],52:[2,16],55:[2,16],57:[2,16],58:[2,16],60:[2,16],62:[2,16],65:[2,16],67:[2,16],69:[2,16],70:[2,16],71:[2,16]},{5:[2,32],12:63,13:[2,32],15:[2,32],17:[1,14],21:[2,32],22:[1,64],23:[2,32],25:[2,32],26:[2,32],27:[2,32],28:[2,32],29:[2,32],31:[2,32],32:68,33:[1,69],35:[1,70],37:[2,32],38:[2,32],39:[2,32],40:[1,28],41:[2,32],42:24,43:25,44:26,45:27,46:[1,29],47:[2,32],48:[1,30],49:[1,31],50:[2,32],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,32],65:[2,32],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,18],15:[2,18]},{5:[2,36],13:[2,36],15:[2,36],17:[2,36],21:[2,36],22:[2,36],23:[2,36],25:[2,36],26:[2,36],27:[2,36],28:[2,36],29:[2,36],31:[2,36],33:[2,36],35:[2,36],36:71,37:[1,73],38:[1,74],39:[1,75],40:[2,36],41:[2,36],46:[2,36],47:[2,36],48:[2,36],49:[2,36],50:[1,72],52:[2,36],57:[2,36],58:[2,36],60:[2,36],62:[2,36],65:[2,36],67:[2,36],69:[2,36],70:[2,36],71:[2,36]},{4:76,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:77,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,56],13:[2,56],15:[2,56],17:[2,56],21:[2,56],22:[2,56],23:[2,56],25:[2,56],26:[2,56],27:[2,56],28:[2,56],29:[2,56],31:[2,56],33:[2,56],35:[2,56],37:[2,56],38:[2,56],39:[2,56],40:[2,56],41:[2,56],46:[2,56],47:[2,56],48:[2,56],49:[2,56],50:[2,56],52:[2,56],57:[2,56],58:[2,56],60:[2,56],62:[2,56],65:[2,56],67:[2,56],69:[2,56],70:[2,56],71:[2,56]},{12:63,17:[1,14],22:[1,64],31:[1,21],32:22,34:79,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,78],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,61],13:[2,61],15:[2,61],17:[2,61],21:[2,61],22:[2,61],23:[2,61],25:[2,61],26:[2,61],27:[2,61],28:[2,61],29:[2,61],31:[2,61],33:[2,61],35:[2,61],36:80,37:[1,73],38:[1,74],39:[1,75],40:[2,61],41:[2,61],46:[2,61],47:[2,61],48:[2,61],49:[2,61],50:[1,81],52:[2,61],57:[2,61],58:[2,61],60:[2,61],62:[2,61],65:[2,61],67:[2,61],69:[2,61],70:[2,61],71:[2,61]},{5:[2,73],13:[2,73],15:[2,73],17:[2,73],21:[2,73],22:[2,73],23:[2,73],25:[2,73],26:[2,73],27:[2,73],28:[2,73],29:[2,73],31:[2,73],33:[2,73],35:[2,73],37:[2,73],38:[2,73],39:[2,73],40:[2,73],41:[2,73],46:[2,73],47:[2,73],48:[2,73],49:[2,73],50:[2,73],52:[2,73],57:[2,73],58:[2,73],60:[2,73],62:[2,73],65:[2,73],67:[2,73],69:[2,73],70:[2,73],71:[2,73]},{5:[2,41],13:[2,41],15:[2,41],17:[2,41],21:[2,41],22:[2,41],23:[2,41],25:[2,41],26:[2,41],27:[2,41],28:[2,41],29:[2,41],31:[2,41],33:[2,41],35:[2,41],37:[2,41],38:[2,41],39:[2,41],40:[2,41],41:[2,41],46:[2,41],47:[2,41],48:[2,41],49:[2,41],50:[2,41],52:[2,41],57:[2,41],58:[2,41],60:[2,41],62:[2,41],65:[2,41],67:[2,41],69:[2,41],70:[2,41],71:[2,41]},{5:[2,42],13:[2,42],15:[2,42],17:[2,42],21:[2,42],22:[2,42],23:[2,42],25:[2,42],26:[2,42],27:[2,42],28:[2,42],29:[2,42],31:[2,42],33:[2,42],35:[2,42],37:[2,42],38:[2,42],39:[2,42],40:[2,42],41:[2,42],46:[2,42],47:[2,42],48:[2,42],49:[2,42],50:[2,42],52:[2,42],57:[2,42],58:[2,42],60:[2,42],62:[2,42],65:[2,42],67:[2,42],69:[2,42],70:[2,42],71:[2,42]},{5:[2,43],13:[2,43],15:[2,43],17:[2,43],21:[2,43],22:[2,43],23:[2,43],25:[2,43],26:[2,43],27:[2,43],28:[2,43],29:[2,43],31:[2,43],33:[2,43],35:[2,43],37:[2,43],38:[2,43],39:[2,43],40:[2,43],41:[2,43],46:[2,43],47:[2,43],48:[2,43],49:[2,43],50:[2,43],52:[2,43],57:[2,43],58:[2,43],60:[2,43],62:[2,43],65:[2,43],67:[2,43],69:[2,43],70:[2,43],71:[2,43]},{5:[2,44],13:[2,44],15:[2,44],17:[2,44],21:[2,44],22:[2,44],23:[2,44],25:[2,44],26:[2,44],27:[2,44],28:[2,44],29:[2,44],31:[2,44],33:[2,44],35:[2,44],37:[2,44],38:[2,44],39:[2,44],40:[2,44],41:[2,44],46:[2,44],47:[2,44],48:[2,44],49:[2,44],50:[2,44],52:[2,44],57:[2,44],58:[2,44],60:[2,44],62:[2,44],65:[2,44],67:[2,44],69:[2,44],70:[2,44],71:[2,44]},{4:82,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:83,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{40:[1,84]},{20:[1,86],40:[1,85]},{5:[2,53],13:[2,53],15:[2,53],17:[2,53],21:[2,53],22:[2,53],23:[2,53],25:[2,53],26:[2,53],27:[2,53],28:[2,53],29:[2,53],31:[2,53],33:[2,53],35:[2,53],37:[2,53],38:[2,53],39:[2,53],40:[2,53],41:[2,53],46:[2,53],47:[2,53],48:[2,53],49:[2,53],50:[2,53],52:[2,53],57:[2,53],58:[2,53],60:[2,53],62:[2,53],65:[2,53],67:[2,53],69:[2,53],70:[2,53],71:[2,53]},{12:63,17:[1,14],22:[1,64],30:87,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,55],13:[2,55],15:[2,55],17:[2,55],21:[2,55],22:[2,55],23:[2,55],25:[2,55],26:[2,55],27:[2,55],28:[2,55],29:[2,55],31:[2,55],33:[2,55],35:[2,55],37:[2,55],38:[2,55],39:[2,55],40:[2,55],41:[2,55],46:[2,55],47:[2,55],48:[2,55],49:[2,55],50:[2,55],52:[2,55],57:[2,55],58:[2,55],60:[2,55],62:[2,55],65:[2,55],67:[2,55],69:[2,55],70:[2,55],71:[2,55]},{12:63,17:[1,14],22:[1,88],30:89,31:[1,21],32:22,34:17,37:[1,91],39:[1,90],40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:63,17:[1,14],22:[1,92],30:93,31:[1,21],32:22,34:17,37:[1,94],40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{59:[1,95]},{4:101,11:100,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],61:96,62:[1,97],63:98,64:99,66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{17:[2,77],22:[2,77],31:[2,77],37:[2,77],39:[2,77],40:[2,77],46:[2,77],48:[2,77],49:[2,77],52:[2,77],55:[2,77],57:[2,77],58:[2,77],60:[2,77],67:[2,77],69:[2,77],70:[2,77],71:[2,77]},{17:[2,84],22:[2,84],31:[2,84],37:[2,84],40:[2,84],46:[2,84],48:[2,84],49:[2,84],52:[2,84],55:[2,84],57:[2,84],58:[2,84],60:[2,84],67:[2,84],69:[2,84],70:[2,84],71:[2,84]},{17:[2,85],22:[2,85],31:[2,85],37:[2,85],40:[2,85],46:[2,85],48:[2,85],49:[2,85],52:[2,85],55:[2,85],57:[2,85],58:[2,85],59:[1,102],60:[2,85],67:[2,85],69:[2,85],70:[2,85],71:[2,85]},{17:[2,86],22:[2,86],31:[2,86],37:[2,86],40:[2,86],46:[2,86],48:[2,86],49:[2,86],52:[2,86],55:[2,86],57:[2,86],58:[2,86],60:[2,86],67:[2,86],69:[2,86],70:[2,86],71:[2,86]},{59:[2,62]},{59:[2,63]},{1:[2,1]},{4:103,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:104,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:106,12:105,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{17:[2,23],22:[2,23],31:[2,23],40:[2,23],46:[2,23],48:[2,23],49:[2,23],52:[2,23],55:[2,23],57:[2,23],58:[2,23],60:[2,23],67:[2,23],69:[2,23],70:[2,23],71:[2,23]},{17:[2,24],22:[2,24],31:[2,24],40:[2,24],46:[2,24],48:[2,24],49:[2,24],52:[2,24],55:[2,24],57:[2,24],58:[2,24],60:[2,24],67:[2,24],69:[2,24],70:[2,24],71:[2,24]},{17:[2,25],22:[2,25],31:[2,25],40:[2,25],46:[2,25],48:[2,25],49:[2,25],52:[2,25],55:[2,25],57:[2,25],58:[2,25],60:[2,25],67:[2,25],69:[2,25],70:[2,25],71:[2,25]},{17:[2,26],22:[2,26],31:[2,26],40:[2,26],46:[2,26],48:[2,26],49:[2,26],52:[2,26],55:[2,26],57:[2,26],58:[2,26],60:[2,26],67:[2,26],69:[2,26],70:[2,26],71:[2,26]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{2:[1,109],4:108,5:[1,107],12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:111,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42],72:110},{1:[2,9]},{5:[2,96]},{5:[2,40],13:[2,40],15:[2,40],17:[2,40],21:[2,40],22:[1,60],23:[2,40],25:[2,40],26:[2,40],27:[2,40],28:[2,40],29:[2,40],31:[2,40],33:[2,40],35:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],41:[2,40],46:[2,40],47:[2,40],48:[2,40],49:[2,40],50:[2,40],52:[2,40],57:[2,40],58:[2,40],60:[2,40],62:[2,40],65:[2,40],67:[2,40],69:[2,40],70:[2,40],71:[2,40]},{4:112,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:63,17:[1,14],22:[1,64],30:113,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:63,17:[1,14],22:[1,64],30:114,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{19:115,20:[1,18],22:[1,116]},{5:[2,33],13:[2,33],15:[2,33],17:[2,33],21:[2,33],22:[2,33],23:[2,33],25:[2,33],26:[2,33],27:[2,33],28:[2,33],29:[2,33],31:[2,33],33:[2,33],35:[2,33],36:80,37:[1,73],38:[1,74],39:[1,75],40:[2,33],41:[2,33],46:[2,33],47:[2,33],48:[2,33],49:[2,33],50:[1,81],52:[2,33],57:[2,33],58:[2,33],60:[2,33],62:[2,33],65:[2,33],67:[2,33],69:[2,33],70:[2,33],71:[2,33]},{12:63,17:[1,14],22:[1,64],31:[1,21],32:22,34:117,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:63,17:[1,14],22:[1,64],31:[1,21],32:22,34:118,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,58],13:[2,58],15:[2,58],17:[2,58],21:[2,58],22:[2,58],23:[2,58],25:[2,58],26:[2,58],27:[2,58],28:[2,58],29:[2,58],31:[2,58],33:[2,58],35:[2,58],37:[2,58],38:[2,58],39:[2,58],40:[2,58],41:[2,58],46:[2,58],47:[2,58],48:[2,58],49:[2,58],50:[2,58],52:[2,58],57:[2,58],58:[2,58],60:[2,58],62:[2,58],65:[2,58],67:[2,58],69:[2,58],70:[2,58],71:[2,58]},{5:[2,59],13:[2,59],15:[2,59],17:[2,59],21:[2,59],22:[2,59],23:[2,59],25:[2,59],26:[2,59],27:[2,59],28:[2,59],29:[2,59],31:[2,59],33:[2,59],35:[2,59],37:[2,59],38:[2,59],39:[2,59],40:[2,59],41:[2,59],46:[2,59],47:[2,59],48:[2,59],49:[2,59],50:[2,59],52:[2,59],57:[2,59],58:[2,59],60:[2,59],62:[2,59],65:[2,59],67:[2,59],69:[2,59],70:[2,59],71:[2,59]},{5:[2,37],13:[2,37],15:[2,37],17:[2,37],21:[2,37],22:[2,37],23:[2,37],25:[2,37],26:[2,37],27:[2,37],28:[2,37],29:[2,37],31:[2,37],33:[2,37],35:[2,37],37:[2,37],38:[2,37],39:[2,37],40:[2,37],41:[2,37],46:[2,37],47:[2,37],48:[2,37],49:[2,37],50:[2,37],52:[2,37],55:[2,37],57:[2,37],58:[2,37],60:[2,37],62:[2,37],65:[2,37],67:[2,37],69:[2,37],70:[2,37],71:[2,37]},{5:[2,38],13:[2,38],15:[2,38],17:[2,38],21:[2,38],22:[2,38],23:[2,38],25:[2,38],26:[2,38],27:[2,38],28:[2,38],29:[2,38],31:[2,38],33:[2,38],35:[2,38],37:[2,38],38:[2,38],39:[2,38],40:[2,38],41:[2,38],46:[2,38],47:[2,38],48:[2,38],49:[2,38],50:[2,38],52:[2,38],55:[2,38],57:[2,38],58:[2,38],60:[2,38],62:[2,38],65:[2,38],67:[2,38],69:[2,38],70:[2,38],71:[2,38]},{40:[1,119]},{15:[1,120]},{15:[1,121],23:[1,122]},{5:[2,74],13:[2,74],15:[2,74],17:[2,74],21:[2,74],22:[2,74],23:[2,74],25:[2,74],26:[2,74],27:[2,74],28:[2,74],29:[2,74],31:[2,74],33:[2,74],35:[2,74],36:123,37:[1,73],38:[1,74],39:[1,75],40:[2,74],41:[2,74],46:[2,74],47:[2,74],48:[2,74],49:[2,74],50:[2,74],52:[2,74],57:[2,74],58:[2,74],60:[2,74],62:[2,74],65:[2,74],67:[2,74],69:[2,74],70:[2,74],71:[2,74]},{5:[2,60],13:[2,60],15:[2,60],17:[2,60],21:[2,60],22:[2,60],23:[2,60],25:[2,60],26:[2,60],27:[2,60],28:[2,60],29:[2,60],31:[2,60],33:[2,60],35:[2,60],36:71,37:[1,73],38:[1,74],39:[1,75],40:[2,60],41:[2,60],46:[2,60],47:[2,60],48:[2,60],49:[2,60],50:[1,72],52:[2,60],57:[2,60],58:[2,60],60:[2,60],62:[2,60],65:[2,60],67:[2,60],69:[2,60],70:[2,60],71:[2,60]},{5:[2,48],13:[2,48],15:[2,48],17:[2,48],21:[2,48],22:[2,48],23:[2,48],25:[2,48],26:[2,48],27:[2,48],28:[2,48],29:[2,48],31:[2,48],33:[2,48],35:[2,48],37:[2,48],38:[2,48],39:[2,48],40:[2,48],41:[2,48],46:[2,48],47:[2,48],48:[2,48],49:[2,48],50:[2,48],52:[2,48],57:[2,48],58:[2,48],60:[2,48],62:[2,48],65:[2,48],67:[2,48],69:[2,48],70:[2,48],71:[2,48]},{5:[2,52],13:[2,52],15:[2,52],17:[2,52],21:[2,52],22:[2,52],23:[2,52],25:[2,52],26:[2,52],27:[2,52],28:[2,52],29:[2,52],31:[2,52],33:[2,52],35:[2,52],37:[2,52],38:[2,52],39:[2,52],40:[2,52],41:[2,52],46:[2,52],47:[2,52],48:[2,52],49:[2,52],50:[2,52],52:[2,52],57:[2,52],58:[2,52],60:[2,52],62:[2,52],65:[2,52],67:[2,52],69:[2,52],70:[2,52],71:[2,52]},{41:[1,124]},{47:[1,125]},{4:126,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:127,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:128,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,54],12:63,13:[2,54],15:[2,54],17:[1,14],21:[2,54],22:[1,64],23:[2,54],25:[2,54],26:[2,54],27:[2,54],28:[2,54],29:[2,54],31:[2,54],32:68,33:[1,69],35:[1,70],37:[2,54],38:[2,54],39:[2,54],40:[1,28],41:[2,54],42:24,43:25,44:26,45:27,46:[1,29],47:[2,54],48:[1,30],49:[1,31],50:[2,54],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,54],65:[2,54],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:129,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,79],12:63,13:[2,79],15:[2,79],17:[1,14],21:[2,79],22:[1,64],23:[2,79],25:[2,79],26:[2,79],27:[2,79],28:[2,79],29:[2,79],31:[2,79],32:68,33:[1,69],35:[1,70],37:[2,79],38:[2,79],39:[2,79],40:[1,28],41:[2,79],42:24,43:25,44:26,45:27,46:[1,29],47:[2,79],48:[1,30],49:[1,31],50:[2,79],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,79],65:[2,79],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{40:[1,130]},{12:63,17:[1,14],22:[1,132],30:131,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:133,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,90],12:63,13:[2,90],15:[2,90],17:[1,14],21:[2,90],22:[1,64],23:[2,90],25:[2,90],26:[2,90],27:[2,90],28:[2,90],29:[2,90],31:[2,90],32:68,33:[1,69],35:[1,70],37:[2,90],38:[2,90],39:[2,90],40:[1,28],41:[2,90],42:24,43:25,44:26,45:27,46:[1,29],47:[2,90],48:[1,30],49:[1,31],50:[2,90],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,90],65:[2,90],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:63,17:[1,14],22:[1,134],30:135,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{40:[1,136]},{62:[1,137]},{5:[2,66],13:[2,66],15:[2,66],17:[2,66],21:[2,66],22:[2,66],23:[2,66],25:[2,66],26:[2,66],27:[2,66],28:[2,66],29:[2,66],31:[2,66],33:[2,66],35:[2,66],37:[2,66],38:[2,66],39:[2,66],40:[2,66],41:[2,66],46:[2,66],47:[2,66],48:[2,66],49:[2,66],50:[2,66],52:[2,66],57:[2,66],58:[2,66],60:[2,66],62:[2,66],65:[2,66],67:[2,66],69:[2,66],70:[2,66],71:[2,66]},{15:[1,138],62:[2,68]},{15:[2,70],62:[2,70]},{15:[2,72],62:[2,72],65:[1,139]},{13:[1,141],16:140,25:[1,49],26:[1,50],27:[1,51],28:[1,52]},{12:142,17:[1,14],40:[1,143]},{5:[1,144]},{5:[2,14]},{5:[2,40],16:145,17:[2,40],22:[1,60],25:[1,49],26:[1,50],27:[1,51],28:[1,52],29:[2,40],31:[2,40],33:[2,40],35:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],46:[2,40],48:[2,40],49:[2,40],50:[2,40],52:[2,40],57:[2,40],58:[2,40],60:[2,40],67:[2,40],69:[2,40],70:[2,40],71:[2,40]},{5:[2,27],15:[2,27],16:146,25:[1,49],26:[1,50],27:[1,51],28:[1,52],62:[2,27],65:[2,27]},{1:[2,8]},{5:[2,12]},{5:[2,13]},{15:[1,148],23:[1,147]},{15:[1,150],23:[1,149]},{23:[1,122]},{5:[2,30],12:63,13:[2,30],15:[2,30],17:[1,14],21:[2,30],22:[1,64],23:[2,30],25:[2,30],26:[2,30],27:[2,30],28:[2,30],29:[2,30],31:[2,30],32:68,33:[1,69],35:[1,70],37:[2,30],38:[2,30],39:[2,30],40:[1,28],41:[2,30],42:24,43:25,44:26,45:27,46:[1,29],47:[2,30],48:[1,30],49:[1,31],50:[2,30],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,30],65:[2,30],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,31],12:63,13:[2,31],15:[2,31],17:[1,14],21:[2,31],22:[1,64],23:[2,31],25:[2,31],26:[2,31],27:[2,31],28:[2,31],29:[2,31],31:[2,31],32:68,33:[1,69],35:[1,70],37:[2,31],38:[2,31],39:[2,31],40:[1,28],41:[2,31],42:24,43:25,44:26,45:27,46:[1,29],47:[2,31],48:[1,30],49:[1,31],50:[2,31],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,31],65:[2,31],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,19],15:[2,19]},{4:151,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,34],13:[2,34],15:[2,34],17:[2,34],21:[2,34],22:[2,34],23:[2,34],25:[2,34],26:[2,34],27:[2,34],28:[2,34],29:[2,34],31:[2,34],33:[2,34],35:[2,34],36:71,37:[1,73],38:[1,74],39:[1,75
],40:[2,34],41:[2,34],46:[2,34],47:[2,34],48:[2,34],49:[2,34],50:[1,72],52:[2,34],57:[2,34],58:[2,34],60:[2,34],62:[2,34],65:[2,34],67:[2,34],69:[2,34],70:[2,34],71:[2,34]},{5:[2,35],13:[2,35],15:[2,35],17:[2,35],21:[2,35],22:[2,35],23:[2,35],25:[2,35],26:[2,35],27:[2,35],28:[2,35],29:[2,35],31:[2,35],33:[2,35],35:[2,35],36:71,37:[1,73],38:[1,74],39:[1,75],40:[2,35],41:[2,35],46:[2,35],47:[2,35],48:[2,35],49:[2,35],50:[1,72],52:[2,35],57:[2,35],58:[2,35],60:[2,35],62:[2,35],65:[2,35],67:[2,35],69:[2,35],70:[2,35],71:[2,35]},{4:152,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:153,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:154,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,45],13:[2,45],15:[2,45],17:[2,45],21:[2,45],22:[2,45],23:[2,45],25:[2,45],26:[2,45],27:[2,45],28:[2,45],29:[2,45],31:[2,45],33:[2,45],35:[2,45],37:[2,45],38:[2,45],39:[2,45],40:[2,45],41:[2,45],46:[2,45],47:[2,45],48:[2,45],49:[2,45],50:[2,45],52:[2,45],57:[2,45],58:[2,45],60:[2,45],62:[2,45],65:[2,45],67:[2,45],69:[2,45],70:[2,45],71:[2,45]},{5:[2,57],13:[2,57],15:[2,57],17:[2,57],21:[2,57],22:[2,57],23:[2,57],25:[2,57],26:[2,57],27:[2,57],28:[2,57],29:[2,57],31:[2,57],33:[2,57],35:[2,57],37:[2,57],38:[2,57],39:[2,57],40:[2,57],41:[2,57],46:[2,57],47:[2,57],48:[2,57],49:[2,57],50:[2,57],52:[2,57],57:[2,57],58:[2,57],60:[2,57],62:[2,57],65:[2,57],67:[2,57],69:[2,57],70:[2,57],71:[2,57]},{5:[2,46],13:[2,46],15:[2,46],17:[2,46],21:[2,46],22:[2,46],23:[2,46],25:[2,46],26:[2,46],27:[2,46],28:[2,46],29:[2,46],31:[2,46],33:[2,46],35:[2,46],37:[2,46],38:[2,46],39:[2,46],40:[2,46],41:[2,46],46:[2,46],47:[2,46],48:[2,46],49:[2,46],50:[2,46],52:[2,46],57:[2,46],58:[2,46],60:[2,46],62:[2,46],65:[2,46],67:[2,46],69:[2,46],70:[2,46],71:[2,46]},{5:[2,47],13:[2,47],15:[2,47],17:[2,47],21:[2,47],22:[2,47],23:[2,47],25:[2,47],26:[2,47],27:[2,47],28:[2,47],29:[2,47],31:[2,47],33:[2,47],35:[2,47],37:[2,47],38:[2,47],39:[2,47],40:[2,47],41:[2,47],46:[2,47],47:[2,47],48:[2,47],49:[2,47],50:[2,47],52:[2,47],57:[2,47],58:[2,47],60:[2,47],62:[2,47],65:[2,47],67:[2,47],69:[2,47],70:[2,47],71:[2,47]},{41:[1,155]},{41:[1,156]},{21:[1,157]},{23:[1,158]},{31:[1,159]},{5:[2,82],12:63,13:[2,82],15:[2,82],17:[1,14],21:[2,82],22:[1,64],23:[2,82],25:[2,82],26:[2,82],27:[2,82],28:[2,82],29:[2,82],31:[2,82],32:68,33:[1,69],35:[1,70],37:[2,82],38:[2,82],39:[2,82],40:[1,28],41:[2,82],42:24,43:25,44:26,45:27,46:[1,29],47:[2,82],48:[1,30],49:[1,31],50:[2,82],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,82],65:[2,82],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:160,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{23:[1,161]},{4:162,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,92],12:63,13:[2,92],15:[2,92],17:[1,14],21:[2,92],22:[1,64],23:[2,92],25:[2,92],26:[2,92],27:[2,92],28:[2,92],29:[2,92],31:[2,92],32:68,33:[1,69],35:[1,70],37:[2,92],38:[2,92],39:[2,92],40:[1,28],41:[2,92],42:24,43:25,44:26,45:27,46:[1,29],47:[2,92],48:[1,30],49:[1,31],50:[2,92],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,92],65:[2,92],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{12:163,17:[1,14]},{5:[2,65],13:[2,65],15:[2,65],17:[2,65],21:[2,65],22:[2,65],23:[2,65],25:[2,65],26:[2,65],27:[2,65],28:[2,65],29:[2,65],31:[2,65],33:[2,65],35:[2,65],37:[2,65],38:[2,65],39:[2,65],40:[2,65],41:[2,65],46:[2,65],47:[2,65],48:[2,65],49:[2,65],50:[2,65],52:[2,65],57:[2,65],58:[2,65],60:[2,65],62:[2,65],65:[2,65],67:[2,65],69:[2,65],70:[2,65],71:[2,65]},{4:164,11:100,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],64:165,66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:166,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:106,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:167,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{17:[2,87],22:[2,87],31:[2,87],37:[2,87],40:[2,87],46:[2,87],48:[2,87],49:[2,87],52:[2,87],55:[2,87],57:[2,87],58:[2,87],60:[2,87],67:[2,87],69:[2,87],70:[2,87],71:[2,87]},{4:168,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{1:[2,10]},{4:169,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:170,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,93],13:[2,93],15:[2,93],17:[2,93],21:[2,93],22:[2,93],23:[2,93],25:[2,93],26:[2,93],27:[2,93],28:[2,93],29:[2,93],31:[2,93],33:[2,93],35:[2,93],37:[2,93],38:[2,93],39:[2,93],40:[2,93],41:[2,93],46:[2,93],47:[2,93],48:[2,93],49:[2,93],50:[2,93],52:[2,93],57:[2,93],58:[2,93],60:[2,93],62:[2,93],65:[2,93],67:[2,93],69:[2,93],70:[2,93],71:[2,93]},{4:171,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,76],13:[2,76],15:[2,76],17:[2,76],21:[2,76],22:[2,76],23:[2,76],25:[2,76],26:[2,76],27:[2,76],28:[2,76],29:[2,76],31:[2,76],33:[2,76],35:[2,76],36:172,37:[1,73],38:[1,74],39:[1,75],40:[2,76],41:[2,76],46:[2,76],47:[2,76],48:[2,76],49:[2,76],50:[2,76],52:[2,76],57:[2,76],58:[2,76],60:[2,76],62:[2,76],65:[2,76],67:[2,76],69:[2,76],70:[2,76],71:[2,76]},{4:173,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{15:[1,121]},{41:[1,174]},{21:[1,175]},{23:[1,176]},{40:[1,177]},{5:[2,50],13:[2,50],15:[2,50],17:[2,50],21:[2,50],22:[2,50],23:[2,50],25:[2,50],26:[2,50],27:[2,50],28:[2,50],29:[2,50],31:[2,50],33:[2,50],35:[2,50],37:[2,50],38:[2,50],39:[2,50],40:[2,50],41:[2,50],46:[2,50],47:[2,50],48:[2,50],49:[2,50],50:[2,50],52:[2,50],57:[2,50],58:[2,50],60:[2,50],62:[2,50],65:[2,50],67:[2,50],69:[2,50],70:[2,50],71:[2,50]},{40:[1,178]},{5:[2,78],13:[2,78],15:[2,78],17:[2,78],21:[2,78],22:[2,78],23:[2,78],25:[2,78],26:[2,78],27:[2,78],28:[2,78],29:[2,78],31:[2,78],33:[2,78],35:[2,78],37:[2,78],38:[2,78],39:[2,78],40:[2,78],41:[2,78],46:[2,78],47:[2,78],48:[2,78],49:[2,78],50:[2,78],52:[2,78],57:[2,78],58:[2,78],60:[2,78],62:[2,78],65:[2,78],67:[2,78],69:[2,78],70:[2,78],71:[2,78]},{31:[1,180],54:179,55:[1,23]},{23:[1,181]},{5:[2,89],13:[2,89],15:[2,89],17:[2,89],21:[2,89],22:[2,89],23:[2,89],25:[2,89],26:[2,89],27:[2,89],28:[2,89],29:[2,89],31:[2,89],33:[2,89],35:[2,89],37:[2,89],38:[2,89],39:[2,89],40:[2,89],41:[2,89],46:[2,89],47:[2,89],48:[2,89],49:[2,89],50:[2,89],52:[2,89],57:[2,89],58:[2,89],60:[2,89],62:[2,89],65:[2,89],67:[2,89],69:[2,89],70:[2,89],71:[2,89]},{23:[1,182]},{13:[1,183]},{13:[1,141],16:140,25:[1,49],26:[1,50],27:[1,51],28:[1,52],62:[2,67]},{15:[2,69],62:[2,69]},{15:[2,71],62:[2,71]},{15:[2,28],62:[2,28],65:[2,28]},{41:[1,184]},{5:[2,15]},{5:[2,29],15:[2,29],62:[2,29],65:[2,29]},{15:[2,94],23:[2,94]},{5:[2,75],13:[2,75],15:[2,75],17:[2,75],21:[2,75],22:[2,75],23:[2,75],25:[2,75],26:[2,75],27:[2,75],28:[2,75],29:[2,75],31:[2,75],33:[2,75],35:[2,75],37:[2,75],38:[2,75],39:[2,75],40:[2,75],41:[2,75],46:[2,75],47:[2,75],48:[2,75],49:[2,75],50:[2,75],52:[2,75],57:[2,75],58:[2,75],60:[2,75],62:[2,75],65:[2,75],67:[2,75],69:[2,75],70:[2,75],71:[2,75]},{15:[2,95],23:[2,95]},{5:[2,39],13:[2,39],15:[2,39],17:[2,39],21:[2,39],22:[2,39],23:[2,39],25:[2,39],26:[2,39],27:[2,39],28:[2,39],29:[2,39],31:[2,39],33:[2,39],35:[2,39],37:[2,39],38:[2,39],39:[2,39],40:[2,39],41:[2,39],46:[2,39],47:[2,39],48:[2,39],49:[2,39],50:[2,39],52:[2,39],55:[2,39],57:[2,39],58:[2,39],60:[2,39],62:[2,39],65:[2,39],67:[2,39],69:[2,39],70:[2,39],71:[2,39]},{5:[2,20],15:[2,20]},{5:[2,21],15:[2,21]},{4:185,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:186,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{41:[1,187]},{55:[1,188]},{5:[2,83],13:[2,83],15:[2,83],17:[2,83],21:[2,83],22:[2,83],23:[2,83],25:[2,83],26:[2,83],27:[2,83],28:[2,83],29:[2,83],31:[2,83],33:[2,83],35:[2,83],37:[2,83],38:[2,83],39:[2,83],40:[2,83],41:[2,83],46:[2,83],47:[2,83],48:[2,83],49:[2,83],50:[2,83],52:[2,83],57:[2,83],58:[2,83],60:[2,83],62:[2,83],65:[2,83],67:[2,83],69:[2,83],70:[2,83],71:[2,83]},{5:[2,91],13:[2,91],15:[2,91],17:[2,91],21:[2,91],22:[2,91],23:[2,91],25:[2,91],26:[2,91],27:[2,91],28:[2,91],29:[2,91],31:[2,91],33:[2,91],35:[2,91],37:[2,91],38:[2,91],39:[2,91],40:[2,91],41:[2,91],46:[2,91],47:[2,91],48:[2,91],49:[2,91],50:[2,91],52:[2,91],57:[2,91],58:[2,91],60:[2,91],62:[2,91],65:[2,91],67:[2,91],69:[2,91],70:[2,91],71:[2,91]},{4:189,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{17:[2,88],22:[2,88],31:[2,88],37:[2,88],40:[2,88],46:[2,88],48:[2,88],49:[2,88],52:[2,88],55:[2,88],57:[2,88],58:[2,88],60:[2,88],67:[2,88],69:[2,88],70:[2,88],71:[2,88]},{41:[1,190]},{41:[1,191]},{12:63,17:[1,14],22:[1,193],30:192,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{41:[2,74]},{41:[1,194]},{5:[2,49],13:[2,49],15:[2,49],17:[2,49],21:[2,49],22:[2,49],23:[2,49],25:[2,49],26:[2,49],27:[2,49],28:[2,49],29:[2,49],31:[2,49],33:[2,49],35:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[2,49],41:[2,49],46:[2,49],47:[2,49],48:[2,49],49:[2,49],50:[2,49],52:[2,49],57:[2,49],58:[2,49],60:[2,49],62:[2,49],65:[2,49],67:[2,49],69:[2,49],70:[2,49],71:[2,49]},{5:[2,51],13:[2,51],15:[2,51],17:[2,51],21:[2,51],22:[2,51],23:[2,51],25:[2,51],26:[2,51],27:[2,51],28:[2,51],29:[2,51],31:[2,51],33:[2,51],35:[2,51],37:[2,51],38:[2,51],39:[2,51],40:[2,51],41:[2,51],46:[2,51],47:[2,51],48:[2,51],49:[2,51],50:[2,51],52:[2,51],57:[2,51],58:[2,51],60:[2,51],62:[2,51],65:[2,51],67:[2,51],69:[2,51],70:[2,51],71:[2,51]},{5:[2,80],12:63,13:[2,80],15:[2,80],17:[1,14],21:[2,80],22:[1,64],23:[2,80],25:[2,80],26:[2,80],27:[2,80],28:[2,80],29:[2,80],31:[2,80],32:68,33:[1,69],35:[1,70],37:[2,80],38:[2,80],39:[2,80],40:[1,28],41:[2,80],42:24,43:25,44:26,45:27,46:[1,29],47:[2,80],48:[1,30],49:[1,31],50:[2,80],51:32,52:[1,33],53:34,56:37,57:[1,43],58:[1,44],60:[1,38],62:[2,80],65:[2,80],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{4:195,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{36:196,37:[1,73],38:[1,74],39:[1,75]},{23:[1,197]},{4:198,12:63,17:[1,14],22:[1,64],24:12,30:15,31:[1,21],32:22,34:17,40:[1,28],42:24,43:25,44:26,45:27,46:[1,29],48:[1,30],49:[1,31],51:32,52:[1,33],53:34,54:20,55:[1,23],56:37,57:[1,43],58:[1,44],60:[1,38],66:35,67:[1,39],68:36,69:[1,40],70:[1,41],71:[1,42]},{5:[2,81],13:[2,81],15:[2,81],17:[2,81],21:[2,81],22:[2,81],23:[2,81],25:[2,81],26:[2,81],27:[2,81],28:[2,81],29:[2,81],31:[2,81],33:[2,81],35:[2,81],37:[2,81],38:[2,81],39:[2,81],40:[2,81],41:[2,81],46:[2,81],47:[2,81],48:[2,81],49:[2,81],50:[2,81],52:[2,81],57:[2,81],58:[2,81],60:[2,81],62:[2,81],65:[2,81],67:[2,81],69:[2,81],70:[2,81],71:[2,81]},{5:[2,64],13:[2,64],15:[2,64],17:[2,64],21:[2,64],22:[2,64],23:[2,64],25:[2,64],26:[2,64],27:[2,64],28:[2,64],29:[2,64],31:[2,64],33:[2,64],35:[2,64],37:[2,64],38:[2,64],39:[2,64],40:[2,64],41:[2,64],46:[2,64],47:[2,64],48:[2,64],49:[2,64],50:[2,64],52:[2,64],57:[2,64],58:[2,64],60:[2,64],62:[2,64],65:[2,64],67:[2,64],69:[2,64],70:[2,64],71:[2,64]}],defaultActions:{11:[2,11],43:[2,62],44:[2,63],45:[2,1],53:[2,2],54:[2,3],55:[2,4],56:[2,5],57:[2,6],58:[2,7],61:[2,9],62:[2,96],104:[2,14],107:[2,8],108:[2,12],109:[2,13],144:[2,10],169:[2,15],188:[2,74]},parseError:function(b,c){throw new Error(b)},parse:function(b){function p(a){d.length=d.length-2*a,e.length=e.length-a,f.length=f.length-a}function q(){var a;return a=c.lexer.lex()||1,typeof a!="number"&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1;this.lexer.setInput(b),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var n=this.lexer.yylloc;f.push(n);var o=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var r,s,t,u,v,w,x={},y,z,A,B;for(;;){t=d[d.length-1];if(this.defaultActions[t])u=this.defaultActions[t];else{if(r===null||typeof r=="undefined")r=q();u=g[t]&&g[t][r]}if(typeof u=="undefined"||!u.length||!u[0]){var C="";if(!k){B=[];for(y in g[t])this.terminals_[y]&&y>2&&B.push("'"+this.terminals_[y]+"'");this.lexer.showPosition?C="Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[r]||r)+"'":C="Parse error on line "+(i+1)+": Unexpected "+(r==1?"end of input":"'"+(this.terminals_[r]||r)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[r]||r,line:this.lexer.yylineno,loc:n,expected:B})}if(k==3){if(r==m)throw new Error(C||"Parsing halted.");j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,n=this.lexer.yylloc,r=q()}for(;;){if(l.toString()in g[t])break;if(t===0)throw new Error(C||"Parsing halted.");p(1),t=d[d.length-1]}s=r==2?null:r,r=l,t=d[d.length-1],u=g[t]&&g[t][l],k=3}if(u[0]instanceof Array&&u.length>1)throw new Error("Parse Error: multiple actions possible at state: "+t+", token: "+r);switch(u[0]){case 1:d.push(r),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(u[1]),r=null,s?(r=s,s=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,n=this.lexer.yylloc,k>0&&k--);break;case 2:z=this.productions_[u[1]][1],x.$=e[e.length-z],x._$={first_line:f[f.length-(z||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(z||1)].first_column,last_column:f[f.length-1].last_column},o&&(x._$.range=[f[f.length-(z||1)].range[0],f[f.length-1].range[1]]),w=this.performAction.call(x,h,j,i,this.yy,u[1],e,f);if(typeof w!="undefined")return w;z&&(d=d.slice(0,-1*z*2),e=e.slice(0,-1*z),f=f.slice(0,-1*z)),d.push(this.productions_[u[1]][0]),e.push(x.$),f.push(x._$),A=g[d[d.length-2]][d[d.length-1]],d.push(A);break;case 3:return!0}}return!0}},b=function(){var a={EOF:1,parseError:function(b,c){if(!this.yy.parser)throw new Error(b);this.yy.parser.parseError(b,c)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=(new Array(a.length+1)).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e,f;this._more||(this.yytext="",this.match="");var g=this._currentRules();for(var h=0;h<g.length;h++){c=this._input.match(this.rules[g[h]]);if(c&&(!b||c[0].length>b[0].length)){b=c,d=h;if(!this.options.flex)break}}if(b){f=b[0].match(/(?:\r\n?|\n).*/g),f&&(this.yylineno+=f.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:f?f[f.length-1].length-f[f.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,g[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1);if(a)return a;return}return this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var b=this.next();return typeof b!="undefined"?b:this.lex()},begin:function(b){this.conditionStack.push(b)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(b){this.begin(b)}};return a.options={},a.performAction=function(b,c,d,e){var f=e;switch(d){case 0:break;case 1:return 40;case 2:return 41;case 3:return"MATH_SHIFT";case 4:return c.yytext=this.matches[this.matches.length-1],37;case 5:return c.yytext=this.matches[this.matches.length-1],38;case 6:return 39;case 7:return 55;case 8:return 33;case 9:return 35;case 10:return c.yytext=this.matches[3],52;case 11:return c.yytext=this.matches[this.matches.length-1],71;case 12:return 69;case 13:return 70;case 14:return 48;case 15:return 49;case 16:return 57;case 17:return 58;case 18:return 46;case 19:return 47;case 20:return 31;case 21:return 29;case 22:return 13;case 23:return 59;case 24:return 50;case 25:return 5;case 26:return 22;case 27:return 23;case 28:return 20;case 29:return 21;case 30:return 60;case 31:return 62;case 32:return 65;case 33:return 27;case 34:return 28;case 35:return 26;case 36:return 25;case 37:return 15;case 38:return 14;case 39:return 67;case 40:return c.yytext="\\sign",17;case 41:return c.yytext="\\gcd",17;case 42:return c.yytext="\\lcm",17;case 43:return 17;case 44:break;case 45:return"UNRECOGNIZED"}},a.rules=[/^(?:(\\space|\\:|\s)+)/,/^(?:\{)/,/^(?:\})/,/^(?:\$)/,/^(?:\^([0-9]))/,/^(?:\^([a-zA-Z]))/,/^(?:\^)/,/^(?:[0-9]+(\.[0-9]+)?|(\.[0-9]+))/,/^(?:\*|(\\cdot))/,/^(?:\/)/,/^(?:(\\frac((?:\s|\\space|\\:)*)\{d\}\{d(((\\[a-zA-Z]+|[a-zA-Z])(_[a-zA-Z0-9]|_\{[a-zA-Z0-9]+\})?))\}))/,/^(?:(\\log)((?:\s|\\space|\\:)*)*_([0-9]))/,/^(?:(\\ln))/,/^(?:(\\log))/,/^(?:(\\frac))/,/^(?:(\\sqrt))/,/^(?:(\\sum))/,/^(?:(\\prod))/,/^(?:\\left\|)/,/^(?:\\right\|)/,/^(?:-)/,/^(?:\+)/,/^(?:=)/,/^(?:[_])/,/^(?:!)/,/^(?:$)/,/^(?:(\()|\\left\()/,/^(?:(\))|\\right\))/,/^(?:(\[)|\\left\[)/,/^(?:(\])|\\right\])/,/^(?:(\\\{)|\\left\\\{)/,/^(?:(\\\})|\\right\\\})/,/^(?::)/,/^(?:(\\ge|>=))/,/^(?:(\\le|<=))/,/^(?:(\\gt|>))/,/^(?:(\\lt|<))/,/^(?:,)/,/^(?:(###)(((?:\s|\\space|\\:)*)((\\[a-zA-Z]+|[a-zA-Z])(_[a-zA-Z0-9]|_\{[a-zA-Z0-9]+\})?)((?:\s|\\space|\\:)*)(\\left\(|\()((?:\s|\\space|\\:)*)((\\[a-zA-Z]+|[a-zA-Z])(_[a-zA-Z0-9]|_\{[a-zA-Z0-9]+\})?)(((?:\s|\\space|\\:)*),((?:\s|\\space|\\:)*)((\\[a-zA-Z]+|[a-zA-Z])(_[a-zA-Z0-9]|_\{[a-zA-Z0-9]+\})?)((?:\s|\\space|\\:)*))*((?:\s|\\space|\\:)*)(\\right\)|\))((?:\s|\\space|\\:)*)=))/,/^(?:(\\(arc)?(sin|cos|tan|cot|sec|csc)h?))/,/^(?:(\\signum))/,/^(?:(\\(gcf|mcd)))/,/^(?:(\\mcm))/,/^(?:((\\[a-zA-Z]+|[a-zA-Z])(_[a-zA-Z0-9]|_\{[a-zA-Z0-9]+\})?))/,/^(?:(###))/,/^(?:.)/],a.conditions={conditional:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}},a}();return a.lexer=b,a}),define("math/inverses",[],function(){var a={},b=["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"];return b.forEach(function(b){a[b]="arc"+b,a["arc"+b]=b}),a}),enum_strings={},debuggable_enums=!0,debuggable_enums?define_enum_constant=function(a){this[a]=a}:(next_enum=1e3,define_enum_constant=function(a){enum_strings[next_enum]=a,this[a]=next_enum++}),define_enum_constant("EXPRESSION"),define_enum_constant("FUNCTION_DEFINITION"),define_enum_constant("VARIABLE_DEFINITION"),define_enum_constant("ORDERED_PAIR_LIST"),define_enum_constant("DOUBLE_INEQUALITY"),define_enum_constant("COMPARATOR"),define_enum_constant("CHAINED_COMPARATOR"),define_enum_constant("EQUATION"),define_enum_constant("CONSTANT"),define_enum_constant("IDENTIFIER"),define("math/enums",function(){}),define("math/parser_util",["require","pjs","./evalframe","./comparators","parser","./inverses","./builtin","./enums"],function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=a("pjs"),t=a("./evalframe"),u=a("./comparators"),v=a("parser"),w=a("./inverses"),x=a("./builtin");a("./enums"),b={},v.yy.inverses=w,c=b.ParseNode=s(function(a){a.init=function(){this._dependencies={},this._referencedSymbols={}},a.setInputString=function(a){this._inputString=a},a.getInputString=function(){return this._inputString},a.statementType=EXPRESSION,a.assigns=null,a.valid=!0,a.exportDefinitionsTo=function(a,b){},a.evaluateOnce=function(a){return"Unable to evaluate"},a.addDependency=function(a,b){this.referenceSymbol(a);if(!this._dependencies.hasOwnProperty(a)){this._dependencies[a]=b;return}var c=this._dependencies[a];if(b===c)return;if(b===1&&c===0)return;if(b===0&&c===1){this._dependencies[a]=b;return}throw b===0||c===0?"You're referencing '"+a+"' as both a function and a variable. Make up your mind!":"You're referencing '"+a+"' as both a "+c+"-variable and a "+b+"-variable function. Make up your mind!"},a.referenceSymbol=function(a){this._referencedSymbols[a]=!0},a.shadowVariable=function(a){this.referenceSymbol(a);if(!this._dependencies.hasOwnProperty(a))return;var b=this._dependencies[a];if(b<=1){delete this._dependencies[a];return}throw"Cannot redefine function "+a+" as a variable"},a.addDependencies=function(a){for(var b in a){if(!a.hasOwnProperty(b))continue;var c=a[b];this.addDependency(b,c)}},a.references=function(a){if(this._referencedSymbols[a])return!0},a.dependencies=function(){return this._dependencies},a.getEvalStrings=function(){throw"Cannot call getEvalStrings on base ParseNode"},a.polynomialOrder=function(){return Infinity},a.uid_counter=[0],a.tmp=function(){return"tmp"+this.uid_counter[0]++},a.okForImplicitFunction=function(){return!1}}),b.AssignmentNode=s(c,function(a,b){a.init=function(a,c){b.init.call(this),this.assigns=a,this.referenceSymbol(this.assigns.identifier),this.arity=0,this.expression=c,this.addDependencies(c.dependencies()),this.lhs=a,this.rhs=c,this.dependencies().hasOwnProperty(this.assigns.identifier)&&(this.statementType=EQUATION)},a.statementType=VARIABLE_DEFINITION,a.evaluateOnce=function(a){return this.expression.evaluateOnce(a)},a.exportDefinitionsTo=function(a){var b,c;if(this.statementType===EQUATION)return;try{b=this.expression.evaluateOnce(a),c=f(b),a.setVariable(this.assigns.identifier,c),a.setEvalStrings(this.assigns.identifier,c.getEvalStrings(a))}catch(d){a.setVariable(this.assigns.identifier,this.expression),a.setEvalStrings(this.assigns.identifier,this.expression.getEvalStrings(a))}},a.getEvalStrings=function(a){return this.statementType===EQUATION?b.getEvalStrings(a):this.expression.getEvalStrings(a)},a.toString=function(){return this.assigns+" = "+this.expression}}),b.DoubleInequalityNode=s(c,function(a,b){a.init=function(c,e,f,g,h){var i,j,k,l;b.init.call(this),this._inequalities=[];if(u.table[e].direction!=u.table[g].direction)throw"Double inequalities must both go the same way, e.g. 1 < y < 2";this.direction=u.table[e].direction,this.inclusive=u.table[e].inclusive&&u.table[g].inclusive,i=u.get(this.inclusive,this.direction),j=n(i,c,h),k=d(j,c),l=d(j,h),this._inequalities.push(n(e,f,k)),this._inequalities.push(n(g,f,l)),this.addDependencies(f.dependencies()),this.addDependencies(c.dependencies()),this.addDependencies(h.dependencies()),a.statementType=DOUBLE_INEQUALITY},a.getInequality=function(a){return this._inequalities[a]}}),b.EquationNode=s(c,function(a,b){a.init=function(a,c){b.init.call(this),this.lhs=a,this.rhs=c,this.addDependencies(a.dependencies()),this.addDependencies(c.dependencies())},a.statementType=EQUATION,a.toString=function(){return this.lhs+" = "+this.rhs}}),d=b.PiecewiseNode=s(c,function(a,b){a.init=function(a,c,d){b.init.call(this),this.condition=a,this.if_expr=c,this.frozen=!1,d&&(this.else_expr=d,this.addDependencies(this.else_expr._partial_dependencies())),this.addDependencies(a.dependencies()),this.addDependencies(c.dependencies())},a._partial_dependencies=function(){return b.dependencies},a.append_else=function(a){if(this.frozen)throw"Programming Error - please treat me as immutable.  Cannot change PiecewiseNode after getting dependencies";return this.else_expr?this.else_expr.append_else(a):this.else_expr=a,this.addDependencies(a.dependencies()),this},a.evaluateOnce=function(a){return this.frozen=!0,this.condition.evaluateOnce(a)?this.if_expr.evaluateOnce(a):this.else_expr?this.else_expr.evaluateOnce(a):undefined},a.getEvalStrings=function(a){var b=this.condition.getEvalStrings(a),c=this.if_expr.getEvalStrings(a),d;this.else_expr?d=this.else_expr.getEvalStrings(a):d={statements:"",expression:"undefined"};var e=this.tmp(),f="var "+e+";"+b.statements+"if("+b.expression+") {"+c.statements+e+"="+c.expression+";}else{"+d.statements+e+"="+d.expression+";}";return{expression:e,statements:f}},a.polynomialOrder=function(a,b){return this.dependencies().hasOwnProperty(b)?Infinity:0},a.quadraticCoefficients=function(a,b){return[0,0,this.evaluateOnce(a)]},a.polynomialEvalStrings=function(a,b,c){var d=this.getEvalStrings(a);return{statements:d.statements,expressions:[d.expression]}},a.toString=function(){if(!this.else_expr)return"\\left\\{"+this.condition+": "+this.if_expr+"\\right\\}";var a;return this.else_expr.condition&&this.else_expr.condition.value===!0?a=String(this.else_expr.if_expr):a=String(this.else_expr).replace(/^\\left\\\{(.*)\\right\\\}$/,"$1"),"\\left\\{"+this.condition+": "+this.if_expr+", "+a+"\\right\\}"}}),b.OrderedPairNode=s(c,function(a,b){a.init=function(a,c){b.init.call(this),this.children=[a,c],this.addDependencies(a.dependencies()),this.addDependencies(c.dependencies())},a.getEvalStrings=function(a){var b=this.children[0].getEvalStrings(a),c=this.children[1].getEvalStrings(a),d=b.statements+c.statements,e="["+b.expression+","+c.expression+"]";return{statements:d,expression:e}},a.evaluateOnce=function(a){return[this.children[0].evaluateOnce(a),this.children[1].evaluateOnce(a)]},this.toString=function(){return"\\left("+this.children[0]+", "+this.children[1]+"\\right)"}}),e=b.ErrorNode=s(c,function(a,b){a.init=function(a){b.init.call(this),this.error_msg=a},a.valid=!1,this.evaluateOnce=function(a){return this.error_msg}}),f=b.ConstantNode=s(c,function(a,b){a.init=function(a){b.init.call(this),this.value=a},a.evaluateOnce=function(a){return this.value},a.getEvalStrings=function(){var a="",b=this.value<0?"("+String(this.value)+")":String(this.value);return{expression:b,statements:a}},a.quadraticCoefficients=function(a,b){return[0,0,this.value]},a.polynomialEvalStrings=function(a,b,c){return{statements:"",expressions:["("+String(this.value)+")"]}},a.polynomialOrder=function(a,b){return 0},a.okForImplicitFunction=function(){return!0},a.toString=function(){return String(this.value)},a.statementType=CONSTANT}),g=b.NegationNode=s(c,function(a,b){a.init=function(a){b.init.call(this),this.expression=a,this.addDependencies(this.expression.dependencies())},a.evaluateOnce=function(a){return-this.expression.evaluateOnce(a)},a.quadraticCoefficients=function(a,b){var c=this.expression.quadraticCoefficients(a,b);return[-c[0],-c[1],-c[2]]},a.polynomialEvalStrings=function(a,b,c){var d=this.expression.polynomialEvalStrings(a,b,c);for(var e=0;e<d.expressions.length;e++)d.expressions[e]="(-"+d.expressions[e]+")";return d},a.polynomialOrder=function(a,b){return this.expression.polynomialOrder(a,b)},a.getEvalStrings=function(a){var b=this.expression.getEvalStrings(a);return{expression:"(-"+b.expression+")",statements:b.statements}},a.toString=function(){return"-"+this.expression}}),h=b.IdentifierNode=s(c,function(a,b){a.init=function(a){b.init.call(this),a=a.replace("\\",""),a=a.replace("{",""),a=a.replace("}",""),this.identifier=a,this.addDependency(this.identifier,0)},a.evaluateOnce=function(a){return a.getVariable(this.identifier).evaluateOnce(a)},a.getEvalStrings=function(a){return a.getEvalStrings(this.identifier)},a.quadraticCoefficients=function(a,b){if(b===this.identifier)return[0,1,0];var c=a.getVariable(this.identifier);return c.quadraticCoefficients(a,b)},a.polynomialEvalStrings=function(a,b,c){if(b===this.identifier)return{statements:"",expressions:["0","1"]};if(c===this.identifier)return{statements:"",expressions:[this.identifier]};var d=a.getVariable(this.identifier);return d.polynomialEvalStrings(a,b,c)},a.polynomialOrder=function(a,b){if(b===this.identifier)return 1;if(!a.hasVariable(this.identifier))return 0;var c=a.getVariable(this.identifier);return c.polynomialOrder(a,b)},a.okForImplicitFunction=function(){return!0},a.toString=function()
{var a=this.identifier.match(/^([^_]+)(_(.*))?$/),b=a[1],c=a[3];return b.length>1&&(b="\\"+b),c?b+"_{"+c+"}":b},a.statementType=IDENTIFIER}),b.ChainedComparatorNode=s(c,function(a,b){a.init=function(a,c){var d;b.init.call(this);if(a.length!==2||c.length!==3)throw"Can't chain more than 2 comparators";this.comparators=a,this.args=c;for(d=0;d<3;d++)this.addDependencies(c[d].dependencies());this.node1=n(this.comparators[0],this.args[0],this.args[1]),this.node2=n(this.comparators[1],this.args[1],this.args[2])},a.evaluateOnce=function(a){return this.node1.evaluateOnce(a)&&this.node2.evaluateOnce(a)},a.getEvalStrings=function(a){var b=this.node1.getEvalStrings(a),c=this.node2.getEvalStrings(a),d=b.statements+c.statements,e="("+b.expression+"&&"+c.expression+")";return{expression:e,statements:d}},a.toString=function(){return[this.args[0],this.comparators[0],this.args[1],this.comparators[1],this.args[2]].join(" ")},a.statementType=CHAINED_COMPARATOR}),i={"+":"arg1+arg2","-":"arg1-arg2","*":"arg1*arg2","/":"arg1/arg2",">":"arg1>arg2","<":"arg1<arg2",">=":"arg1>=arg2","<=":"arg1<=arg2","===":"arg1===arg2","^":"this.pow(arg1, arg2)"},j={};for(k in i)i.hasOwnProperty(k)&&(k==="^"?l=x.pow:l=new Function(["arg1","arg2"],"return "+i[k]),j[k]=l);m=b.BinaryOperatorNode=s(c,function(a,b){a.init=function(a,c,d){b.init.call(this),this.args=[c,d],this.operator=a,this.evaluator=j[a],this.addDependencies(this.args[0].dependencies()),this.addDependencies(this.args[1].dependencies())},a.evaluateOnce=function(a){return this.evaluator(this.args[0].evaluateOnce(a),this.args[1].evaluateOnce(a))},a.getEvalStrings=function(a){var b=this.args[0].getEvalStrings(a),c=this.args[1].getEvalStrings(a),d=i[this.operator],e="("+d.replace("arg1",b.expression).replace("arg2",c.expression)+")",f=b.statements+c.statements;return{expression:e,statements:f}},a.quadraticCoefficients=function(a,b){var c=this.args[0].quadraticCoefficients(a,b),d=this.args[1].quadraticCoefficients(a,b);switch(this.operator){case"+":return[c[0]+d[0],c[1]+d[1],c[2]+d[2]];case"-":return[c[0]-d[0],c[1]-d[1],c[2]-d[2]];case"*":var e=[0,0,0,0,0];for(var f=0;f<=2;f++)for(var g=0;g<=2;g++)e[f+g]+=c[f]*d[g];var h=e.splice(0,2);if(h[0]!==0||h[1]!==0)return[NaN,NaN,NaN];return e;case"/":if(d[0]!==0||d[1]!==0)return[NaN,NaN,NaN];return[c[0]/d[2],c[1]/d[2],c[2]/d[2]];case"^":if(d[0]!==0||d[1]!==0)return[NaN,NaN,NaN];if(c[0]===0&&c[1]===0)return[0,0,this.evaluator(c[2],d[2])];if(d[2]===1)return c;if(d[2]===2)return c[0]!==0?[NaN,NaN,NaN]:[c[1]*c[1],2*c[1]*c[2],c[2]*c[2]]}return[NaN,NaN,NaN]},a.polynomialEvalStrings=function(a,b,c){var d=this.args[0].polynomialEvalStrings(a,b,c),e=this.args[1].polynomialEvalStrings(a,b,c),f=d.expressions.length-1,g=e.expressions.length-1,h=d.statements+e.statements,i=[],j,k,l;switch(this.operator){case"+":case"-":for(j=0;j<=Math.min(f,g);j++)i[j]="("+d.expressions[j]+this.operator+e.expressions[j]+")";for(j=Math.min(f,g)+1;j<=Math.max(f,g);j++)this.operator==="+"&&(i[j]=f>g?d.expressions[j]:e.expressions[j]),this.operator==="-"&&(i[j]=f>g?d.expressions[j]:"(-"+e.expressions[j]+")");return{statements:h,expressions:i};case"*":for(j=0;j<=f;j++)for(k=0;k<=g;k++)l="("+d.expressions[j]+"*"+e.expressions[k]+")",i[j+k]===undefined?i[j+k]=l:i[j+k]+="+"+l;for(j=0;j<i.length;j++)i[j]="("+i[j]+")";return{statements:h,expressions:i};case"/":if(g>=1)throw"can't solve for variable in denominator";for(j=0;j<=f;j++)i[j]="(("+d.expressions[j]+")"+"/"+"("+e.expressions[0]+"))";return{statements:h,expressions:i};case"^":if(g>=1)throw"can't solve for variable in exponent";if(f===0)return{statements:h,expressions:["this.pow("+d.expressions[0]+","+e.expressions[0]+")"]};var m=this.args[1].evaluateOnce(a);switch(m){case 0:return{statements:"",expressions:["1"]};case 1:return e;case 2:for(j=0;j<=f;j++)for(k=0;k<=f;k++)l="("+d.expressions[j]+"*"+d.expressions[k]+")",i[j+k]===undefined?i[j+k]=l:i[j+k]+="+"+l;for(j=0;j<i.length;j++)i[j]="("+i[j]+")";return{statements:h,expressions:i}}}throw"Unable to compile polyomial representation of BinaryOperatorNode"},a.polynomialOrder=function(a,b){var c=this.args[0].polynomialOrder(a,b),d=this.args[1].polynomialOrder(a,b);switch(this.operator){case"+":case"-":return Math.max(c,d);case"*":return c+d;case"/":if(d>0)return Infinity;return c;case"^":if(c===0&&d===0)return 0;try{var e=this.args[1].evaluateOnce(a);return e!==Math.round(e)?Infinity:e<0?Infinity:e*c}catch(f){return Infinity}}return Infinity},a.okForImplicitFunction=function(){return this.args[0].okForImplicitFunction()&&this.args[1].okForImplicitFunction()};var c=function(a,b){var c=a.toString(),d=b.toString();return a instanceof m&&(c="("+c+")"),b instanceof m&&(d="{"+d+"}"),c+"^"+d},d=function(a,b){var c=String(a),d=String(b);if(a instanceof m&&(a.operator==="+"||a.operator==="-")||a instanceof g)c="("+c+")";if(b instanceof m&&(b.operator==="+"||b.operator==="-")||b instanceof g)d="("+d+")";return c+"*"+d};a.toString=function(){return this.operator==="^"?c(this.args[0],this.args[1]):this.operator==="/"?"\\frac{"+this.args[0]+"}{"+this.args[1]+"}":this.operator==="*"?d(this.args[0],this.args[1]):this.args[0]+" "+this.operator+" "+this.args[1]}}),n=b.ComparatorNode=s(m,function(a,b){a.init=function(a,c,d){b.init.call(this,a,c,d)},a.polynomialOrder=function(a,b){var c=this.args[0].polynomialOrder(a,b),d=this.args[1].polynomialOrder(a,b);return Math.max(c,d)},a.quadraticCoefficients=function(a,b){return[NaN,NaN,NaN]},a.statementType=COMPARATOR}),o=b.FunctionNode=s(c,function(a,b){a.init=function(a,c){b.init.call(this),this.identifier=a,this.args=c,this.arity=this.args.length,this.addDependency(this.identifier.identifier,this.arity);for(var d=0;d<c.length;d++)this.addDependencies(c[d].dependencies())},a.evaluateOnce=function(a){if(this.arity>1||a.hasFunction(this.identifier.identifier))return a.callFunction(this.identifier.identifier,this.args.map(function(b){return b.evaluateOnce(a)}));if(this.args.length===1&&a.hasVariable(this.identifier.identifier))return this.args[0].evaluateOnce(a)*a.getVariable(this.identifier.identifier).evaluateOnce(a)},a.getEvalStrings=function(a){if(this.arity>1||a.hasFunction(this.identifier.identifier)){var b=this.args.map(function(b){return b.getEvalStrings(a)}),c=b.map(function(a){return a.expression}),d=b.map(function(a){return a.statements}),e=d.join(""),f="this."+this.identifier.identifier+"("+c.join(",")+")";return{expression:f,statements:e}}var g=h(this.identifier.identifier),i=m("*",g,this.args[0]);return i.getEvalStrings(a)},a.quadraticCoefficients=function(a,b){if(this.arity>1||a.hasFunction(this.identifier.identifier)){var c=this.args.map(function(c){return c.polynomialOrder(a,b)}),d=Math.max.apply(null,c);if(d===0)return[0,0,this.evaluateOnce(a)];var e=a.getFunctionTree(this.identifier.identifier);if(!e)throw"Can't solve equations with "+this.identifier.identifier;var f=t(a);for(var g=0;g<e.arity;g++)f.setVariable(e.args[g].identifier,this.args[g]);return e.expression.quadraticCoefficients(f,b)}var i=h(this.identifier.identifier),j=m("*",i,this.args[0]);return j.quadraticCoefficients(a,b)},a.polynomialEvalStrings=function(a,b,c){if(!(this.arity>1||a.hasFunction(this.identifier.identifier))){var i=h(this.identifier.identifier),j=m("*",i,this.args[0]);return j.polynomialEvalStrings(a,b,c)}var d=this.args.map(function(d){return d.polynomialEvalStrings(a,b,c)}),e=d.map(function(a){return a.expressions.length-1}),f=Math.max.apply(null,e);if(f===0){var g=this.getEvalStrings(a);return{statements:g.statements,expressions:[g.expression]}}},a.polynomialOrder=function(a,b){if(this.arity>1||a.hasFunction(this.identifier.identifier)){var c=this.args.map(function(c){return c.polynomialOrder(a,b)}),d=Math.max.apply(null,c);return d===0?0:Infinity}var e=h(this.identifier.identifier),f=m("*",e,this.args[0]);return f.polynomialOrder(a,b)},a.toString=function(){return this.identifier.identifier==="sqrt"?this.identifier+"{"+this.args[0]+"}":this.identifier+"("+this.args.join(", ")+")"}}),b.FunctionCallExponentNode=s(c,function(a,b){a.init=function(a,c,d){b.init.call(this),this.identifier=a,this.arg=c,this.exponent=d,this.as_function_node=m("^",o(this.identifier,[this.arg]),this.exponent),this.as_multiplication_node=m("*",this.identifier,m("^",this.arg,this.exponent)),this.addDependency(this.identifier.identifier,1),this.addDependencies(this.arg.dependencies()),this.addDependencies(this.exponent.dependencies())},a.getEquivalentNode=function(a){return a.hasFunction(this.identifier.identifier)?this.as_function_node:this.as_multiplication_node},a.evaluateOnce=function(a){return this.getEquivalentNode(a).evaluateOnce(a)},a.getEvalStrings=function(a){return this.getEquivalentNode(a).getEvalStrings(a)},a.polynomialOrder=function(a,b){return this.getEquivalentNode(a).polynomialOrder(a,b)},a.quadraticCoefficients=function(a,b){return this.getEquivalentNode(a).quadraticCoefficients(a,b)},a.polynomialEvalStrings=function(a,b,c){return this.getEquivalentNode(a).polynomialEvalStrings(a,b,c)},a.toString=function(){return this.as_function_node.toString()}}),b.FunctionDeclarationNode=s(c,function(a,b){a.init=function(a,c,d){var e,f,g;b.init.call(this),this.assigns=a,this.referenceSymbol(this.assigns.identifier),this.args=c,this.arity=this.args.length,this.expression=d,this.passed_variables=this.args.map(function(a){return a.identifier}),e=this.expression.dependencies();for(f in e){if(!e.hasOwnProperty(f))continue;g=e[f];if(this.passed_variables.indexOf(f)>=0){if(g>1)throw"Cannot call argument "+f+" as a function"}else this.addDependency(f,g)}},a.statementType=FUNCTION_DEFINITION,a.exportDefinitionsTo=function(a,b){var c=this,d=c.expression.getEvalStrings(a),e=d.statements+"return "+d.expression,f=c.args.map(function(a){return a.identifier}),g=b.compile(f,e);a.setFunction(c.assigns.identifier,c.args.length,g,c,f,e)},a.passedVariables=function(){return this.passed_variables},a.evaluateOnce=function(){return"Defines function "+this.assigns.identifier},a.getEvalStrings=function(a){return this.expression.getEvalStrings(a)},a.toString=function(){return this.assigns+"\\left("+this.args.join(", ")+"\\right)"+" = "+this.expression}}),p=b.DerivativeNode=s(c,function(a,b){a.init=function(a,c){b.init.call(this),this.derivative_variable=a,this.expression=c,this.addDependencies(c.dependencies()),this.addDependency(a.identifier,0)},a.evaluateOnce=function(a){var b=this.derivative_variable,c=this.expression.takeDerivative(a,b);if(c instanceof p){var d=a.getVariable(b.identifier).evaluateOnce(a),e=t(a),g=5e-5;e.setVariable(b.identifier,f(d-g));var h=this.expression.evaluateOnce(e);e.setVariable(b.identifier,f(d+g));var i=this.expression.evaluateOnce(e);return(i-h)/(2*g)}return c.evaluateOnce(a)},a.getEvalStrings=function(a){var b=this.derivative_variable,c=this.expression.takeDerivative(a,b);if(c instanceof p){var d=this.tmp(),e=this.tmp(),f="(5e-5)",g=this.tmp(),h=this.tmp(),i=b.getEvalStrings(a),j=i.statements+"var "+e+"="+i.expression+";",k=this.expression.getEvalStrings(a),l=b.identifier+"="+e+"-"+f+";"+k.statements+"var "+h+"="+k.expression+";",m=b.identifier+"="+e+"+"+f+";"+k.statements+"var "+g+"="+k.expression+";",n="var "+d+"=("+g+"-"+h+")/(2*"+f+");",o=b.identifier+"="+e+";",q=j+l+m+n+o;return{expression:d,statements:q}}return c.getEvalStrings(a)},a.toString=function(){return"\\frac{d}{d"+this.derivative_variable+"}"+"\\left("+this.expression+"\\right)"}}),q=b.RepeatedOperatorNode=s(c,function(a,b){a.init=function(a,c,d,e){b.init.call(this),this.index=a,this.lower_bound=c,this.upper_bound=d,this.summand=e,this.addDependencies(this.lower_bound.dependencies()),this.addDependencies(this.upper_bound.dependencies()),this.addDependencies(this.summand.dependencies()),this.shadowVariable(this.index.identifier)},a.evaluateOnce=function(a){var b=t(a),c=Math.round(this.lower_bound.evaluateOnce(a)),d=Math.round(this.upper_bound.evaluateOnce(a)),e=this.starting_value;if(!isFinite(d-c))e=d<c?this.starting_value:NaN;else for(var g=c;g<=d;g++)b.setVariable(this.index.identifier,f(g)),e=this.fn(e,this.summand.evaluateOnce(b));return e},a.getEvalStrings=function(a){var b=this.tmp(),c=this.index.identifier,d=this.tmp(),e=this.tmp(),f=this.lower_bound.getEvalStrings(a),g=this.upper_bound.getEvalStrings(a),h=this.summand.getEvalStrings(a),i=f.statements+"var "+d+" = Math.round("+f.expression+");",j=g.statements+"var "+e+" = Math.round("+g.expression+");",k="var "+b+"="+this.starting_value+";",l="for (var "+c+"="+d+";"+c+"<="+e+";"+c+"++) {"+h.statements+b+this.in_place_operator+h.expression+"};",m="if(!isFinite("+e+"-"+d+")) {"+b+"=("+e+"<"+d+"?"+this.starting_value+":NaN);}else{"+l+"}";return{expression:b,statements:i+j+k+m}}}),b.SummationNode=s(q,function(a,b){a.init=function(a,c,d,e){b.init.call(this,a,c,d,e)},a.starting_value=0,a.in_place_operator="+=",a.fn=function(a,b){return a+b},a.toString=function(){return"\\sum_{"+this.index+"="+this.lower_bound+"}"+"^{"+this.upper_bound+"} "+this.summand}}),b.ProductNode=s(q,function(a,b){a.init=function(a,c,d,e){b.init.call(this,a,c,d,e)},a.starting_value=1,a.in_place_operator="*=",a.fn=function(a,b){return a*b},a.toString=function(){return"\\prod_{"+this.index+"="+this.lower_bound+"}"+"^{"+this.upper_bound+"} "+this.summand}}),b.OrderedPairListNode=s(c,function(a,b){a.init=function(a){var c;b.init.call(this),this.elements=a;for(c=0;c<a.length;c++)this.addDependencies(a[c].dependencies())},a.evaluateOnce=function(a){return this.elements.map(function(b){return b.evaluateOnce(a)})},a.getEvalStrings=function(a){var b,c,d="",e="[";for(b=0;b<this.elements.length;b++)c=this.elements[b].getEvalStrings(a),d+=c.statements,e+=c.expression,b<this.elements.length-1&&(this.expression+=",");return e+="]",{statements:d,expression:e}},a.toString=function(){return"\\left("+this.elements.join(", ")+"\\right)"},a.statementType=ORDERED_PAIR_LIST});for(r in b)b.hasOwnProperty(r)&&(v.yy[r]=b[r]);return v.yy.parseFunctionDeclaration=function(a){var b,c,d,e,f,g,i,j,k;return a=a.replace("###",""),b="(?:\\s|\\\\space|\\\\\\:)*",c="(?:[a-zA-Z]|\\\\[a-zA-Z]+)",d="(?:_[a-zA-Z0-9]|_{[a-zA-Z0-9]+})?",e=c+d,f="(?:"+e+"(?:\\,"+e+")*)",g="("+e+")"+"(?:\\\\left)?\\(("+f+")(?:\\\\right)?\\)=",i=new RegExp(g),j=new RegExp(b,"g"),a=a.replace(j,""),k=i.exec(a),{identifier:h(k[1]),args:k[2].split(",").map(h),input_string:a.split("=")[0]}},b.parse=function(a){return v.parse("###"+a)},b.tryParse=function(a){var c;try{return c=b.parse(a),c}catch(d){return e(d)}},v.yy.setInput=function(a,b){a.setInputString(v.yy.lexer.matched.slice(Math.max(3,b.first_column),b.last_column))},v.yy.parseError=function(){throw"Sorry - I don't understand this"},b}),define("math/quadratic",["require"],function(){var a={formula:function(a,b){if(a.length!=3)throw"Where did you learn the quadratic formula?";var c=a[0],d=a[1],e=a[2];if(c===0)return[-e/d,-e/d];var f=Math.sqrt(d*d-4*c*e),g=(-d+f)/(2*c),h=(-d-f)/(2*c);return b===0?g:b===1?h:[g,h]},inequalityRegions:function(a){var b=1e+305,c=a[0],d=a[1],e=a[2];if(c===0&&d===0)return e>0?[NaN,-b,b,NaN]:[NaN,NaN,NaN,NaN];if(c===0)return d>0?[NaN,NaN,NaN,-e/d]:[-e/d,NaN,NaN,NaN];var f=Math.sqrt(d*d-4*c*e);if(!isFinite(f))return c>0?[NaN,-b,b,NaN]:[NaN,NaN,NaN,NaN];var g=(-d+f)/(2*c),h=(-d-f)/(2*c);return c>0?[h,NaN,NaN,g]:[NaN,g,h,NaN]},formulaEvalStrings:function(a){var b,c;switch(a.expressions.length){case 2:return b=a.statements+"return "+"-"+a.expressions[0]+"/"+a.expressions[1],[b];case 3:var d=a.statements+"var coeffs = ["+a.expressions[2]+","+a.expressions[1]+","+a.expressions[0]+"];";return b=d+"return this.quadraticFormula(coeffs, 0);",c=d+"return this.quadraticFormula(coeffs, 1);",[b,c]}},inequalityRegionEvalStrings:function(a){var b=a.expressions.slice();while(b.length<3)b.push("0");var c=a.statements+"var coeffs = ["+b[2]+","+b[1]+","+b[0]+"];";return[c+"return this.quadraticInequalityRegions(coeffs)[0]",c+"return this.quadraticInequalityRegions(coeffs)[1]",c+"return this.quadraticInequalityRegions(coeffs)[2]",c+"return this.quadraticInequalityRegions(coeffs)[3]"]}};return a}),define("math/builtinframe",["require","./builtin","./evalframe","./parser_util","./inverses","math/quadratic"],function(a){var b,c,d=a("./builtin"),e=a("./evalframe"),f=a("./parser_util"),g=a("./inverses"),h=a("math/quadratic"),i=f.ConstantNode,j=e();return j.setVariable("pi",i(Math.PI)),j.setEvalStrings("pi",{expression:String(Math.PI),statements:""}),j.setVariable("tau",i(2*Math.PI)),j.setEvalStrings("tau",{expression:String(2*Math.PI),statements:""}),j.setVariable("e",i(Math.E)),j.setEvalStrings("e",{expression:String(Math.E),statements:""}),j.setDegreeMode=function(a){j._angleMultiplier=a?Math.PI/180:1},j.setDegreeMode(!1),j.setFunction("angleMultiplier",1,function(){return j._angleMultiplier}),b=function(a,b,c){j.setFunction(a,1,function(a){return b(a*j._angleMultiplier)}),j.setFunction(g[a],1,function(a){return c(a)/j._angleMultiplier})},b("sin",d.sin,Math.asin),b("cos",d.cos,Math.acos),b("tan",d.tan,Math.atan),b("cot",d.cot,d.acot),b("sec",d.sec,d.asec),b("csc",d.csc,d.acsc),c=function(a,b,c){j.setFunction(a,1,b),j.setFunction(g[a],1,c)},c("sinh",d.sinh,d.asinh),c("cosh",d.cosh,d.acosh),c("tanh",d.tanh,d.atanh),c("coth",d.coth,d.acoth),c("sech",d.sech,d.asech),c("csch",d.csch,d.acsch),j.setFunction("pow",2,d.pow),j.setFunction("sqrt",1,Math.sqrt),j.setFunction("nthroot",2,d.nthroot),j.setFunction("log",2,d.log_base),j.setFunction("exp",1,Math.exp),j.setFunction("floor",1,Math.floor),j.setFunction("ceil",1,Math.ceil),j.setFunction("round",1,Math.round),j.setFunction("abs",1,Math.abs),j.setFunction("mod",2,d.mod),j.setFunction("max",2,d.max),j.setFunction("min",2,d.min),j.setFunction("sign",1,d.sign),j.setFunction("lcm",2,d.lcm),j.setFunction("gcd",2,d.gcd),j.setFunction("nCr",2,d.nCr),j.setFunction("nPr",2,d.nPr),j.setFunction("factorial",1,d.factorial),j.setFunction("polyGamma",2,d.polyGamma),j.setFunction("quadraticFormula",2,h.formula),j.setFunction("quadraticInequalityRegions",1,h.inequalityRegions),j}),define("lib/clone",["require"],function(){var a=function(a){return JSON.parse(JSON.stringify(a))};return a}),define("config",["require","lib/clone"],function(a){var b,c,d=a("lib/clone"),e={};return typeof Desmos!="undefined"&&Desmos.config&&(e=d(Desmos.config)),b=new RegExp("desmos_config=([^&]+)"),c=location.search.match(b),c!==null&&(e=JSON.parse(decodeURIComponent(c[1]))),{get:function(a){return e[a]},use:function(a,b){var c,f=d(e);for(c in a)e[c]=a[c];try{b()}finally{e=f}},all:function(){return d(e)}}}),define("math/plotter",["require","./distance","./poi","graphing/graphmode","./builtinframe","config"],function(a){var b=a("./distance"),c=a("./poi"),d=a("graphing/graphmode"),e=a("./builtinframe"),f=a("config"),g={Accumulator:function(a){var c,d;a?(c=a.xtolerance||a.tolerance||0,d=a.ytolerance||a.tolerance||0):c=d=0;var e=function(c,d,e,f,g){a&&a.map&&(c=a.map(c),d=a.map(d),e=a.map(e));var h=b.pointToSegmentParameter(e[0],e[1],c[0],c[1],d[0],d[1]);if(h<1)return!1;var i=[c[0]+h*(d[0]-c[0]),c[1]+h*(d[1]-c[1])];return Math.abs(e[0]-i[0])<=f&&Math.abs(e[1]-i[1])<=g};return{xtolerance:c,ytolerance:d,segments:[],segment:null,pivotPoint:null,pendingPoint:null,addPoint:function(a){this.n+=1;var b=this.pivotPoint;if(!this.segment){this.segment=[a[0],a[1]];return}if(c<0&&d<0){this.segment.push(a[0],a[1]);return}if(!b){this.pivotPoint=a,this.pendingPoint=a;return}var f=[this.segment[this.segment.length-2],this.segment[this.segment.length-1]];e(f,b,a,c,d)||(this.flushPending(),this.pivotPoint=a),this.pendingPoint=a},flushPending:function(){this.pendingPoint&&(this.segment.push(this.pendingPoint[0],this.pendingPoint[1]),this.pivotPoint=null,this.pendingPoint=null)},breakSegment:function(){this.flushPending(),this.segment&&(this.segment.length>2&&this.segments.push(this.segment),this.segment=null)},getSegments:function(){return this.breakSegment(),this.segments}}},sampleParametricNaive:function(a,b){var c=g.Accumulator(),d;for(var e=b.min;e<=b.max+b.step/2;e+=b.step)d=a(e),isFinite(d[0])&&isFinite(d[1])?c.addPoint(d):c.breakSegment();return c.getSegments()},sampleXYNaive:function(a,b){var c=g.Accumulator(b),d;for(var e=b.min;e<=b.max+b.step/2;e+=b.step)d=a(e),isFinite(d)?c.addPoint([e,d]):c.breakSegment();return c.getSegments()},sampleXY:function(a,d){var e=g.Accumulator(d),f,h=d.min,i=a(h),j=[h,i],k;d&&(k=d.ytolerance||d.tolerance);var l=function(d,f){if(!isFinite(k)||k<=0)return;var g,h;h=b.mean(d[0],f[0]),g=c.bisectJump(d[0],d[1],h,a(h),f[0],f[1],a,k),g&&(e.addPoint(g[0]),e.breakSegment(),e.addPoint(g[1]))};isFinite(i)&&e.addPoint([h,i]);for(h+=d.step;h<=d.max+d.step/2;h+=d.step)i=a(h),isFinite(i)&&isFinite(j[1])?(l(j,[h,i]),e.addPoint([h,i])):isFinite(i)&&!isFinite(j[1])?(f=c.bisectFinite(j[0],j[1],h,i,a),f[0]!==h&&e.addPoint(f),l(f,[h,i]),e.addPoint([h,i])):!isFinite(i)&&isFinite(j[1])&&(f=c.bisectFinite(j[0],j[1],h,i,a),l(j,f),f[0]!==j[0]&&e.addPoint(f),e.breakSegment()),j=[h,i];return e.getSegments()},findPiPeriod:function(a,b,c){function l(a,b){var f=b%2===0?1:-1;if(!c&&f===-1)return!1;var h=b*(Math.PI/e._angleMultiplier),i=[d,d+1,d+2,d+3];for(var j=0,k=i.length;j<k;j++)if(isFinite(a(i[j]))!==isFinite(a(i[j]+h))||Math.abs(a(i[j])-f*a(i[j]+h))>g)return!1;return!0}var d=b.min,f=b.max-b.min,g=b.xtolerance&&b.ytolerance?Math.min(b.xtolerance,b.ytolerance):b.tolerance,h=Math.floor(f/(Math.PI/e._angleMultiplier)),i,j,k;for(i=1;i<=h;i++)if(l(a,i)){k=i;for(j=2;j*i<=h;j++)l(a,j*i)||(k=undefined);if(k)break}return k?k*(Math.PI/e._angleMultiplier):null},mapPolar:function(a){return[a[1]*Math.cos(a[0]),a[1]*Math.sin(a[0])]},samplePolar:function(a,b){return b.map=this.mapPolar,this.sampleXY(a,b)},eachStep:function(a,b){var c=a.min,d=a.max,e=a.step,f=d-c,g=Math.ceil(f/e),h=f/g;for(var i=0;i<g;i++)b(c+i*h);b(d)},sampleParametricRecursive:function(a,b){if(b.max<b.min)return[];var c=g.Accumulator(b),d,e;b?(d=b.xtolerance||b.tolerance||0,e=b.ytolerance||b.tolerance||0):d=e=0;var f=10,h=b.min,i=a(h);isFinite(i[0])&&isFinite(i[1])&&c.addPoint(i);var j;return this.eachStep(b,function(b){j=a(b),g.subsampleParametricRecursive(a,h,i,b,j,f,c,d,e),h=b,i=j}),c.getSegments()},subsampleParametricRecursive:function(a,c,d,e,f,h,i,j,k){if(e===c)return;var l=b.mean(c,e),m=a(l,!0),n=isFinite(d[0])&&isFinite(d[1]),o=isFinite(f[0])&&isFinite(f[1]),p=isFinite(m[0])&&isFinite(m[1]);if(h===0||l===c||l===e){i.breakSegment(),o&&i.addPoint(f);return}if(!n&&!o)return;if(n!=o){var q=c,r=e,s=d,t=f;while(c!==l&&l!==e)p==n?(c=l,d=m,n=p):(e=l,f=m,o=p),l=c+(e-c)/2,m=a(l,!0),p=isFinite(m[0])&&isFinite(m[1]);n?(g.subsampleParametricRecursive(a,q,s,c,d,h-1,i,j,k),i.breakSegment()):(i.breakSegment(),i.addPoint(f),g.subsampleParametricRecursive(a,e,f,r,t,h-1,i,j,k));return}if(n&&p&&o){var u=b.pointToSegmentParameter(m[0],m[1],d[0],d[1],f[0],f[1]);if(u>.2&&u<.8&&Math.abs(m[0]-(d[0]+u*(f[0]-d[0])))<=j&&Math.abs(m[1]-(d[1]+u*(f[1]-d[1])))<=k){i.addPoint(f);return}}(d[0]!==m[0]||d[1]!==m[1])&&g.subsampleParametricRecursive(a,c,d,l,m,h-1,i,j,k),(f[0]!==m[0]||f[1]!==m[1])&&g.subsampleParametricRecursive(a,l,m,e,f,h-1,i,j,k)},validateViewState:function(a){if(!a)return!1;var b=a.viewport.xmin,c=a.viewport.xmax,d=a.viewport.ymin,e=a.viewport.ymax;return c>b?e>d?a.screen.width>0?a.screen.height>0?!0:!1:!1:!1:!1},computeDomain:function(a,b,c){var f=a.viewport.xmin,h=a.viewport.xmax,i=a.viewport.ymin,j=a.viewport.ymax,k=a.oversample||4,l=1/k*(h-f)/a.screen.width,m=1/k*(j-i)/a.screen.height,n=b.isLinear,o;switch(b.graphMode){case d.X:o={min:i,max:j,xtolerance:m,ytolerance:l,step:n?j-i:m};break;case d.Y:o={min:f,max:h,xtolerance:l,ytolerance:m,step:n?h-f:l};break;case d.POLAR:o={min:0,max:2*Math.PI/e._angleMultiplier*6,step:2*Math.PI/e._angleMultiplier/1e3,tolerance:Math.min(l,m)};var p=g.findPiPeriod(c,o,b.operator==="=");p&&(o.max=o.min+p);break;case d.PARAMETRIC:o={min:b.domain.min,max:b.domain.max,step:b.domain.step,xtolerance:l,ytolerance:m}}return o},classifyBranchConic:function(a){if(!f.get("conic"))return;var c,d;if(a.length===1&&a[0].length===4)return"line";for(var e=0;e<a.length;e++){var g=a[e],h=g.length;if(h<12)return"unknown";try{d=b.classifyConic(g[0],g[1],g[2*Math.floor(1*h/12)],g[2*Math.floor(1*h/12)+1],g[2*Math.floor(2*h/12)],g[2*Math.floor(2*h/12)+1],g[2*Math.floor(3*h/12)],g[2*Math.floor(3*h/12)+1],g[2*Math.floor(4*h/12)],g[2*Math.floor(4*h/12)+1],g[h-2],g[h-1])}catch(i){return"unknown"}if(d==="none")return"none";if(c&&d!==c)return"none";c=d}return c},computeGraphData:function(a,b,e){var f=g.computeDomain(a,b,e);if(!f)return[];var h,i;switch(b.graphMode){case d.X:case d.Y:h=g.sampleXY(e,f);break;case d.POLAR:h=g.samplePolar(e,f);break;case d.PARAMETRIC:f.step||(f.step=(f.max-f.min)/1e3),h=g.sampleParametricRecursive(e,f)}var j=[];b.graphMode!==d.PARAMETRIC&&(j=c.findPOIs(h,e),h=g.interleaveExtrema(h,j));if(b.graphMode===d.X)for(var k in j){if(!j.hasOwnProperty(k))continue;i=j[k].y,j[k].y=j[k].x,j[k].x=i}var l={segments:h,graphMode:b.graphMode,color:b.color,style:b.style,operator:b.operator,poi:j,conic:g.classifyBranchConic(h),expr:null};return[l]},interleaveExtrema:function(a,b){var c=a.length,d,e=Array(c),f,g,h=b.extrema,i=0,j=h.x.length;for(var k=0;k<c;k++){d=a[k],g=d.length,f=[];for(var l=0;l<g;l+=2){while(i<j&&h.x[i]<=d[l])h.x[i]!==d[l]&&f.push(h.x[i],h.y[i]),i++;f.push(d[l],d[l+1])}e[k]=f}return e},polygonsFromSegments:function(a,b,c){var d=function(a){var b=a[a.length-1];return b[b.length-2]},e=[],f=0,h=0,i=[],j=[],k=-Infinity,l=-Infinity;for(;;){if(k<=l){if(f>=b.length)break;j.push(b[f++])}if(l<=k){if(h>=a.length)break;i.push(a[h++])}k=d(j),l=d(i),k==l&&(e.push(g.polygonFromSegments(i,j,c)),j=[],i=[])}return e},polygonFromSegments:function(a,b,c){var e,f,g,h,i=[],j;switch(c){case d.POLAR:j=this.mapPolar;break;case d.X:j=function(a){return[a[1],a[0]]}}for(e=0;e<a.length;e++){h=a[e];for(f=0;f<h.length;f+=2)g=[h[f],h[f+1]],j&&(g=j(g)),i.push(g[0],g[1])}for(e=b.length-1;e>=0;e--){h=b[e];for(f=h.length-2;f>=0;f-=2)g=[h[f],h[f+1]],j&&(g=j(g)),i.push(g[0],g[1])}return i}};return g}),define("main/fake_i18n",["require","underscore"],function(a){var b=a("underscore"),c=function(a,c){return b.each(c,function(b,c){a=a.split("__"+c+"__").join(b)}),a},d=function(){};return{t:c,init:d}}),define("math/evaluationstate",["require","pjs","graphing/graphmode","math/comparators"],function(a){var b=a("pjs"),c=a("graphing/graphmode"),d=a("math/comparators"),e=b(function(a){a.init=function(a,b,e){var f;this.error=a.error,this.is_graphable=e&&e.isGraphable(),this.is_graphable&&(f=a.graph_info.graphMode),this.is_evaluable=e&&e.isEvaluable(),this.is_evaluable&&(this.zero_values=e.getZeroValues()),this.is_point_list=f===c.XYPOINT||f===c.XYPOINT_MOVABLE,this.is_parametric=f===c.PARAMETRIC,this.is_shade_between=this.is_graphable&&!!e.shade_between,this.is_shade_between&&(this.shade_between_operators=e.getOperators()),this.is_double_inequality=this.is_shade_between&&e.getOperators().length==2,e?(this.operator=e.getOperator(),this.assignment=e.getAssignedVariable(),this.variables=e.getSlidableVariables(),this.simple_constant=e.getSliderValue(),this.is_inequality=this.is_double_inequality||d.table[this.operator].direction!==0):this.variables=[],this.is_slidable=!!a.slider,this.is_animatable=this.is_slidable&&!this.is_graphable,a.moveIds&&(this.move_ids=a.moveIds),this.is_tableable=this.is_graphable&&!this.is_parametric&&!e.is_solved_equation&&this.operator==="="&&!this.is_double_inequality;if(this.is_tableable){this.table_info=e.getTableInfo();var g=this.table_info.independent_variable;if(g==="y"||g==="theta")this.is_tableable=!1,delete this.table_info}}});return e}),define("graphing/columnmode",{POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"}),define("math/derivative",["require","./parser_util","./evalframe"],function(a){var b,c=a("./parser_util"),d=a("./evalframe"),e=c.DerivativeNode,f=c.ConstantNode,g=c.NegationNode,h=c.ParseNode,i=c.BinaryOperatorNode,j=c.FunctionNode,k=c.FunctionDeclarationNode,l=c.FunctionCallExponentNode,m=c.IdentifierNode,n=c.RepeatedOperatorNode,o=c.SummationNode,p=c.ChainedComparatorNode,q=c.PiecewiseNode,r=c.AssignmentNode;e.open(function(a){a.takeDerivative=function(a,b){var d;return this.freeOf(a,b)?f(0):(d=this.expression.takeDerivative(a,this.derivative_variable),d instanceof e?c.DerivativeNode(b,d):d.takeDerivative(a,b))},a.freeOf=function(a,b){return this.expression.freeOf(a,b)},a.substitute=function(a){var b=this.expression.takeDerivative(a,this.derivative_variable);if(b instanceof e){if(a.hasVariable(this.derivative_variable.identifier))throw"Can't substitute for derivative variable if derivative can't be taken symbolically";return e(this.derivative_variable,this.expression)}return b.substitute(a)}}),h.open(function(a){a.takeDerivative=function(a,b){return e(b,this)},a.freeOf=function(){return!1}}),b={},b.chain=function(a,b,c,d){return d.freeOf(a,b)?f(0):i.reduce("*",c,d.takeDerivative(a,b))},function(){var a,e,f=[],g=[];for(a=0;a<9;a++)f.push(m("a_{"+a+h.prototype.tmp()+"}")),g.push(RegExp("a_"+a,"g"));e=function(a){for(var b=0;b<f.length;b++)a=a.replace(g[b],f[b].toString());return a},b.substituteFn=function(a){var b=c.parse(e(a)),g=d();return function(a){var c,d=a.length;for(c=0;c<d;c++)g.setVariable(f[c].identifier,a[c]);return b.substitute(g)}}}(),i.reduce=function(a,b,c){switch(a){case"+":if(b instanceof f&&c instanceof f)return f(b.value+c.value);if(b instanceof f&&b.value===0)return c;if(c instanceof f&&c.value===0)return b;break;case"-":if(b instanceof f&&c instanceof f)return f(b.value-c.value);if(c instanceof f&&c.value===0)return b;break;case"*":if(b instanceof f&&c instanceof f)return f(b.value*c.value);if(b instanceof f&&b.value===1)return c;if(c instanceof f&&c.value===1)return b;break;case"/":if(c instanceof f&&c.value===1)return b;if(b instanceof f&&c instanceof f)return f(b/c);break;case"^":if(c instanceof f&&c.value===1)return b}return i(a,b,c)},g.reduce=function(a){return a instanceof f?f(-a.value):a instanceof g?a.expression:g(a)},i.open(function(a,c){var d=b.substituteFn("a_1*a_0^{a_1 - 1}"),e=b.substituteFn("a_0^{a_1}*\\ln(a_0)");a.takeDerivative=function(a,g){var h,j;if(this.freeOf(a,g))return f(0);h=this.args[0],j=this.args[1];switch(this.operator){case"+":return i.reduce("+",h.takeDerivative(a,g),j.takeDerivative(a,g));case"-":return i.reduce("-",h.takeDerivative(a,g),j.takeDerivative(a,g));case"*":return i.reduce("+",b.chain(a,g,j,h),b.chain(a,g,h,j));case"/":return i.reduce("/",i.reduce("-",b.chain(a,g,j,h),b.chain(a,g,h,j)),i.reduce("^",j,f(2)));case"^":return i.reduce("+",b.chain(a,g,d(this.args),h),b.chain(a,g,e(this.args),j));default:return c.takeDerivative.call(this,a,g)}},a.freeOf=function(a,b){return this.args[0].freeOf(a,b)&&this.args[1].freeOf(a,b)},a.substitute=function(a){return i.reduce(this.operator,this.args[0].substitute(a),this.args[1].substitute(a))}}),p.open(function(a){a.freeOf=function(a,b){return this.args.every(function(c){return c.freeOf(a,b)})},a.substitute=function(a){return p(this.comparators,this.args.map(function(b){return b.substitute(a)}))}}),f.open(function(a){a.takeDerivative=function(){return f(0)},a.freeOf=function(){return!0},a.substitute=function(){return this}}),j.open(function(a,c){var d,e,h,k,l={exp:["\\exp(a_0)"],sqrt:["\\frac{1}{2*\\sqrt{a_0}}"],sin:["\\angleMultiplier(1)*\\cos(a_0)"],cos:["-\\angleMultiplier(1)*\\sin(a_0)"],tan:["\\angleMultiplier(1)*(\\sec(a_0))^2"],arcsin:["\\frac{1}{\\angleMultiplier(1)*\\sqrt{1 - a_0^2}}"],arccos:["\\frac{-1}{\\angleMultiplier(1)*\\sqrt{1 - a_0^2}}"],arctan:["\\frac{1}{\\angleMultiplier(1)*(1 + a_0^2)}"],sinh:["\\cosh(a_0)"],cosh:["\\sinh(a_0)"],tanh:["(\\sech(a_0))^2"],arcsinh:["\\frac{1}{\\sqrt{a_0^2 + 1}}"],arccosh:["\\frac{1}{\\sqrt{a_0^2 - 1}}"],arctanh:["\\frac{1}{1 - a_0^2}"],factorial:["(a_0)!*\\polyGamma(0, a_0 + 1)"],floor:["\\left\\{ \\mod(a_0, 1) > 0: 0 \\right\\}"],ceil:["\\left\\{ \\mod(a_0, 1) > 0: 0 \\right\\}"],round:["\\left\\{ \\abs(\\mod(a_0, 1) - 0.5) > 0: 0 \\right\\}"],abs:["\\left\\{ \\abs(a_0) > 0: \\sign(a_0) \\right\\}"],sign:["\\left\\{ \\abs(a_0) > 0: 0 \\right\\}"],angleMultiplier:["0"],log:["\\left\\{a_0 > 0: \\frac{1}{a_0*\\ln(a_1)}\\right\\}","\\frac{-\\log_{a_1}(a_0)}{a_1*\\ln(a_1)}"],pow:["a_1*a_0^{a_1 - 1}","a_0^{a_1}*\\ln(a_0)"],nthroot:["a_0^{1/a_1 - 1}/a_1","-\\frac{a_0^{1/a_1}*\\ln(a_0)}{a_1^2}"],polyGamma:["0/0","\\polyGamma(1 + a_0, a_1)"],min:["\\left\\{ a_0 < a_1 : 1, a_0 > a_1 : 0 \\right\\}","\\left\\{ a_1 < a_0 : 1, a_1 > a_0 : 0 \\right\\}"],max:["\\left\\{ a_0 > a_1 : 1, a_0 < a_1 : 0 \\right\\}","\\left\\{ a_1 > a_0 : 1, a_1 < a_0 : 0 \\right\\}"],mod:["\\left\\{ \\abs(\\mod(a_0, a_1)) > 0: 1 \\right\\}","\\left\\{ \\mod(a_0/a_1, 1) > 0: -\\floor(a_0/a_1) \\right\\}"]},n={};(function(){var a,c=l,d=n,e=b.substituteFn;for(a in c){if(!c.hasOwnProperty(a))continue;d[a]=c[a].map(e)}})(),d=function(
a,b){n[b]=[function(b){return g.reduce(i.reduce("/",n[a][0](b),i.reduce("^",j(m(a),b),f(2))))}]},[["sin","csc"],["cos","sec"],["tan","cot"],["sinh","csch"],["cosh","sech"],["tanh","coth"]].forEach(function(a){d(a[0],a[1])}),e=function(a,b){n[b]=[function(b){return g.reduce(i.reduce("/",n[a][0]([i.reduce("/",f(1),b[0])]),i.reduce("^",b[0],f(2))))}]},[["arcsin","arccsc"],["arccos","arcsec"],["arctan","arccot"],["arcsinh","arccsch"],["arccosh","arcsech"],["arctanh","arccoth"]].forEach(function(a){e(a[0],a[1])}),h=function(){return f(NaN)},k=function(a){n[a]=[h,h]},["lcm","gcd","nCr","nPr","mcm","mcd"].forEach(k),["quadraticFormula","quadraticInequalityRegions"].forEach(k),a.takeDerivative=function(a,d){function l(c,e){return e<0?c:l(i.reduce("+",c,b.chain(a,d,h[e](g),g[e])),e-1)}var e,g,h,j,k;if(this.freeOf(a,d))return f(0);e=this.identifier.identifier,g=this.args;if(n.hasOwnProperty(e))h=n[e];else{if(!a.hasFunction(e))return this.args.length===1&&a.hasVariable(e)?i("*",this.identifier,this.args[0]).takeDerivative(a,d):c.takeDerivative.call(this,a,d);h=a.getFunctionTree(e).computePartials(a)}return j=g.length,k=b.chain(a,d,h[j-1](g),g[j-1]),l(k,this.args.length-2)},a.freeOf=function(a,b){return this.args.every(function(c){return c.freeOf(a,b)})&&this.identifier.freeOf(a,b)},a.substitute=function(a){return j(this.identifier,this.args.map(function(b){return b.substitute(a)}))}}),k.open(function(a){a.computePartials=function(a){var b=this;return b.args.map(function(c){var e=b.expression.takeDerivative(a,c);return function(c){var f,g,h=d(a),i=d(a);for(g=0;g<b.args.length;g++)f=m(b.tmp()),h.setVariable(b.args[g].identifier,f),i.setVariable(f.identifier,c[g]);return e.substitute(h).substitute(i)}})}}),l.open(function(a){a.takeDerivative=function(a,b){return this.getEquivalentNode(a).takeDerivative(a,b)},a.freeOf=function(a,b){return this.getEquivalentNode(a).freeOf(a,b)},a.substitute=function(a){return l(this.identifier.substitute(a),this.arg.substitute(a),this.exponent.substitute(a))}}),m.open(function(a){a.takeDerivative=function(a,b){return b.identifier===this.identifier?f(1):a.hasVariable(this.identifier)?a.getVariable(this.identifier).takeDerivative(a,b):f(0)},a.freeOf=function(a,b){return b.identifier===this.identifier?!1:a.hasVariable(this.identifier)?a.getVariable(this.identifier).freeOf(a,b):!0},a.substitute=function(a){return a.hasVariable(this.identifier)?a.getVariable(this.identifier).substitute(a):this}}),g.open(function(a){a.takeDerivative=function(a,b){return this.freeOf(a,b)?f(0):g.reduce(this.expression.takeDerivative(a,b))},a.freeOf=function(a,b){return this.expression.freeOf(a,b)},a.substitute=function(a){return g.reduce(this.expression.substitute(a))}}),q.open(function(a){a.takeDerivative=function(a,b){var c;return this.freeOf(a,b)?f(0):(c=q(this.condition,this.if_expr.takeDerivative(a,b)),this.else_expr&&c.append_else(this.else_expr.takeDerivative(a,b)),c)},a.freeOf=function(a,b){return this.else_expr?this.condition.freeOf(a,b)&&this.if_expr.freeOf(a,b)&&this.else_expr.freeOf(a,b):this.condition.freeOf(a,b)&&this.if_expr.freeOf(a,b)},a.substitute=function(a){var b=q(this.condition.substitute(a),this.if_expr.substitute(a));return this.else_expr&&b.append_else(this.else_expr.substitute(a)),b}}),n.open(function(a){a.freeOf=function(a,b){return this.index.freeOf(a,b)&&this.lower_bound.freeOf(a,b)&&this.upper_bound.freeOf(a,b)&&this.summand.freeOf(a,b)},a.substitute=function(a){var b,c=this.index,e=d(a),f=m(this.tmp());return e.setVariable(c.identifier,f),b=this.constructor,b(f,this.lower_bound.substitute(a),this.upper_bound.substitute(a),this.summand.substitute(e))}}),o.open(function(a){a.takeDerivative=function(a,b){return this.freeOf(a,b)?f(0):o(this.index,this.lower_bound,this.upper_bound,this.summand.takeDerivative(a,b))}}),function(){var a=function(a,b){return this.expression.takeDerivative(a,b)};r.open(function(b){b.substitute=function(a){return r(this.assigns,this.expression.substitute(a))},b.expressionDerivative=a}),k.open(function(b){b.substitute=function(a){return k(this.assigns,this.args,this.expression.substitute(a))},b.expressionDerivative=a})}();return}),define("math/evaluatorobject",["require","underscore","pjs","main/fake_i18n","./parser_util","./plotter","./comparators","./evalframe","./quadratic","./evaluationstate","graphing/graphmode","graphing/columnmode","./derivative"],function(a){function A(a){var b,c=[],d=[],e=a.length;for(b=0;b<e;b++)c.push(a[b][0]),d.push(a[b][1]);return{defined:{x:c,y:d}}}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=a("underscore"),q=a("pjs"),r=a("main/fake_i18n"),s=a("./parser_util"),t=a("./plotter"),u=a("./comparators"),v=a("./evalframe"),w=a("./quadratic"),x=a("./evaluationstate"),y=a("graphing/graphmode"),z=a("graphing/columnmode");return a("./derivative"),b={name:"ERROR"},c={name:"WARNING"},d={name:"EVALUABLE"},e={name:"GRAPHABLE"},f={name:"SILENT"},g={},h=s.ConstantNode,i=s.IdentifierNode,j=s.ErrorNode,k=s.BinaryOperatorNode,l=q(function(a){a.init=function(a){this._context=a,this._analysis=null,this.compiler=a.compiler},a.exportDefinitionsTo=function(a){},a.getAllIds=function(){return[]},a.cleanupId=function(a){throw"base analysis object can't cleanup ID"},a.invalidate=function(){this._analysis=null},a.getAnalysis=function(){return this._analysis||this._context.updateAnalysis(),this._analysis},a.setAnalysis=function(a){this._analysis=a},a.shouldIntersect=function(){return!1},a.isEvaluable=function(){return this.getAnalysis().status==d},a.isGraphable=function(){return this.getAnalysis().status==e},a.isGraphed=function(){return this.isGraphable()},a.graphModeFromVariables=function(a,b){return b==="x"||a==="y"?y.X:b==="r"&&a==="theta"||b==="r"&&a===undefined||b===undefined&&a==="theta"?y.POLAR:y.Y},a.setGraphMode=function(a,b,c){return c==="y"&&!b&&(b="x"),c==="x"&&!b&&(b="y"),c==="r"&&!b&&(b="theta"),a||(a=this.graphModeFromVariables(b,c)),this._analysis.graph_info={color:this._statement.color,style:this._statement.style,graphMode:a,independent:b,dependent:c,operator:this.getOperator(),domain:this._statement.domain},e},a.computeGraphData=function(a){},a.getStatus=function(){return this.getAnalysis().status},a.getAssignedVariable=function(){return null},a.compile=function(){return undefined},a.getSlidableVariables=function(){return[]},a.getSliderValue=function(){return NaN},a.getZeroValues=function(){return[]},a.addFreeVariables=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(this._analysis.free_variables.indexOf(c)>-1)continue;this._analysis.free_variables.push(c)}}}),m=q(l,function(a,c){a.init=function(a,b,d){c.init.call(this,a),this._statement=b,this._tree=d,this.id=b.id,this.color=b.color,this.style=b.style,this.domain=b.domain},a.isGraphed=function(){return this.isGraphable()&&this._statement.shouldGraph},a.getAllIds=function(){return[this.id]},a.getGraphInfo=function(){return this._analysis.graph_info},a.shouldIntersect=function(){if(!this.isGraphed())return!1;var a=this.getGraphInfo().graphMode;return a===y.Y||a===y.X},a.computeGraphData=function(a){var b={},c=this._context.getFrame(),d=this.compile(c);d.fn.derivative=this.compileDerivative(c).fn;var e=this._analysis.graph_info,f=this._tree.polynomialOrder(c,e.independent);return f===1&&(e.isLinear=!0),b[this.id]=t.computeGraphData(a,e,d.fn),b[this.id][0].compiled=d,b},a.getEvaluationState=function(){return x(this._analysis,this._context,this)},a.computeStatus=function(){return this.markError(r.t("Unimplemented status check"))},a.getZeroValues=function(){return[{val:this._tree.evaluateOnce(this._context.getFrame()),operator:"="}]},a.referencesSymbol=function(a){return this._tree.references(a)},a.referencedSymbols=function(a){return this._tree._referencedSymbols},a.getSlidableVariables=function(){var a=this._analysis.free_variables,b=[];for(var c=0;c<a.length;c++){var d=a[c];if(this._context.assignmentForbidden(d))continue;if(this._analysis.hasOwnProperty("solution")&&d==this._analysis.solution.variable)continue;b.push(d)}return b},a.exportedSymbols=function(){var a={};return this._tree.assigns&&(a[this._tree.assigns.identifier]=this._tree.arity),a},a.exportDefinitionsTo=function(a,b){if(!this._tree.assigns)return;var c=this._tree.assigns.identifier;if(this._context.assignmentForbidden(c))return;this._tree.exportDefinitionsTo(a,this.compiler),a.setDefinitionId(c,b)},a.shadowedSymbols=function(){return[]},a.getDependencies=function(){return this._tree.dependencies()},a.getType=function(){return this._tree.statementType},a.freeVariablesError=function(a){for(var b=0;b<a.length;b++){if(this._context.assignmentForbidden(a[b]))continue;var c=r.t("Too many free variables to graph.  Try defining '__variable__'",{variable:a[b]});return this.markError(c)}return this.markError(r.t("Too many free variables.  I don't know what to do with this"))},a.getParseError=function(){return this._tree.valid?undefined:this._tree.error_msg},a.markError=function(a){return this._analysis.error=a,this._analysis.status=b,b},a.evaluateOnce=function(a){return this._tree.evaluateOnce(a)},a.evalStrings=function(a){return this._tree.getEvalStrings(a)},a.compileAllBranches=function(a){return[this.compile(a)]},a.compile=function(a){var b=this.compile_to_strings(a,this.independent_variable());return b.fn=this.compiler.compile(b.args,b.function_string),b},a.compileDerivative=function(a){var b=this.independent_variable(),c=i(b),d;this._tree.expressionDerivative?d=this._tree.expressionDerivative(a,c):d=this._tree.takeDerivative(a,c);var e=m(this._context,this._statement,d),f=e.compile_to_strings(a,b);return f.fn=this.compiler.compile(f.args,f.function_string),f},a.independent_variable=function(){if(this._analysis.status===e)return this._analysis.graph_info.independent;if(this._analysis.free_variables.length===1)return this._analysis.free_variables[0]},a.compile_to_strings=function(a,b){var c=this._tree.getEvalStrings(a),d=c.statements+"return "+c.expression;return{args:[b],function_string:d}},a.getOperator=function(){return"="},a.getTableInfo=function(){return undefined},a.getTableInfo=function(){return{independent_variable:this._analysis.graph_info.independent,dependent_column:this._tree.getInputString(),by_reference:!1}}}),g[EXPRESSION]=q(m,function(a){a.computeStatus=function(){var a=this._analysis.free_variables;if(a.length===0)return d;if(a.length===1)switch(a[0]){case"x":return this.setGraphMode(y.Y,"x");case"y":return this.markError(r.t("Maybe you wanted to plot x as a function of y?"));case"r":case"theta":return this.markError(r.t("Maybe you wanted to plot r as a function of θ?"));default:return this.markError(r.t("Maybe you wanted to plot x or y as a function of __variable__ ?",{variable:a[0]}))}return this.freeVariablesError(a)}}),g[FUNCTION_DEFINITION]=q(m,function(a,b){a.init=function(a,c,d){b.init.call(this,a,c,d),this.arity=this._tree.arity},a.shadowedSymbols=function(){return this._tree.passed_variables},a.computeStatus=function(){if(this._tree.arity===1)return this._tree.assigns.identifier===this._tree.passed_variables[0]?this.markError(r.t("You can't use __identifier__ as both the function name and the argument",this._tree.assigns.identifier)):this._analysis.free_variables.length>0?this.markError(r.t("Every variable you use in the function must be defined.  Either define __variable__or pass it in as an argument",{variable:this._analysis.free_variables[0]})):this.setGraphMode(undefined,this._tree.passed_variables[0],this._tree.assigns.identifier);if(this._tree.arity>1)return c},a.addFreeVariables=function(a){var b,c,d=this._tree.passedVariables();for(b=0;b<a.length;b++){c=a[b];if(d.indexOf(c)>-1)continue;if(this._analysis.free_variables.indexOf(c)>-1)continue;this.markError(r.t("Every variable you use in the function must be defined.  Either define '__variable__' or pass it in as an argument",{variable:c})),this._analysis.free_variables.push(c)}},a.conflictError=function(a){var b=r.t("'__symbol__' is already defined, so you can't reuse it as one of the parameters of this function",{symbol:a});return this.markError(b)},a.getTableInfo=function(){return this._context.assignmentForbidden(this._tree.assigns.identifier)?{independent_variable:this._analysis.graph_info.independent,dependent_column:this._tree.expression.getInputString(),by_reference:!1}:{independent_variable:this._analysis.graph_info.independent,dependent_column:this._tree.getInputString(),by_reference:!0}},a.getSlidableVariables=function(){var a,b,c=this._analysis.free_variables,d=[];for(a=0;a<c.length;a++){b=c[a];if(this._context.assignmentForbidden(b))continue;d.push(b)}return d}}),g[VARIABLE_DEFINITION]=q(m,function(a,b){a.computeStatus=function(){var a,b=this._tree.assigns.identifier,c=this._analysis.free_variables;return b==="theta"?this.markError(r.t("Sorry - can't graph θ as a function of anything yet")):c.length===0?(a=this._tree.expression instanceof h,a&&(this._analysis.slider=!0),"xyr".indexOf(b)!==-1?this.setGraphMode(undefined,undefined,b):a?f:d):c.length===1?c[0]===b?this.markError(r.t("Cannot define __variable__ in terms of itself."),{variable:c[0]}):c[0]==="r"?this.markError(r.t("Maybe you wanted to plot r as a function of θ?")):this.setGraphMode(undefined,c[0],b):this.freeVariablesError(c)},a.getAssignedVariable=function(){return this._tree.assigns.identifier},a.getSliderValue=function(){return this._tree.expression instanceof h?this._tree.evaluateOnce():b.getSliderValue()},a.getTableInfo=function(){return this._context.assignmentForbidden(this._tree.assigns.identifier)?{independent_variable:this._analysis.graph_info.independent,dependent_column:this._tree.expression.getInputString(),by_reference:!1}:{independent_variable:this._analysis.graph_info.independent,dependent_column:this._analysis.graph_info.dependent,by_reference:!0}}}),g[IDENTIFIER]=q(m,function(a){a.computeStatus=function(){var a=this._analysis.free_variables;return a.length===1&&a[0]==="x"?this.setGraphMode(y.Y,"x"):a.length>0?f:d}}),g[CONSTANT]=q(m,function(a){a.computeStatus=function(){return f},a.getSliderValue=function(){return this._tree.evaluateOnce()}}),g[ORDERED_PAIR_LIST]=q(m,function(a,b){a.computeMovable=function(a){var b,c,d=this;if(d._analysis.status!=e)return;if(d._analysis.free_variables.length!==0)return;if(d._tree.elements.length!==1)return;c=[undefined,undefined],d._tree.elements[0].children.forEach(function(e,f){var g;if(!(e instanceof i))return;g=a.getDefinitionId(e.identifier);if(g===undefined)return;if(!d._context.statements[g]._analysis.slider)return;b=!0,c[f]=g}),b&&(d._analysis.movable=!0,d._analysis.graph_info.graphMode===y.XYPOINT&&(d._analysis.graph_info.graphMode=y.XYPOINT_MOVABLE),c[1]===c[0]&&(c[1]=undefined),d._analysis.moveIds=c)},a.computeStatus=function(){var a=this._analysis.free_variables;if(a.length===0)return this.setGraphMode(y.XYPOINT);if(a.length===1)return a[0]==="t"&&this._tree.elements.length==1?this.setGraphMode(y.PARAMETRIC,"t"):this.markError(r.t("Define '__variable__' to plot this point, or make each coordinate a function of 't' to plot it as a parametric function",{variable:a[0]}));if(a.length>1)return this.freeVariablesError(a)},a.getSlidableVariables=function(){var a=b.getSlidableVariables.call(this),c=a.indexOf("t");return c>-1&&a.splice(c,1),a},a.computeGraphData=function(a){var b,c,d,e,f=this._analysis.graph_info,g={};return f.graphMode===y.XYPOINT||f.graphMode===y.XYPOINT_MOVABLE?(b=this._tree.evaluateOnce(this._context.getFrame()),c={segments:[b],graphMode:f.graphMode,color:this._statement.color,style:this._statement.style,poi:A(b)},g[this.id]=[c],g):(d=this.compile(this._context.getFrame()),e=function(a){return d.fn(a)[0]},g[this.id]=t.computeGraphData(a,f,e),g)},a.getTableInfo=function(){var a=this._tree.evaluateOnce(this._context.getFrame());return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:a}}}),g[DOUBLE_INEQUALITY]=q(m,function(a,b){a.init=function(a,c,d){var e,f;b.init.call(this,a,c,d),this._inequalities=[];for(e=0;e<2;e++)f=d.getInequality(e),this._inequalities.push(g[COMPARATOR](a,c,f))},a.shade_between=!0,a.computeStatus=function(a){var b,c;for(b=0;b<2;b++)this._inequalities[b].setAnalysis({free_variables:this._analysis.free_variables});return c=this._inequalities.map(function(b){return b._analysis.status=b.computeStatus(a),b._analysis.status}),c[0]===e&&c[1]===e?(this._analysis.graph_info=this._inequalities[0]._analysis.graph_info,this._analysis.graph_info.graphMode===y.POLAR?this.markError(r.t("Two-sided inequalities are only supported for x and y.  You can do one-sided polar inequalities.")):e):this.markError(r.t("One or more sub-inequality had an error"))},a.computeGraphData=function(a){var b,c,d,e,f,g=this.id,h={};h[g]=[],b=function(a){a.operator=u.get(u.table[a.operator].inclusive,0)};for(c=0;c<2;c++)d=this._inequalities[c].computeGraphData(a)[g].slice(0,4),d.forEach(b),h[g].push.apply(h[g],d);return e=h[g][0].graphMode,f=t.polygonsFromSegments(h[g][4].segments,h[g][0].segments,e),h[g].push({graphMode:y.POLYGONFILL,segments:f,poi:{}}),f=t.polygonsFromSegments(h[g][7].segments,h[g][3].segments,e),h[g].push({graphMode:y.POLYGONFILL,segments:f,poi:{}}),h},a.compileAllBranches=function(a){var b,c=[];for(b=0;b<2;b++)c.push.apply(c,this._inequalities[b].compileAllBranches(a));return c},a.getOperators=function(){return[this._inequalities[0].getOperator(),this._inequalities[1].getOperator()]}}),g[EQUATION]=q(m,function(a,b){a.init=function(a,c,d){b.init.call(this,a,c,d),this.temp_tree=k("-",this._tree.lhs,this._tree.rhs)},a.is_solved_equation=!0,a.computeStatus=function(a){var b,c,e,f=this._analysis.free_variables;if(f.length>2)return this.freeVariablesError(f);if(f.length===2)return f[0]==="x"&&f[1]==="y"||f[0]==="y"&&f[1]==="x"?(b=this.temp_tree.polynomialOrder(a,"x"),c=this.temp_tree.polynomialOrder(a,"y"),c<=2?this.setGraphMode(y.Y,"x","y"):b<=2?this.setGraphMode(y.X,"y","x"):this.markError(r.t("Equation is too complicated.  One variable needs to be quadratic."))):this.markError(r.t("You can only plot implicit equations of x and y"));if(f.length===1)return e=this.solveEvaluable(a),e?(this._analysis.solution=e,d):this.markError(r.t("Sorry - unable to solve this equation.  Try something like a quadratic?"));if(f.length===0)return this.markError(r.t("This equation has no variables in it - there's nothing to solve"))},a.solveEvaluable=function(a){var b,c,d,e;if(this._analysis.free_variables.length!=1)return!1;d=this._analysis.free_variables[0],e=this.temp_tree.polynomialOrder(a,d);switch(e){case 1:b=this.temp_tree.quadraticCoefficients(a,d),c=[-b[2]/b[1]];break;case 2:b=this.temp_tree.quadraticCoefficients(a,d),c=w.formula(b);break;default:return!1}return{roots:c,variable:d}},a.getZeroValues=function(){var a,b=[],c=this._analysis.solution.roots;for(a=0;a<c.length;a++)b.push({val:c[a],operator:"="});return b},a.getAssignedVariable=function(){switch(this._analysis.status){case d:return this._analysis.solution.variable;case e:return this._analysis.graph_info.dependent}},a.computeGraphData=function(a){var b,c,d={},e=this.compileAllBranches(this._context.getFrame()),f=this._analysis.graph_info;d[this.id]=[];for(b=0;b<e.length;b++)c=t.computeGraphData(a,f,e[b].fn)[0],c.compiled=e[b],d[this.id].push(c);return d},a.compileAllBranches=function(a){var b,c=[],d=this._analysis.graph_info.independent,e=this._analysis.graph_info.dependent,f=this.temp_tree.polynomialEvalStrings(a,e,d),g=w.formulaEvalStrings(f),h=[d];for(b=0;b<g.length;b++)c.push({fn:this.compiler.compile(h,g[b]),args:h,function_string:g[b]});return c}}),g[COMPARATOR]=q(m,function(a,b){a.init=function(a,c,d){var e;b.init.call(this,a,c,d),e=this._tree.operator,u.table[e].direction===1?this.temp_tree=k("-",this._tree.args[0],this._tree.args[1]):this.temp_tree=k("-",this._tree.args[1],this._tree.args[0])},a.getDependencies=function(){var a=this._tree.dependencies();return p.isEqual(a,{r:0,theta:0})?(this.addFreeVariables(["r","theta"]),[]):p.isEqual(a,{r:0})?(this.addFreeVariables(["r"]),[]):a},a.computeStatus=function(a){var b,c,e,f,g,h,i,j,k=this._analysis.free_variables;if(k.length===0)return d;b={x:!0,y:!0,r:!0},c=k[0],e=k[1];if(k.length===1)return b.hasOwnProperty(c)?(f=this.temp_tree.polynomialOrder(a,c),c==="r"&&f>1?this.markError(r.t("We only plot polar inequalities that are first order in r.")):f>2?this.markError(r.t("Equation too complicated. One variable needs to be quadratic")):this.setGraphMode(undefined,undefined,c)):this.markError(r.t("We only plot inequalities of x and y, or r and theta"));j={x:"y",y:"x",r:"theta",theta:"r"};if(k.length===2)return j[c]!==e?this.markError(r.t("We only plot inequalities of x and y, or r and theta")):c==="r"||e==="r"?(i=this.temp_tree.polynomialOrder(a,"r"),i>1?this.markError(r.t("We only plot polar inequalities that are first order in r.")):this.setGraphMode(y.POLAR,"theta","r")):(g=this.temp_tree.polynomialOrder(a,"x"),h=this.temp_tree.polynomialOrder(a,"y"),h<=2?this.setGraphMode(y.Y,"x","y"):g<=2?this.setGraphMode(y.X,"y","x"):this.markError(r.t("Equation is too complicated.  One variable needs to be quadratic.")))},a.computeGraphData=function(a){var b,c,d,e={},f=this.compileAllBranches(this._context.getFrame()),g=this._analysis.graph_info,h=this._tree.operator,i=e[this.id]=[],j=[-1,0,0,1];for(c=0;c<4;c++)b=t.computeGraphData(a,g,f[c].fn)[0],b.compiled=f[c],b.operator=u.get(u.table[h].inclusive,j[c]),i.push(b);return d=t.polygonsFromSegments(i[1].segments,i[2].segments,i[1].graphMode),i.push({graphMode:y.POLYGONFILL,segments:d,poi:{}}),e},a.compileAllBranches=function(a){var b,c=[],d=this._analysis.graph_info.independent,e=this._analysis.graph_info.dependent,f=this.temp_tree.polynomialEvalStrings(a,e,d),g=w.inequalityRegionEvalStrings(f),h=[d];for(b=0;b<g.length;b++)c.push({fn:this.compiler.compile(h,g[b]),args:h,function_string:g[b]});return c},a.getOperator=function(){return this._tree.operator},a.getSlidableVariables=function(){return b.getSlidableVariables.call(this).filter(function(a){return a!=="r"})}}),g[CHAINED_COMPARATOR]=q(m,function(a){a.computeStatus=function(){var a=this._analysis.free_variables;return a.length===0?d:this.markError(r.t("We only graph solved double inequalities. Try sin(x) < y < cos(x)."))}}),n=q(l,function(a,c){a.init=function(a,b){c.init.call(this,a),this._description=b,this.id=b.id,this.ids_to_clean=[],this.columns=[],this.cell_tree=[];for(var d=0;d<this._description.columns.length;d++){this._description.columns[d].latex===""&&d>0&&(this._description.columns[d].latex="\\emptycolumn_"+d);var e=o(this._context,this._description.columns[d]);this.columns.push(e),this.cell_tree[d]=[];var f=this._description.columns[d].values;for(var g=0;g<f.length;g++){if(f[g].trim()===""){this.cell_tree[d][g]=j("");continue}this.cell_tree[d][g]=s.tryParse(f[g])}}if(this.columns[0]._tree&&this.columns[0]._tree instanceof i){this.shadowed_symbols=[this.columns[0]._tree.identifier];var h=this.shadowed_symbols[0];h==="y"&&(this.parse_error=r.t("Sorry - can't make a table based on y yet.  Try x?")),h==="r"&&(this.parse_error=r.t("Sorry - can't make a table based on r yet.  Try x?"))}else this.parse_error=r.t("Tables need a single variable for their first independent column"),this.shadowed_symbols=[]},a.isGraphed=function(){return!0},a.cleanupId=function(a){this.ids_to_clean.push(a)},a.getAllIds=function(){var a=[this.id];for(var b=0;b<this.columns.length;b++)a.push(this.columns[b].id);return a},a.exportedSymbols=function(){return[]},a.shadowedSymbols=function(){return this.shadowed_symbols},a.getDependencies=function(){var a={},b;for(var c=0;c<this.columns.length;c++){var d=this.columns[c].getDependencies();for(b in d){if(!d.hasOwnProperty(b))continue;a[b]=d[b]}for(var e=0;e<this.cell_tree[c].length;e++){var f=this.cell_tree[c][e],g=f.dependencies();for(b in g)a[b]=g[b]}}return a},a.referencesSymbol=function(a){for(var b=0;b<this.columns.length;b++){if(this.columns[b].referencesSymbol(a))return!0;for(var c=0;c<this.cell_tree[b].length;c++)if(this.cell_tree[b][c].references(a))return!0}return!1},a.getParseError=function(){return this.parse_error?this.parse_error:this.columns[0].getParseError()},a.computeStatus=function(a){if(this.getParseError())return b;for(var c=0;c<this.columns.length;c++){this.columns[c]._analysis.free_variables=[];var d=this.columns[c].getDependencies();for(var f in d){if(!d.hasOwnProperty(f))continue;var g=d[f];g<=1&&!a.defines(f)&&this.columns[c].addFreeVariables([f])}this.columns[c]._analysis.status=this.columns[c].computeStatus(a)}return e},a.invalidate=function(){c.invalidate.call(this),this.columns.forEach(function(a){a.invalidate()})},a.setAnalysis=function(a){c.setAnalysis.call(this,a),this.columns.forEach(function(a){a.setAnalysis({})})},a.getEvaluationState=function(){var a,b=this._description.columns[0].values.length,c=[],d,e=[],f=v(this._context.getFrame()),g=v(this._context.getFrame()),j=v(this._context.getFrame()),k,l;for(var m=0;m<this.columns.length;m++){var n=!1,o=!1;k=null;if(this.columns[m]._tree instanceof i){d=this.columns[m]._tree.identifier,f.defines(d)||(n=!0);if(m===0){n||(k=r.t("First column must be independent"));if(d==="y"||d=="theta"||d=="r")k=r.t("We don't do the right thing for tables with independent __symbol__ yet",{symbol:d});k||g.setVariable(d,h(0))}k||f.setVariable(d,h(0)),e[m]=d}if(!n){k=this.columns[m].getParseError();if(!k){try{a=this.columns[m].evaluateOnce(g),o=!0}catch(p){o=!1}try{a=this.columns[m].evaluateOnce(f),typeof a!="number"&&(k=a)}catch(p){k=p}}}this.columns[m].getParseError()&&(this.error=this.columns[m].getParseError());var q=[];if(!k)for(var s=0;s<b;s++){j=v(this._context.getFrame());for(var t=0;t<m;t++)if(!c[t].dependent&&!c[t].error){var u=c[t].values[s];typeof u=="number"&&j.setVariable(e[t],h(u))}if(n){var w=this.cell_tree[m][s];if(w.hasOwnProperty("error_msg"))l=w.error_msg;else try{l=w.evaluateOnce(j)}catch(p){l=p}}else try{l=this.columns[m].evaluateOnce(j)}catch(p){l=""}q.push(l)}var x={dependent:!n,discrete:!o,error:k,values:q};c.push(x)}return c},a.computeGraphData=function(a){var b,c,g,h,i,j,k=this.getEvaluationState(),l={};while(this.ids_to_clean.length)l[this.ids_to_clean.pop()]={};for(var m=1;m<k.length;m++){var n=this._description.columns[m];b=this.columns[m].id,k[m].error&&(l[b]={}),l[b]=[];var o=n.columnMode,p=o===z.POINTS||o===z.POINTS_AND_LINES,q=o===z.LINES||o===z.POINTS_AND_LINES,r=n.hidden;if(p&&!r){var s=[];for(h=0;h<k[0].values.length;h++)c=k[0].values[h],g=k[m].values[h],typeof c=="number"&&typeof g=="number"&&s.push([c,g]);j={segments:[s],graphMode:y.XYPOINT,poi:A(s),color:n.color,style:n.style},l[b].push(j)}if(q&&!r&&k[m].discrete){var u=t.Accumulator();for(h=0;h<k[0].values.length;h++)c=k[0].values[h],g=k[m].values[h],typeof c=="number"&&typeof g=="number"?u.addPoint([c,g]):u.breakSegment();j={segments:u.getSegments(),graphMode:y.PARAMETRIC,poi:[],color:n.color,style:n.style},l[b].push(j)}if(q&&!r&&!k[m].discrete){if(this.columns[m].getStatus()===e){var v=this.columns[m].computeGraphData(a);if(v[b].length!==1)throw"Programming error - graphData for table columns must be singleton";l[b].push(v[b][0])}if(this.columns[m].getStatus()===d||this.columns[m].getStatus()===f)try{i=this.columns[m].evaluateOnce(this._context.getFrame());var w={graphMode:y.Y,independent:"x",dependent:"y",operator:"="},x=this.compileConstantFunction(i),B=t.computeGraphData(a,w,x.fn);B[0].compiled=x;if(B.length!==1)throw"Programming error - graphData for table columns must be singleton";l[b].push(B[0])}catch(C){}}}return l},a.compileConstantFunction=function(a){var b={args:[],function_string:"return "+String(a)};return b.fn=new Function(b.args,b.function_string),b},a.getGraphInfo=function(){return{graphMode:y.Y}},a.shouldIntersect=function(){return!0},a.compileAllBranches=function(a){return this.columns.slice(1).filter(function(a){return a.getStatus()===e}).map(function(b){return b.compile(a)})}}),o=function(a,b){switch(b.type){case"table":return n(a,b);case"statement":case undefined:var c=s.tryParse(b.latex),d=g[c.statementType];return d(a,b,c);default:throw"Unrecognized statement type "+b.type}},{createAnalysisObject:o,status:{ERROR:b,WARNING:c,EVALUABLE:d,GRAPHABLE:e,SILENT:f}}}),define("math/functions",["require","underscore","pjs"],function(a){var b=a("underscore"),c=a("pjs"),d=c(function(a){a.init=function(){var a={};this.compile=function(c,d){var e=new Function(c,d);return b.bind(e,a)},this.register=function(b,c){a[b]=c}},a.dehydrateGraphData=function(a){for(var b=0;b<a.length;b++)a[b].compiled&&delete a[b].compiled.fn},a.rehydrateGraphData=function(a){for(var b=0;b<a.length;b++)a[b].compiled&&(a[b].compiled.fn=this.compile(a[b].compiled.args,a[b].compiled.function_string))},a.updateFromFunctionMap=function(a){for(var b in a){if(!a.hasOwnProperty(b))continue;this.register(b,a[b])}},a.updateFromSourceMap=function(a){for(var b in a){if(!a.hasOwnProperty(b))continue;var c=a[b];this.register(b,this.compile(c.args,c.source))}}});return d}),define("math/evaluatorcontext",["require","pjs","underscore","./plotter","./evalframe","./evaluatorobject","./poi","./functions","config","graphing/graphmode","main/fake_i18n"],function(a){var b=a("pjs"),c=a("underscore"),d=a("./plotter"),e=a("./evalframe"),f=a("./evaluatorobject"),g=a("./poi"),h=a("./functions"),i=a("config"),j=a("graphing/graphmode"),k=a("main/fake_i18n"),l=b(function(a){a.triggerGraphComputed=function(){},a.triggerStatusChange=function(){},a.triggerRemoveGraph=function(){},a.triggerRender=function(){},a.triggerRenderSlowly=function(){},a.triggerDidAddStatement=function(){},a.triggerDidRemoveStatement=function(){},a.triggerDidSetCompleteState=function(){},a.triggerDidSetDegreeMode=function(){},a.triggerDidUpdateIntersections=function(){},a.triggerDidUpdateFunctionMap=function(){},a.init=function(a){a||(a=e()),this.parent_frame=a,this.statements={},this.analysis=null,this.current_state={},this.dirty={},this.graph_changed=[],this.compiler=h(),this.intersectIds={};var b=a.functionMap();for(var c in b)this.compiler.register(c,b[c])},a.eachStatement=function(a){for(var b in this.statements)a.apply(this,[this.statements[b]])},a.processChangeSet=function(a){var b,c;a.isCompleteState&&(this.statements={},this.invalidate()),a.viewState&&this.setViewState(a.viewState),a.hasOwnProperty("degreeMode")&&this.setDegreeMode(a.degreeMode),a.hasOwnProperty("intersectIds")&&(this.intersectIds=a.intersectIds);if(a.statements)for(var d in a.statements){var e=a.statements[d];if(e===null){!a.isCompleteState&&this.statements.hasOwnProperty(d)&&(b=this.statements[d].getAllIds()),this.removeStatement(d);if(!a.isCompleteState&&b){for(var f=0;f<b.length;f++)this.triggerRemoveGraph(b[f]);this.triggerDidRemoveStatement(d)}}else this.addStatement(e),a.isCompleteState||this.triggerDidAddStatement(e)}a.hasOwnProperty("intersectId")&&this.updateIntersections(a.intersectId),a.isCompleteState&&(this.triggerDidSetCompleteState(a.statements),c=this.triggerRender,this.triggerRender=this.triggerRenderSlowly,this.publishing_paused=!1),this.publishChanges(),a.isCompleteState&&(this.triggerRender=c)},a.setViewState=function(a){if(c.isEqual(a,this.viewState))return;this.viewState=a,this.invalidate()},a.setDegreeMode=function(a){this.parent_frame.setDegreeMode(a),this.invalidate(),this.triggerDidSetDegreeMode(a)},a.publishing_paused=!1,a.changes_pending=!1,a.pausePublishing=function(){this.publishing_paused=!0},a.resumePublishing=function(){this.publishing_paused=!1,this.changes_pending&&this.publishChanges()},a.publishChanges=function(){if(this.publishing_paused){this.changes_pending=!0;return}this.changes_pending=!1,this.publishAllStatuses(),d.validateViewState(this.viewState)&&this.graphAllChanged()},a.publishAllStatuses=function(){var a={},b=this.current_state;this.current_state={},this.eachStatement(function(c){var d=c.id,e=this.getEvaluationState(d);JSON.stringify(e)!==JSON.stringify(b[d])&&(a[d]=e),this.current_state[d]=e}),this.triggerStatusChange(a)},a.graphAllChanged=function(){if(!this.graph_changed.length)return;var a=this.viewState,b,c;for(c=0;c<this.graph_changed.length;c++){b=this.graph_changed[c];if(!this.statements.hasOwnProperty(b))continue;this.statements[b].isGraphed()?this.graph(b,a):this.triggerRemoveGraph(b)}var d={};for(c=0;c<this.graph_changed.length;c++)d[this.graph_changed[c]]=!0;this.graph_changed=[];for(b in this.intersectIds){if(!this.intersectIds.hasOwnProperty(b))continue;if(d.hasOwnProperty(b))continue;this.updateIntersections(b)}this.triggerRender()},a.graph=function(a,b){if(!b)return;var c=this.statements[a],d=c.computeGraphData(b);if(this.intersectIds.hasOwnProperty(a)&&c.shouldIntersect()&&d.hasOwnProperty(a)){var e=this.findSomeIntersectionsWith(a);for(var f=0;f<e.intersections.length;f++)d[a][f].poi.intersections=e.intersections[f];e.streamRest()}for(var g in d)this.triggerGraphComputed(g,d[g])},a.updateIntersections=
function(a){var b=this.statements[a];if(!b||!b.shouldIntersect()){this.triggerDidUpdateIntersections(a,[]);return}this.findSomeIntersectionsWith(a).streamRest()};var b={};a.findSomeIntersectionsWith=function(a){this.cancelIntersectionStreaming(a);var c=20,e=60,f=this,h=Array.prototype.push,i=f.statements[a],k=i.getGraphInfo(),l=k.graphMode,m=f.statements[a].compileAllBranches(f.getFrame()),n=d.computeDomain(f.viewState,k,null),o=[];for(var p in f.statements){if(!f.statements.hasOwnProperty(p))continue;if(String(p)===String(a))continue;o.push(f.statements[p])}var q=[];for(var r=0;r<m.length;r++)q[r]={x:[],y:[],intersects:[]};var s=o.length-1,t=!1,u=function(){var i=new Date,k=!1,p,r,v,w,x,y,z;for(s;s>=0;s--){if(new Date-i>c){if(!t)return;b[a]=setTimeout(u,e);if(!k)return;f.triggerDidUpdateIntersections(a,q);return}w=o[s];if(!w.shouldIntersect())continue;if(w.getGraphInfo().graphMode!==l)continue;x=w.compileAllBranches(f.getFrame());for(var A=0;A<m.length;A++){p=m[A].fn;for(var B=0;B<x.length;B++){r=x[B].fn,z=d.sampleXY(function(a){return r(a)-p(a)},n),v=g.findIntersections(z,p,r),v.x.length&&(k=!0),v.intersects=Array(v.x.length);for(var C=0,D=v.x.length;C<D;C++)v.intersects[C]=w.id;l===j.X&&(y=v.y,v.y=v.x,v.x=y),h.apply(q[A].x,v.x),h.apply(q[A].y,v.y),h.apply(q[A].intersects,v.intersects)}}}if(!t||!k)return;f.triggerDidUpdateIntersections(a,q),f.cancelIntersectionStreaming(a)};return u(),{intersections:q,streamRest:function(){f.triggerDidUpdateIntersections(a,q),t=!0,u()}}},a.cancelIntersectionStreaming=function(a){clearTimeout(b[a]),delete b[a]},a.cancelAllIntersectionStreaming=function(){for(var a in b[a]){if(!b.hasOwnProperty(a))continue;this.cancelIntersectionStreaming(a)}},a.addStatement=function(a){if(!a)return;var b=a.id;this.markDirty(b);var c;this.statements.hasOwnProperty(b)&&(c=this.statements[b].getAllIds()),this.statements[b]=f.createAnalysisObject(this,a);if(c)for(var d=0;d<c.length;d++){var e=c[d];e!=b&&this.statements[b].cleanupId(e)}this.markClean(a.id),this.markDirty(a.id)},a.removeStatement=function(a){if(!this.statements.hasOwnProperty(a))return;this.markDirty(a),delete this.statements[a]},a.recompute=function(){this.invalidate(),this.publishChanges()},a.invalidate=function(){this.analysis=null,this.current_state={},this.cancelAllIntersectionStreaming()},a.markDirty=function(a){if(this.dirty[a])return;this.dirty[a]=!0,this.cancelIntersectionStreaming(a);if(!this.statements[a])return;for(var b in this.statements[a].exportedSymbols())this.markSymbolDirty(b)},a.markSymbolDirty=function(a){if(this.assignmentForbidden(a))return;this.eachStatement(function(b){b.referencesSymbol(a)&&this.markDirty(b.id)})},a.markClean=function(a){delete this.dirty[a]},a.isDirty=function(a){return this.dirty.hasOwnProperty(a)},a.getFrame=function(){return this.getAnalysis().frame},a.getAnalysis=function(){return this.updateAnalysis(),this.analysis},a.getType=function(a){return this.statements[a].getType()},a.updateAnalysis=function(){if(this.hasOwnProperty("partial_analysis"))throw"Programming error - two overlapping call to updateAnalysis";var a=[],b;if(this.analysis){for(b in this.dirty)a.push(b);if(a.length===0)return}else for(b in this.statements)a.push(b);delete this.analysis,this.partial_analysis={};var c=this.partial_analysis;try{c.frame=e(this.parent_frame),this.eachStatement(function(a){var b=a.id;c[b]={},a.setAnalysis(c[b]);var d=a.getParseError();d&&(c[b].error=d)}),c.assignments=this.analyzeAssignments(),this.markVariableConflicts(c.assignments),this.analyzeDependencies(c);for(var d=0;d<c.dependencyOrder.length;d++)b=c.dependencyOrder[d],this.statements[b].exportDefinitionsTo(c.frame,b);this.graph_changed=a,this.dirty={};var f=c.frame.leafFunctionMap();for(var g in f)this.compiler.register(g,f[g]);this.triggerDidUpdateFunctionMap(c.frame),this.analyzeStatus(c),i.get("dragpoints")&&this.analyzeMovable(c),this.analysis=this.partial_analysis}catch(h){this.invalidate()}finally{delete this.partial_analysis}},a.evaluateOnce=function(a){if(!this.statements.hasOwnProperty(a))throw"Statement "+a+" not defined";return this.statements[a].evaluateOnce(this.getFrame())},a.compile=function(a){return this.statements[a].compile(this.getFrame())},a.evalStrings=function(a){return this.statements[a].evalStrings(this.getFrame())},a.analyzeStatus=function(a){this.eachStatement(function(b){var c=b.id,d=this.partial_analysis[c];d.error&&(d.status=f.status.ERROR);if(d.status)return;d.status=b.computeStatus(a.frame)})},a.assignmentForbidden=function(a){return a==="x"||a==="y"||a==="theta"},a.getStatus=function(a){return this.getAnalysis()[a]===undefined?undefined:this.getAnalysis()[a].status},a.getEvaluationState=function(a){return this.getAnalysis(),this.statements[a].getEvaluationState()},a.analyzeAssignments=function(){var a={};return this.eachStatement(function(b){var c=b.exportedSymbols();for(var d in c){if(this.assignmentForbidden(d))continue;if(this.parent_frame&&this.parent_frame.defines(d)){b.markError(k.t("Cannot redefine __symbol__",{symbol:d}));continue}a.hasOwnProperty(d)||(a[d]=[]),a[d].push({id:b.id,arity:c[d]})}}),a},a.markVariableConflicts=function(a){this.eachStatement(function(b){var c=b.shadowedSymbols();for(var d=0;d<c.length;d++){var e=c[d];a.hasOwnProperty(e)&&b.conflictError(e)}})},a.analyzeDependencies=function(a){var b=[],c=[],d={},e={};for(var f in this.statements){var g=a[f];g.free_variables=[];if(!this.statements.hasOwnProperty(f))continue;var h=this.statements[f].getDependencies();d[f]=0;for(var i in h){if(!h.hasOwnProperty(i))continue;var j=h[i];if(this.parent_frame){if(j<=1&&this.parent_frame.hasVariable(i))continue;if(j>=1&&this.parent_frame.hasFunctionWithArity(i,j))continue}var l=a.assignments[i];if(this.parent_frame&&this.parent_frame.defines(i)){var m=this.parent_frame.arity(i);m===0&&(g.error=k.t("Cannot call constant __dependency__ as a function",{dependency:i})),m>0?g.error=k.t("__dependency__ is a function that requires __real_arity__ arguments",{dependency:i,real_arity:m}):g.error=k.t("Something has gone wrong.  Please report this to desmos.com support");continue}if(!l||l.length===0)j<=1?this.statements[f].addFreeVariables([i]):g.error=k.t("Function __dependency__ isn't defined. Try defining it in a new expression",{dependency:i});if(l&&l.length===1){var n=l[0].arity;if(n===j||n===0&&j===1)e.hasOwnProperty(i)||(e[i]=[]),e[i].push(f),d[f]++;else if(n===0)g.error=k.t("'__dependency__' is a variable, so can't be used as a function",{dependency:i});else if(n==1)g.error=k.t("Function '__dependency__' requires an argument. ",{dependency:i})+k.t("For example, try typing: __dependency__(x)",{dependency:i});else{var o=[];for(var p=0;p<n;p++)o[p]=p+1;var q=i+"("+o.join(", ")+")";g.error=k.t("Function '__dependency__' requires __assignment_arity__ arguments. ",{dependency:i,assignment_arity:n})+k.t("For example, try typing: __recommendation__",{recommendation:q})}}l&&l.length>1&&(g.error=k.t("'__dependency__' is defined more than once. Try deleting all but one definition of '__dependency__'",{dependency:i}))}d[f]===0&&c.push(f)}while(c.length){var r=c.pop();if(a[r].error)continue;b.push(r);var s=this.statements[r].exportedSymbols();for(var t in s){var u=e[t];if(!u)continue;while(u.length){var v=u.pop();this.statements[v].addFreeVariables(a[r].free_variables),d[v]--,d[v]===0&&(delete d[v],c.push(v))}}}for(f in d)d.hasOwnProperty(f)&&d[f]!==0&&(a[f].unresolved=!0,a[f].error=k.t("Circular dependency"));a.dependencyOrder=b},a.analyzeMovable=function(a){this.eachStatement(function(b){b.computeMovable&&b.computeMovable(a.frame)})}});return l}),define("worker/workercore",["require","math/evaluatorcontext","math/builtinframe","math/derivative"],function(a){var b=a("math/evaluatorcontext"),c=a("math/builtinframe");return a("math/derivative"),function(a){var d=b(c);return d.triggerGraphComputed=function(b,c){var d;for(d=0;d<c.length;d++)c[d].compiled&&delete c[d].compiled.fn;a("graphComputed",{id:b,graphData:c})},d.triggerDidUpdateIntersections=function(b,c){a("updateIntersections",{id:b,intersections:c})},d.triggerDidUpdateFunctionMap=function(b){a("updateFunctionMap",b.leafFunctionSourceMap())},d.triggerRender=function(){a("render")},d.triggerRenderSlowly=function(){a("renderSlowly")},d.triggerRemoveGraph=function(b){a("removeGraph",b)},d.triggerDidSetDegreeMode=function(b){a("setDegreeMode",b)},d.triggerStatusChange=function(b){a("statusChange",b)},{processChangeSet:function(b){d.processChangeSet(b),a("processChangeSet",b)}}}}),define("worker/worker",["require","worker/workercore"],function(a){function d(a,b){self.postMessage({type:a,payload:b})}var b=a("worker/workercore"),c=b(d);self.window=self,self.console={},self.console.log=function(a){d("log",a)},self.onmessage=function(a){c.processChangeSet(a.data)},self.loadMessageQueue&&self.loadMessageQueue.forEach(function(a){self.onmessage(a)})}),typeof requirejs=="undefined"&&(importScripts("../vendor/underscore.js"),importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(a){self.loadMessageQueue.push(a)},requirejs(["worker/worker"]),define("toplevel/worker",function(){});